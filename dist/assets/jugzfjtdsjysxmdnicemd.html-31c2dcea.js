import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as i,a as n,d as a,b as e,e as t}from"./app-1c5b5ce3.js";const l={},u={href:"https://mp.weixin.qq.com/s/CljCSezUgoBXb-T9wbIGww",target:"_blank",rel:"noopener noreferrer"},r=n("strong",null,"1300 å¤šå",-1),k={href:"https://mp.weixin.qq.com/s/CljCSezUgoBXb-T9wbIGww",target:"_blank",rel:"noopener noreferrer"},d=t('<h2 id="æ”¯ä»˜ä¸­å¿ƒå­˜åœ¨çš„ç›®çš„" tabindex="-1"><a class="header-anchor" href="#æ”¯ä»˜ä¸­å¿ƒå­˜åœ¨çš„ç›®çš„" aria-hidden="true">#</a> æ”¯ä»˜ä¸­å¿ƒå­˜åœ¨çš„ç›®çš„</h2><p>æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿå¯¹å†…ä¸ºå„ä¸ªä¸šåŠ¡çº¿æä¾›ç»Ÿä¸€çš„æ”¯ä»˜ã€é€€æ¬¾ç­‰æœåŠ¡ï¼Œå¯¹å¤–å¯¹æ¥ä¸‰æ–¹æ”¯ä»˜æˆ–é“¶è¡ŒæœåŠ¡å®ç°èµ„é‡‘çš„æµè½¬ã€‚å¦‚ä¸‹å›¾ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-9c32842a-41fd-4f1a-a123-a92404293f60.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¤§éƒ¨åˆ†å…¬å¸åŸºæœ¬éƒ½æ˜¯è¿™æ ·çš„æ¶æ„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢çš„ä¼˜ç‚¹ï¼š</p><ol><li>å½¢æˆç»Ÿä¸€æ”¯ä»˜æœåŠ¡ï¼Œé™ä½ä¸šåŠ¡çº¿æ¥å…¥æˆæœ¬åŠé‡å¤ç ”å‘æˆæœ¬ã€‚</li><li>æ›´å¥½æ›´å¿«çš„æ”¯æŒåˆ›æ–°ä¸šåŠ¡ï¼Œä¸ºå…¬å¸ä¸šåŠ¡å¿«é€Ÿå‘å±•æä¾›æ¡ä»¶ã€‚</li><li>æ›´åˆ©äºæ„å»ºå®‰å…¨ï¼Œç¨³å®šï¼Œå¯æ‰©å±•çš„æ”¯ä»˜ç³»ç»Ÿã€‚</li><li>åˆ©äºæ ¸å¿ƒæ”¯ä»˜æ•°æ®çš„æ²‰æ·€å’Œç»Ÿä¸€åˆ©ç”¨ã€‚</li></ol>',5),m={href:"https://www.mdnice.com/writing/81727aec77394ee2a9c99f029cc212e6",target:"_blank",rel:"noopener noreferrer"},g=t(`<h2 id="æ”¯ä»˜æµç¨‹" tabindex="-1"><a class="header-anchor" href="#æ”¯ä»˜æµç¨‹" aria-hidden="true">#</a> æ”¯ä»˜æµç¨‹</h2><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-e71f752f-0e51-41e4-8cc5-b451c7ba2b92.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸Šå›¾å±•ç¤ºäº†ç”¨æˆ·æ”¯ä»˜çš„ä¸»è¦æµç¨‹ï¼Œåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p><ol><li>ç”¨æˆ·åœ¨ä¸šåŠ¡è®¢å•ç¡®è®¤é¡µï¼Œå”¤èµ·æ”¶é“¶å°é¡µé¢ã€‚</li><li>ç”¨æˆ·åœ¨æ”¶é“¶å°é¡µé¢é€‰æ‹©æ”¯ä»˜æ–¹å¼ï¼Œç¡®è®¤æ”¯ä»˜ï¼Œæ˜¾ç¤ºç¬¬ä¸‰æ–¹æ”¯ä»˜é¡µé¢ï¼Œè¾“å…¥å¯†ç ï¼Œè¿›è¡ŒçœŸå®æ”¯ä»˜è¡Œä¸ºã€‚</li><li>ç³»ç»Ÿå¤„ç†ç”¨æˆ·æ”¯ä»˜ç»“æœï¼Œå¹¶é€šçŸ¥ç»™ç”¨æˆ·åŠå„ä¸ªç›¸å…³ç³»ç»Ÿã€‚</li></ol><p>ä¸‹é¢è¯¦ç»†è¯´ä¸‹è¿™ä¸‰ä¸ªæ­¥éª¤ï¼š</p><h3 id="_1-å”¤èµ·å•†æˆ·æ”¶é“¶å°" tabindex="-1"><a class="header-anchor" href="#_1-å”¤èµ·å•†æˆ·æ”¶é“¶å°" aria-hidden="true">#</a> 1. å”¤èµ·å•†æˆ·æ”¶é“¶å°</h3><ol><li>ç”¨æˆ·åœ¨è®¢å•ç¡®è®¤é¡µç‚¹å‡»â€œå»æ”¯ä»˜â€œæŒ‰é’®ï¼Œè°ƒç”¨æ”¶é“¶å°æ”¯ä»˜ä¸‹å•æ¥å£ã€‚</li><li>æ”¶é“¶å°å°†è®¢å•ä¿¡æ¯ç¼“å­˜å¹¶å…¥åº“ï¼Œç„¶åå°†è®¢å•æ ‡è¯†æ‹¼è£…åˆ°æ”¶é“¶å°URLä¸Šè¿”å›ç»™è®¢å•ç³»ç»Ÿã€‚</li><li>è®¢å•ç³»ç»Ÿæ¥æ”¶åˆ°æ”¶é“¶å°åœ°å€è·³è½¬åˆ°æ”¶é“¶å°é¡µé¢ã€‚</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-3f1f54cf-6599-41ee-8785-bef138dec976.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-7a9d4ac8-605f-4d4c-983e-a995f35a6d12.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸Šå›¾å±•ç¤ºäº†ä¸¤ä¸ªä¸šåŠ¡çº¿ï¼ˆæ™¯åŒºä¸šåŠ¡çº¿ï¼Œé…’åº—ä¸šåŠ¡çº¿ï¼‰å”¤èµ·çš„æ”¶é“¶å°é¡µé¢ï¼Œå¤§æ¦‚å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p><p>é¡µé¢ä¸Šéƒ¨åˆ†æ˜¾ç¤ºçš„æ˜¯æ”¯ä»˜å‰©ä½™æ—¶é—´å’Œåº”ä»˜é‡‘é¢ï¼›</p><p>ä¸­é—´éƒ¨åˆ†æ˜¯è®¢å•ä¿¡æ¯ï¼Œæ ¹æ®æ”¶é“¶å°å®šä¹‰çš„æ•°æ®æ ¼å¼ï¼Œä¸šåŠ¡çº¿åŠ¨æ€ä¼ é€’è¿‡æ¥çš„ï¼›</p><p>å‰©ä½™éƒ¨åˆ†å±•ç¤ºçš„æ˜¯æ”¯ä»˜æ¸ é“ï¼Œæ”¯ä»˜æ¸ é“ä¹Ÿæ˜¯ä¸šåŠ¡çº¿æ ¹æ®è‡ªå·±çš„éœ€æ±‚åœ¨æ”¯ä»˜åå°ç®¡ç†ç³»ç»Ÿé…ç½®çš„ï¼Œæƒ³è¦å“ªäº›æ”¯ä»˜æ–¹å¼ä»¥åŠå®ƒä»¬çš„é¡ºåºéƒ½å¯ä»¥è‡ªå®šä¹‰ã€‚</p><h3 id="_2-ç”¨æˆ·ç¡®è®¤æ”¯ä»˜" tabindex="-1"><a class="header-anchor" href="#_2-ç”¨æˆ·ç¡®è®¤æ”¯ä»˜" aria-hidden="true">#</a> 2. ç”¨æˆ·ç¡®è®¤æ”¯ä»˜</h3><ol><li>ç”¨æˆ·åœ¨æ”¶é“¶å°é¡µé¢é€‰æ‹©æ”¯ä»˜æ–¹å¼ï¼ˆæ”¯ä»˜å®æ”¯ä»˜ï¼Œå¾®ä¿¡æ”¯ä»˜ï¼Œé“¶è¡Œå¡æ”¯ä»˜ç­‰ï¼‰ï¼Œç‚¹å‡»ç«‹å³æ”¯ä»˜æŒ‰é’®ï¼Œ</li><li>è°ƒç”¨æ”¯ä»˜ä¸­å¿ƒåˆ›å•æ¥å£ï¼Œæ”¯ä»˜ä¸­å¿ƒè°ƒç”¨ä¸‰æ–¹æ”¯ä»˜åˆ›å•æ¥å£ï¼ŒåŒæ­¥è¿”å›æ”¯ä»˜ä¿¡æ¯ï¼Œæ”¯ä»˜ä¸­å¿ƒå¯¹è¿”å›å‚æ•°è¿›è¡Œå¤„ç†ï¼Œè¿”å›ç»™æ”¶é“¶å°ï¼Œ</li><li>æ”¶é“¶å°æºå¸¦æ”¯ä»˜ä¸­å¿ƒè¿”å›çš„å‚æ•°ï¼Œè°ƒç”¨ä¸‰æ–¹æ¥å£ï¼Œå”¤èµ·ä¸‰æ–¹æ”¶é“¶å°ï¼Œ</li><li>ç”¨æˆ·è¾“å…¥å¯†ç ï¼Œç«‹å³æ”¯ä»˜ã€‚</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-a6680af0-0545-4201-a891-70a97d6f4ce0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-16e90ae5-35a4-4c62-8a4a-e00a4abb61a8.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-æ”¯ä»˜ç»“æœå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-æ”¯ä»˜ç»“æœå¤„ç†" aria-hidden="true">#</a> 3. æ”¯ä»˜ç»“æœå¤„ç†</h3><ol><li>ä¸‰æ–¹ç³»ç»Ÿè¿›è¡Œæ‰£æ¬¾å¤„ç†ï¼Œè¿”å›æ”¶é“¶å°ç»“æœï¼ˆç›®å‰å¾®ä¿¡æ”¯ä»˜è¿”å›æ”¯ä»˜ä¸­ï¼Œæ”¯ä»˜å®è¿”å›æ”¯ä»˜ç»ˆæ€ï¼ˆæ”¯ä»˜æˆåŠŸæˆ–æ”¯ä»˜å¤±è´¥ï¼‰ï¼‰ï¼Œ</li></ol><p><strong>ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œä¸åˆ†å…ˆåã€‚</strong></p><ol start="2"><li>æ”¶é“¶å°æ‹¿åˆ°ä¸‰æ–¹è¿”å›çš„ç»“æœï¼Œç¡®è®¤ç”¨æˆ·å·²ç»æ”¯ä»˜ï¼Œåˆ™åˆ†é…å®šæ—¶ä»»åŠ¡è½®è¯¢æŸ¥è¯¢ï¼ˆæ³¨æ„è¶…æ—¶æ—¶é—´ï¼‰åå°æ”¯ä»˜ç»“æœï¼Œæ‹¿åˆ°ç»ˆæ€ä¹‹åè·³è½¬åˆ°ç›¸åº”é¡µé¢ï¼Œ</li><li>ä¸‰æ–¹ç³»ç»Ÿæ”¯ä»˜æˆåŠŸåä¼šé€šçŸ¥æ”¯ä»˜ä¸­å¿ƒç»“æœï¼Œæ”¯ä»˜ä¸­å¿ƒåšå¥½è‡ªèº«é€»è¾‘å¤„ç†ï¼Œå¼‚æ­¥é€šçŸ¥è®¢å•ç³»ç»Ÿï¼Œç„¶åè¿”å›ä¸‰æ–¹ç³»ç»Ÿé€šçŸ¥ç»“æœï¼Œ</li><li>å¦‚æœé•¿æ—¶é—´æœªæ”¶åˆ°ä¸‰æ–¹æ”¯ä»˜ç»“æœçš„é€šçŸ¥ï¼Œä¸ºäº†é˜²æ­¢æ‰å•ï¼Œæ”¯ä»˜ä¸­å¿ƒä¼šå‘èµ·ä¸»åŠ¨æŸ¥è¯¢æ¥è·å–æ”¯ä»˜æœ€ç»ˆç»“æœï¼Œä»¥ä¿è¯æ”¯ä»˜ç»“æœçš„åŠæ—¶æ›´æ–°ã€‚</li><li>å½“ç„¶ä¸šåŠ¡çº¿è®¢å•ç³»ç»Ÿä¸ºäº†é˜²æ­¢æ”¯ä»˜ç³»ç»Ÿå‡ºç°å¼‚æ­¥é€šçŸ¥é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å®šæ—¶è½®è¯¢æ”¯ä»˜ä¸­å¿ƒçš„æ”¯ä»˜çŠ¶æ€ï¼Œé˜²æ­¢æ‰å•ã€‚ï¼ˆå›¾ä¸­æœªç”»ï¼‰</li></ol><h2 id="æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><h3 id="_1-æ”¯ä»˜è®¢å•è¶…æ—¶å…³é—­é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-æ”¯ä»˜è®¢å•è¶…æ—¶å…³é—­é—®é¢˜" aria-hidden="true">#</a> 1. æ”¯ä»˜è®¢å•è¶…æ—¶å…³é—­é—®é¢˜</h3><p>å¦‚æœç”¨æˆ·é•¿æ—¶é—´æ²¡æœ‰æ”¯ä»˜ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼ˆå¦‚ä¸Šå›¾å•†æˆ·æ”¶é“¶å°çš„æ”¯ä»˜å‰©ä½™æ—¶é—´ï¼‰ï¼Œåˆ°è¾¾è¿™ä¸ªè¶…æ—¶æ—¶é—´æ”¯ä»˜å•ä¼šè‡ªåŠ¨å…³é—­ã€‚å®ç°æ­¤éœ€æ±‚æœ‰å¾ˆå¤šæ–¹å¼ï¼Œæ¯”å¦‚ï¼š</p><h4 id="_1-è½®è¯¢-db" tabindex="-1"><a class="header-anchor" href="#_1-è½®è¯¢-db" aria-hidden="true">#</a> 1. è½®è¯¢ DB</h4><p>å®šæ—¶è½®è¯¢DBï¼Œå–å‡ºè¾¾åˆ°è¶…æ—¶æ—¶é—´ä¸”åœ¨æ”¯ä»˜ä¸­çš„æ•°æ®ï¼Œç„¶åæ‰§è¡Œå…³é—­é€»è¾‘ã€‚</p><p>ç¼ºç‚¹ï¼š1. å­˜åœ¨å»¶è¿Ÿï¼Œå–å†³äºå®šæ—¶ä»»åŠ¡çš„é¢‘ç‡ã€‚2. å½±å“æ•°æ®åº“æ€§èƒ½ã€‚</p><h4 id="_2-jdk-å»¶æ—¶é˜Ÿåˆ—-delayqueue-å’Œæ—¶é—´è½®ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_2-jdk-å»¶æ—¶é˜Ÿåˆ—-delayqueue-å’Œæ—¶é—´è½®ç®—æ³•" aria-hidden="true">#</a> 2. JDK å»¶æ—¶é˜Ÿåˆ—ï¼ˆDelayQueueï¼‰å’Œæ—¶é—´è½®ç®—æ³•</h4><p>è¿™ä¸¤ç§çš„ç®—æ³•çš„å®ç°æ–¹å¼è‡ªè¡Œæœç´¢ã€‚</p><p>å…±åŒçš„ç¼ºç‚¹æ˜¯ 1. æ•°æ®æ˜“ä¸¢å¤±ï¼Œç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒæœåŠ¡é‡å¯åæ•°æ®å…¨éƒ¨æ¶ˆå¤±ã€‚2. æœ‰å†…å­˜é™åˆ¶ï¼Œå¦‚æœæ•°æ®é‡è¿‡å¤§ï¼Œä¼šå‡ºç°OOMå¼‚å¸¸ã€‚</p><h4 id="_3-rocketmq-å»¶æ—¶é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#_3-rocketmq-å»¶æ—¶é˜Ÿåˆ—" aria-hidden="true">#</a> 3. RocketMQ å»¶æ—¶é˜Ÿåˆ—</h4><p>RocketMQ æ”¯æŒæ¶ˆæ¯å»¶æ—¶å‘é€ï¼Œç¤¾åŒºç‰ˆä¸æ”¯æŒä»»æ„ç­‰çº§çš„å»¶è¿Ÿï¼Œç›®å‰é»˜è®¤æ”¯æŒ18ä¸ªå»¶æ—¶ç­‰çº§ï¼š</p><div class="language-hljs line-numbers-mode" data-ext="hljs"><pre class="language-hljs"><code>1sÂ 5sÂ 10sÂ 30sÂ 1mÂ 2mÂ 3mÂ 4mÂ 5mÂ 6mÂ 7mÂ 8mÂ 9mÂ 10mÂ 20mÂ 30mÂ 1hÂ 2hÂ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¯”å¦‚æ”¯ä»˜å•30åˆ†é’Ÿè¿‡æœŸï¼Œåœ¨æ”¯ä»˜å•åˆ›å»ºæˆåŠŸåå‘é€å»¶è¿Ÿæ¶ˆæ¯ï¼ˆå»¶æ—¶ç­‰çº§ä¸º 16ï¼‰ï¼Œæ¶ˆè´¹è€…åœ¨30åˆ†é’Ÿåä¼šæ‹‰å–åˆ°è¯¥æ¶ˆæ¯ç„¶åæ‰§è¡Œå…³é—­é€»è¾‘ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-838b1274-4706-49bd-8563-5dac7a871068.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>RocketMQ å»¶æ—¶é˜Ÿåˆ—ï¼Œæ— è®ºåœ¨æ•°æ®å®‰å…¨æ€§å’ŒåŠæ—¶æ€§éƒ½æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯ç›®å‰ç¤¾åŒºç‰ˆæ²¡æœ‰æ”¯æŒä»»æ„çº§åˆ«çš„å»¶è¿Ÿã€‚</p><p>ç›®å‰æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ RocketMQ å»¶æ—¶é˜Ÿåˆ—å®ç°çš„è®¢å•å…³é—­ã€‚</p><h3 id="_2-ä¿è¯æ”¯ä»˜ç»“æœå®æ—¶æ€§" tabindex="-1"><a class="header-anchor" href="#_2-ä¿è¯æ”¯ä»˜ç»“æœå®æ—¶æ€§" aria-hidden="true">#</a> 2. ä¿è¯æ”¯ä»˜ç»“æœå®æ—¶æ€§</h3><p>ä¸‰æ–¹æ”¯ä»˜ç³»ç»Ÿæ”¯ä»˜æˆåŠŸå99.9%çš„æƒ…å†µä¸‹éƒ½ä¼šå›è°ƒé€šçŸ¥æˆ‘ä»¬ï¼Œä½†ä¹Ÿéš¾å…æœ‰æ„å¤–ï¼Œæ¯”å¦‚ä¸‰æ–¹å»¶è¿Ÿå›è°ƒæˆ–è€…ä¸‰æ–¹ç³»ç»Ÿå®•æœºï¼Œä¸ºäº†ä¿è¯æ”¯ä»˜ç»“æœçš„å®æ—¶æ€§ï¼Œä¸‰æ–¹æ”¯ä»˜ä¹Ÿè¦æ±‚æˆ‘ä»¬ä¸èƒ½å®Œå…¨ä¾èµ–äºå›è°ƒæ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®šæ—¶çš„è°ƒç”¨ä¸»åŠ¨æŸ¥è¯¢æ¥å£æ¥æŸ¥è¯¢ä¸‰æ–¹çš„æ”¯ä»˜ç»“æœã€‚è¿™é‡Œæˆ‘ä»¬ä¹Ÿæ˜¯ä½¿ç”¨çš„ RocketMQ å»¶æ—¶é˜Ÿåˆ—å®ç°çš„ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-427e4d4f-f1ba-4034-9cfe-232578d12820.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol><li>è°ƒç”¨ä¸‰æ–¹æ”¯ä»˜åˆ›å•æˆåŠŸåï¼Œå‘é€&lt;æ”¯ä»˜ä¸»åŠ¨æŸ¥è¯¢&gt;å»¶æ—¶MQæ¶ˆæ¯ã€‚</li><li>æ¶ˆè´¹æ¶ˆæ¯ï¼Œåˆ¤æ–­æ”¯ä»˜çŠ¶æ€æ˜¯å¦åˆ°è¾¾ç»ˆæ€ï¼Œå¦‚æœåˆ°è¾¾ç»ˆæ€ï¼Œåˆ™è¿”å›å¤„ç†æˆåŠŸï¼Œå¦åˆ™è°ƒç”¨ä¸‰æ–¹æ”¯ä»˜æŸ¥è¯¢æ¥å£ï¼Œå¦‚æœæ”¯ä»˜æˆåŠŸåˆ™å¤„ç†æˆåŠŸä¸šåŠ¡ï¼Œè¿”å›å¤„ç†æˆåŠŸã€‚</li><li>å¦‚æœå®¢æˆ·æœªæ”¯ä»˜åˆ™åˆ¤æ–­æ˜¯å¦è¾¾åˆ°æœ€å¤§çš„é‡è¯•æ¬¡æ•°ï¼Œå¦‚æœè¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åˆ™åœæ­¢&lt;æ”¯ä»˜ä¸»åŠ¨æŸ¥è¯¢&gt;çš„é‡è¯•ï¼Œå¦åˆ™è§£æé‡è¯•è§„åˆ™ï¼Œå‘é€ä¸‹ä¸€è½®çš„å»¶æ—¶æ¶ˆæ¯ã€‚</li></ol><p>æœ‰ä¸‰ä¸ªé‡è¦å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥æ”¾åˆ°é…ç½®ä¸­å¿ƒæˆ–è€…é…ç½®åº“ä¸­ï¼Œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// åˆå§‹å»¶è¿Ÿçº§åˆ«ï¼Œå¯¹åº”RocketMQå»¶æ—¶ç­‰çº§ï¼Œæ¯”å¦‚3å¯¹åº”çš„å»¶æ—¶æ—¶é—´å°±æ˜¯10s</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> queryInitLevel <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// é‡è¯•æ¬¡æ•°</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> queryCount <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

<span class="token comment">// é‡è¯•çº§åˆ«ï¼Œå¯¹åº”RocketMQå»¶æ—¶ç­‰çº§ï¼Œ5s,10s,30s,1m,10m,20m</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> queryDelayLevels <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ”¯ä»˜åˆ›å•æˆåŠŸåå‘é€å»¶æ—¶æ¶ˆæ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">payQueryTask</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderNo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">PayQueryMessage</span> payQueryMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PayQueryMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        payQueryMessage<span class="token punctuation">.</span><span class="token function">setOrderNo</span><span class="token punctuation">(</span>orderNo<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">RetryMessage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PayQueryMessage</span><span class="token punctuation">&gt;</span></span> retryMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RetryMessage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setTotalCount</span><span class="token punctuation">(</span>queryCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setDelayLevels</span><span class="token punctuation">(</span>queryDelayLevels<span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setTopic</span><span class="token punctuation">(</span><span class="token class-name">TopicConst</span><span class="token punctuation">.</span><span class="token constant">PAY_QUERY_TOPIC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setEventType</span><span class="token punctuation">(</span><span class="token class-name">RetryEventTypeEnum</span><span class="token punctuation">.</span><span class="token constant">PAY_QUERY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setEventDesc</span><span class="token punctuation">(</span><span class="token class-name">RetryEventTypeEnum</span><span class="token punctuation">.</span><span class="token constant">PAY_QUERY</span><span class="token punctuation">.</span><span class="token function">getDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>payQueryMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>

        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;{} - å‘é€æ¶ˆæ¯, retryMessage: {}&quot;</span><span class="token punctuation">,</span> <span class="token constant">LOG_DESC</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        rocketMqProducer<span class="token punctuation">.</span><span class="token function">asyncSend</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">.</span><span class="token function">getTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">CodeEnum</span><span class="token punctuation">.</span><span class="token function">codeOf</span><span class="token punctuation">(</span><span class="token class-name">RocketMQDelayLevelEnum</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> queryInitLevel<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">RocketMQDelayLevelEnum<span class="token punctuation">.</span>FiveSeconds</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">LOG_DESC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ¤æ–­çš„æ˜¯å¦ç»§ç»­æ‰§è¡Œä»»åŠ¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendDelayRetry</span><span class="token punctuation">(</span><span class="token class-name">RetryMessage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> retryMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> currentCount<span class="token punctuation">;</span>
        retryMessage<span class="token punctuation">.</span><span class="token function">setCurrentCount</span><span class="token punctuation">(</span>currentCount <span class="token operator">=</span> retryMessage<span class="token punctuation">.</span><span class="token function">getCurrentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// é‡è¯•è¾¾åˆ°æœ€å¤§æ¬¡æ•°</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>currentCount <span class="token operator">&gt;</span> retryMessage<span class="token punctuation">.</span><span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;{} - è¾¾åˆ°æœ€å¤§æ¬¡æ•°-{}, åœæ­¢é‡è¯•! retryMessage: {}&quot;</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getEventDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;{} - å‘é€é‡è¯•æ¶ˆæ¯-{}/{}, retryMessage: {}&quot;</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getEventDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getCurrentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">JsonUtil</span><span class="token punctuation">.</span><span class="token function">toJson</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> delayLevel <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">.</span><span class="token function">getDelayLevels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span>retryMessage<span class="token punctuation">.</span><span class="token function">getCurrentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rocketMqProducer<span class="token punctuation">.</span><span class="token function">asyncSend</span><span class="token punctuation">(</span>retryMessage<span class="token punctuation">.</span><span class="token function">getTopic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">,</span>
                <span class="token class-name">CodeEnum</span><span class="token punctuation">.</span><span class="token function">codeOf</span><span class="token punctuation">(</span><span class="token class-name">RocketMQDelayLevelEnum</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> delayLevel<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">RocketMQDelayLevelEnum<span class="token punctuation">.</span>FiveSeconds</span><span class="token punctuation">)</span><span class="token punctuation">,</span> retryMessage<span class="token punctuation">.</span><span class="token function">getEventDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;, å‘é€é‡è¯•æ¶ˆæ¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æ”¯ä»˜ç»“æœé€šçŸ¥ä¸Šæ¸¸å®¹é”™" tabindex="-1"><a class="header-anchor" href="#_3-æ”¯ä»˜ç»“æœé€šçŸ¥ä¸Šæ¸¸å®¹é”™" aria-hidden="true">#</a> 3. æ”¯ä»˜ç»“æœé€šçŸ¥ä¸Šæ¸¸å®¹é”™</h3><p>åœ¨å›è°ƒé€šçŸ¥ä¸Šæ¸¸ç³»ç»Ÿæ”¯ä»˜ç»“æœæ—¶ï¼Œå¯èƒ½ä¼šå›è°ƒå¤±è´¥ï¼Œæ¯”å¦‚ç½‘ç»œå¼‚å¸¸æˆ–ä¸Šæ¸¸ç³»ç»Ÿå‘ç”ŸçŸ­æ—¶æ•…éšœï¼Œå¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µæˆ‘ä»¬å•é ç®€å•çš„é‡è¯•æ˜¯æ— æ³•å®Œå…¨è§£å†³é—®é¢˜çš„ã€‚ä¸ºäº†å°½å¯èƒ½çš„é€šçŸ¥æˆåŠŸï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹æ²¡æœ‰é€šçŸ¥æˆåŠŸçš„æ•°æ®ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´é€šçŸ¥ä¸€æ¬¡ï¼Œé‚£è¿™ä¸ªéœ€æ±‚å’Œæˆ‘ä»¬ä¸Šä¸€ä¸ªé—®é¢˜å·®ä¸å¤šï¼Œæ‰€ä»¥å¯ä»¥å¤ç”¨æˆ‘ä»¬çš„å»¶æ—¶é‡è¯•æ¡†æ¶ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-2b24479e-6e4f-411a-9bd2-5041489fa2e5.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æµç¨‹å’Œ<code>ä¿è¯æ”¯ä»˜ç»“æœå®æ—¶</code>çš„å·®ä¸å¤šï¼Œä¸å†èµ˜è¿°ã€‚</p><h2 id="æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸­è®¾è®¡æ¨¡å¼çš„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸­è®¾è®¡æ¨¡å¼çš„åº”ç”¨" aria-hidden="true">#</a> æ”¯ä»˜ä¸­å¿ƒç³»ç»Ÿä¸­è®¾è®¡æ¨¡å¼çš„åº”ç”¨</h2><h3 id="æ¨¡æ¿æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ¿æ–¹æ³•" aria-hidden="true">#</a> æ¨¡æ¿æ–¹æ³•</h3><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ€æƒ³ï¼š<code>å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚</code>æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p><p>ç®€å•çš„ç†è§£å°±æ˜¯å®šä¹‰ä¸€ä¸ªæ¨¡ç‰ˆæ–¹æ³•ï¼Œç„¶åå­ç±»å®ç°æ¨¡ç‰ˆæ–¹æ³•ä¸­çš„æŠ½è±¡æ–¹æ³•å®ç°ä¸ªæ€§åŒ–çš„éœ€æ±‚ã€‚</p><p>å°±æ”¯ä»˜è€Œè¨€ï¼Œæ— è®ºä½•ç§æ”¯ä»˜äº§å“ï¼Œéƒ½æ˜¯èµ°çš„åŒä¸€ä¸ªæ”¯ä»˜æµç¨‹ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªæ”¯ä»˜æµç¨‹çš„æ¨¡æ¿ï¼Œç„¶åæ¯ç§æ”¯ä»˜äº§å“å®ç°è¿™ä¸ªæ¨¡æ¿ä¸­ç‰¹å®šæ­¥éª¤æ¥å®ç°è‡ªå·±çš„ç‰¹å®šéœ€æ±‚ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-20806632-6fb5-4428-9b73-6d4df9110c93.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥" aria-hidden="true">#</a> ç­–ç•¥</h3><p>ç­–ç•¥æ¨¡å¼ä¸»è¦æ€æƒ³ï¼š<code>å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚</code></p><p>åœ¨æ”¯ä»˜ç³»ç»Ÿä¸­ï¼Œæ”¯ä»˜ç»“æœä¸»åŠ¨æŸ¥è¯¢éœ€è¦æŸ¥è¯¢ä¸åŒçš„æ¸ é“ï¼Œæ¯”å¦‚æ”¯ä»˜å®ï¼Œå¾®ä¿¡ï¼Œé“¶è”ç­‰ï¼Œæ¯ä¸ªæ¸ é“æŸ¥è¯¢çš„æ–¹å¼å’Œå‚æ•°ä¸å°½ç›¸åŒï¼Œå¯ä»¥å°†æ¯ç§æ¸ é“æŸ¥è¯¢å°è£…æˆä¸åŒçš„ç­–ç•¥ç±»ï¼Œç„¶åæ ¹æ®æŸ¥è¯¢æ¡ä»¶æ¥è°ƒç”¨ä¸åŒçš„ç­–ç•¥ç±»ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-43eda189-64ab-48dd-a5ff-16680c2849ba.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æŸ¥è¯¢ç­–ç•¥æœ‰ä¸¤ä¸ªç­–ç•¥æ¥å£ï¼Œ<code>callChannel</code>åŠŸèƒ½æ˜¯ç»„è£…æŸ¥è¯¢å‚æ•°å’ŒæŸ¥è¯¢ä¸‰æ–¹ï¼Œ<code>execute</code> æ˜¯å¤„ç†ä¸‰æ–¹è¿”å›çš„ç»“æœç»Ÿä¸€ä¸ºæ”¯ä»˜ä¸­å¿ƒçŠ¶æ€ã€‚ï¼ˆå› <code>callChannel</code>æœ‰å…¶ä»–åœ°æ–¹å…±ç”¨æ‰€ä»¥åˆ†å¼€äº†ä¸¤ä¸ªæ–¹æ³•ï¼‰ã€‚</p><p>Spring ä¸‹ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œåœ¨é¡¹ç›®å¯åŠ¨æ—¶ï¼Œå°†æ‰€æœ‰çš„ç­–ç•¥ç±»åŠ è½½åˆ°Mapä¸­ï¼Œç„¶åä½¿ç”¨æ—¶ç›´æ¥åœ¨Mapä¸­è·å–ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PayQueryStrategyContext</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">PayQueryStrategy</span><span class="token punctuation">&gt;</span></span> payQueryStrategyMap <span class="token operator">=</span> <span class="token class-name">Maps</span><span class="token punctuation">.</span><span class="token function">newConcurrentMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PayQueryStrategyContext</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">PayQueryStrategy</span><span class="token punctuation">&gt;</span></span> payQueryStrategyMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>payQueryStrategyMap<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        payQueryStrategyMap<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>payQueryStrategyMap<span class="token operator">::</span><span class="token function">put</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">PayQueryStrategy</span> <span class="token function">getPayQuery</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">String</span> channelCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>payQueryStrategyMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">OperationTypeConst<span class="token punctuation">.</span>Pay_Query</span> <span class="token operator">+</span> channelCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p><strong>æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ</strong>ã€‚å…±å‹‰ ğŸ’ªã€‚</p>`,66),b={href:"https://mp.weixin.qq.com/s/pIuBh2EH5wrsQ3nLg4-H2Q",target:"_blank",rel:"noopener noreferrer"},h={href:"https://mp.weixin.qq.com/s/xB4SCTae_Tc-BvxpwwD5Dg",target:"_blank",rel:"noopener noreferrer"},f={href:"https://mp.weixin.qq.com/s/QCbt3RemlvJoAWEvtsaleA",target:"_blank",rel:"noopener noreferrer"},v={href:"https://mp.weixin.qq.com/s/MLsBUzoR7fjZIWQQzqQuWg",target:"_blank",rel:"noopener noreferrer"},y={href:"https://mp.weixin.qq.com/s/06g2wX97oZradMcKs_QaUQ",target:"_blank",rel:"noopener noreferrer"},_={href:"https://mp.weixin.qq.com/s/HlbP9yjuNuVDbpEZDspkcA",target:"_blank",rel:"noopener noreferrer"},j={href:"https://mp.weixin.qq.com/s/yns_tld3RTvtvwAYqsZ9zQ",target:"_blank",rel:"noopener noreferrer"},w={href:"https://mp.weixin.qq.com/s/k9R0B8pkU-Wahk4Vf1cgHQ",target:"_blank",rel:"noopener noreferrer"},x={href:"https://mp.weixin.qq.com/s/6eMGze7h7kI0GhG-dbxF7Q",target:"_blank",rel:"noopener noreferrer"},M={href:"https://mp.weixin.qq.com/s/zL5KE4phgSGb5p5k5Vp9UA",target:"_blank",rel:"noopener noreferrer"},q={href:"https://mp.weixin.qq.com/s/d_f-xtiieb3L5nDjySRO3w",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://mp.weixin.qq.com/s/DJMuTOH0qlr0ZTS80KD14A",target:"_blank",rel:"noopener noreferrer"},C={href:"https://mp.weixin.qq.com/s/q-o4SBZQ3SH62T0c52aBUw",target:"_blank",rel:"noopener noreferrer"},z={href:"https://mp.weixin.qq.com/s/LKkvcSdhMyXAGgtqEak0Zw",target:"_blank",rel:"noopener noreferrer"},S=n("figure",null,[n("img",{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/nice-article/other-jugzfjtdsjysxmdnicemd-dd1174d4-d141-4056-94cb-c1b523a69078.png",alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),E={href:"https://www.mdnice.com/writing/81727aec77394ee2a9c99f029cc212e6",target:"_blank",rel:"noopener noreferrer"};function D(R,L){const s=o("ExternalLinkIcon");return c(),i("div",null,[n("blockquote",null,[n("p",null,[n("a",u,[a("äºŒå“¥çš„ç¼–ç¨‹æ˜Ÿçƒ"),e(s)]),a("å·²ç»æœ‰ "),r,a(" çƒå‹åŠ å…¥äº†ï¼Œå¦‚æœä½ ä¹Ÿéœ€è¦ä¸€ä¸ªè‰¯å¥½çš„å­¦ä¹ æ°›å›´ï¼Œ"),n("a",k,[a("æˆ³é“¾æ¥"),e(s)]),a("åŠ å…¥æˆ‘ä»¬å§ï¼è¿™æ˜¯ä¸€ä¸ªç¼–ç¨‹å­¦ä¹ æŒ‡å—+ Javaé¡¹ç›®å®æˆ˜+ LeetCodeåˆ·é¢˜çš„ç§å¯†åœˆå­ï¼Œä½ å¯ä»¥é˜…è¯»æ˜Ÿçƒä¸“æ ã€å‘äºŒå“¥æé—®ã€å¸®ä½ åˆ¶å®šå­¦ä¹ è®¡åˆ’ã€å’Œçƒå‹ä¸€èµ·æ‰“å¡æˆé•¿ï¼Œå†²å†²å†²ã€‚")])]),d,n("blockquote",null,[n("p",null,[a("å‚è€ƒé“¾æ¥ï¼š"),n("a",m,[a("https://www.mdnice.com/writing/81727aec77394ee2a9c99f029cc212e6"),e(s)]),a("ï¼Œæ•´ç†ï¼šæ²‰é»˜ç‹äºŒ")])]),g,n("ul",null,[n("li",null,[a("âœŒï¸ï¼š"),n("a",b,[a("æ˜¥èŠ‚åè·³æ§½ï¼Œæˆ‘è¯¥å¦‚ä½•å‡†å¤‡ï¼Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",h,[a("åŸ¹è®­ç­å‡ºèº«ï¼Œè¯¥å¦‚ä½•è‡ªæ•‘ï¼Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",f,[a("å·å·ç›˜ç‚¹ä¸€ä¸‹23å±Šç§‹æ‹›è–ªèµ„"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",v,[a("èµ”å¿è¿˜æ˜¯ç»™è¶³äº†çš„"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",y,[a("2023ï¼ŒæŒ‰è¿™ä¸ªä»·è¦"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",_,[a("è¿™ä¸ªè¡Œä¸šå¥½èµ·æ¥äº†"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",j,[a("åˆšå…¥èŒï¼Œå°±æƒ³è·‘è·¯äº†ï¼Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",w,[a("å­—èŠ‚è·³åŠ¨äºŒè¿›å®«"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",x,[a("è¿›äº†å¤–åŒ…ï¼Œæ˜¯ä¸æ˜¯å°±åºŸäº†ï¼Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",M,[a("ä¸ºä»€ä¹ˆæˆ‘å»ºè®®ä½ è€ƒç ”å†²ä¸€æŠŠï¼Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",q,[a("å¥‰åŠé‚£äº›æƒ³å­¦å¥½ç¼–ç¨‹çš„äºº"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",Q,[a("ç›®å‰è¿™æƒ…å†µï¼Œï¼Œè·³æ§½å¤–ä¼"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",C,[a("å·¥ä½œå››å¹´ï¼Œè¢«åŠ¨é†’æ‚Ÿ"),e(s)])]),n("li",null,[a("âœŒï¸ï¼š"),n("a",z,[a("ç§‹æ‹› 13 å®¶ offerï¼Œæ‰‹åˆ°æ“’æ¥"),e(s)])])]),S,n("blockquote",null,[n("p",null,[a("å‚è€ƒé“¾æ¥ï¼š"),n("a",E,[a("https://www.mdnice.com/writing/81727aec77394ee2a9c99f029cc212e6"),e(s)]),a("ï¼Œæ•´ç†ï¼šæ²‰é»˜ç‹äºŒ")])])])}const B=p(l,[["render",D],["__file","jugzfjtdsjysxmdnicemd.html.vue"]]);export{B as default};
