<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta name="keywords" content="Java,HashMap,java hashmap, æºç åˆ†æ, å®ç°åŸç†"><meta property="og:url" content="https://javabetter.cn/collection/hashmap.html"><meta property="og:site_name" content="äºŒå“¥çš„Javaè¿›é˜¶ä¹‹è·¯"><meta property="og:title" content="Java HashMapè¯¦è§£ï¼šæºç åˆ†æã€hash åŸç†ã€æ‰©å®¹æœºåˆ¶ã€åŠ è½½å› å­ã€çº¿ç¨‹ä¸å®‰å…¨"><meta property="og:description" content="æœ¬æ–‡è¯¦ç»†è§£æäº† Java HashMap çš„å®ç°åŸç†ã€åŠŸèƒ½ç‰¹ç‚¹ä»¥åŠæºç ï¼Œä¸ºæ‚¨æä¾›äº† HashMap çš„å®é™…åº”ç”¨ç¤ºä¾‹å’Œæ€§èƒ½ä¼˜åŒ–å»ºè®®ã€‚é˜…è¯»æœ¬æ–‡ï¼Œå°†å¸®åŠ©æ‚¨æ›´æ·±å…¥åœ°ç†è§£ HashMapï¼Œä»è€Œåœ¨å®é™…ç¼–ç¨‹ä¸­å……åˆ†å‘æŒ¥å…¶ä¼˜åŠ¿ã€‚"><meta property="og:type" content="article"><meta property="og:image" content="https://cdn.tobebetterjavaer.com/paicoding/3d8ff1f5dc43cc065edb76902156d02b.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-11-20T06:53:50.000Z"><meta property="article:author" content="æ²‰é»˜ç‹äºŒ"><meta property="article:tag" content="é›†åˆæ¡†æ¶ï¼ˆå®¹å™¨ï¼‰"><meta property="article:published_time" content="2024-11-20T00:00:00.000Z"><meta property="article:modified_time" content="2024-11-20T06:53:50.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Java HashMapè¯¦è§£ï¼šæºç åˆ†æã€hash åŸç†ã€æ‰©å®¹æœºåˆ¶ã€åŠ è½½å› å­ã€çº¿ç¨‹ä¸å®‰å…¨","image":["https://cdn.tobebetterjavaer.com/paicoding/3d8ff1f5dc43cc065edb76902156d02b.png","https://cdn.tobebetterjavaer.com/paicoding/fcc9cb8f8252f712d72406f7ffb83a89.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hash-01.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-01.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-02.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-26.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-27.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-01.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-02.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-03png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-04.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-05.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-06.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-07.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-08.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-09.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-01.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-02.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-03.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-04.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-05.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-06.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-07.png","https://cdn.tobebetterjavaer.com/stutymore/hashmap-20241120144833.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-08.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-09.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-10.png","https://cdn.tobebetterjavaer.com/stutymore/collection-20240326085630.png","https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png"],"datePublished":"2024-11-20T00:00:00.000Z","dateModified":"2024-11-20T06:53:50.000Z","author":[{"@type":"Person","name":"æ²‰é»˜ç‹äºŒ","url":"/about-the-author/"}]}</script><meta name="robots" content="all"><meta name="author" content="æ²‰é»˜ç‹äºŒ"><meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta name="apple-mobile-web-app-capable" content="yes"><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?5230ac143650bf5eb3c14f3fb9b1d3ec";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?59aa453e7e706422c636c079fc1cb031";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script><link rel="stylesheet" href="//at.alicdn.com/t/font_3180624_7cy10l7jqqh.css"><link rel="icon" href="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/favicon.ico"><link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192"><link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png"><meta name="msapplication-TileColor" content="#ffffff"><title>Java HashMapè¯¦è§£ï¼šæºç åˆ†æã€hash åŸç†ã€æ‰©å®¹æœºåˆ¶ã€åŠ è½½å› å­ã€çº¿ç¨‹ä¸å®‰å…¨ | äºŒå“¥çš„Javaè¿›é˜¶ä¹‹è·¯</title><meta name="description" content="æœ¬æ–‡è¯¦ç»†è§£æäº† Java HashMap çš„å®ç°åŸç†ã€åŠŸèƒ½ç‰¹ç‚¹ä»¥åŠæºç ï¼Œä¸ºæ‚¨æä¾›äº† HashMap çš„å®é™…åº”ç”¨ç¤ºä¾‹å’Œæ€§èƒ½ä¼˜åŒ–å»ºè®®ã€‚é˜…è¯»æœ¬æ–‡ï¼Œå°†å¸®åŠ©æ‚¨æ›´æ·±å…¥åœ°ç†è§£ HashMapï¼Œä»è€Œåœ¨å®é™…ç¼–ç¨‹ä¸­å……åˆ†å‘æŒ¥å…¶ä¼˜åŠ¿ã€‚">
    <link rel="preload" href="/assets/style-BzmM6pFV.css" as="style"><link rel="stylesheet" href="/assets/style-BzmM6pFV.css">
    <link rel="modulepreload" href="/assets/app-wJXw8B29.js"><link rel="modulepreload" href="/assets/hashmap.html-DLc7EAUN.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/logo-02.png" alt><!----><span class="vp-site-name hide-in-pad">äºŒå“¥çš„Javaè¿›é˜¶ä¹‹è·¯</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog.html" aria-label="åšå®¢"><!--[--><span class="font-icon icon iconfont icon-gaishu" style=""></span><!--]-->åšå®¢<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/home.html" aria-label="è¿›é˜¶ä¹‹è·¯"><!--[--><span class="font-icon icon iconfont icon-lujing" style=""></span><!--]-->è¿›é˜¶ä¹‹è·¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zhishixingqiu/" aria-label="çŸ¥è¯†æ˜Ÿçƒ"><!--[--><span class="font-icon icon iconfont icon-Artboard" style=""></span><!--]-->çŸ¥è¯†æ˜Ÿçƒ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/xuexiluxian/" aria-label="å­¦ä¹ è·¯çº¿"><!--[--><span class="font-icon icon iconfont icon-luxian" style=""></span><!--]-->å­¦ä¹ è·¯çº¿<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/sidebar/sanfene/nixi.html" aria-label="é¢æ¸£é€†è¢­"><!--[--><span class="font-icon icon iconfont icon-zhunbei" style=""></span><!--]-->é¢æ¸£é€†è¢­<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="çè—èµ„æº"><!--[--><span class="font-icon icon iconfont icon-youzhi" style=""></span>çè—èµ„æº<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/pdf/" aria-label="PDFä¸‹è½½"><!--[--><span class="font-icon icon iconfont icon-java" style=""></span><!--]-->PDFä¸‹è½½<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/nice-article/itmind/" aria-label="ç ´è§£åˆé›†"><!--[--><span class="font-icon icon iconfont icon-zhongyaotishi" style=""></span><!--]-->ç ´è§£åˆé›†<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/home.html" aria-label="ä¸€ã€å‰è¨€"><!---->ä¸€ã€å‰è¨€<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">äºŒã€JavaåŸºç¡€</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.1 Javaæ¦‚è¿°åŠç¯å¢ƒé…ç½®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.2 Javaè¯­æ³•åŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.3 æ•°ç»„&amp;å­—ç¬¦ä¸²</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.4 é¢å‘å¯¹è±¡ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">2.5 é›†åˆæ¡†æ¶ï¼ˆå®¹å™¨ï¼‰</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/collection/gailan.html" aria-label="Listã€Setã€Queueå’ŒMap"><!---->Listã€Setã€Queueå’ŒMap<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/arraylist.html" aria-label="ArrayListè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->ArrayListè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/linkedlist.html" aria-label="LinkedListè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->LinkedListè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/stack.html" aria-label="æ ˆStackè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->æ ˆStackè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/collection/hashmap.html" aria-label="HashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->HashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/linkedhashmap.html" aria-label="LinkedHashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->LinkedHashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/treemap.html" aria-label="TreeMapè¯¦è§£ï¼ˆé™„æºç ï¼‰"><!---->TreeMapè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/arraydeque.html" aria-label="åŒç«¯é˜Ÿåˆ—ArrayDequeè¯¦è§£"><!---->åŒç«¯é˜Ÿåˆ—ArrayDequeè¯¦è§£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/PriorityQueue.html" aria-label="ä¼˜å…ˆçº§é˜Ÿåˆ—PriorityQueueè¯¦è§£"><!---->ä¼˜å…ˆçº§é˜Ÿåˆ—PriorityQueueè¯¦è§£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/time-complexity.html" aria-label="æ—¶é—´å¤æ‚åº¦"><!---->æ—¶é—´å¤æ‚åº¦<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/list-war-2.html" aria-label="ArrayListå’ŒLinkedListçš„åŒºåˆ«"><!---->ArrayListå’ŒLinkedListçš„åŒºåˆ«<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/generic.html" aria-label="æ·±å…¥è§£æJavaæ³›å‹"><!---->æ·±å…¥è§£æJavaæ³›å‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/iterator-iterable.html" aria-label="Iteratorå’ŒIterableçš„åŒºåˆ«"><!---->Iteratorå’ŒIterableçš„åŒºåˆ«<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/fail-fast.html" aria-label="Java foreach å¾ªç¯é™·é˜±"><!---->Java foreach å¾ªç¯é™·é˜±<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/comparable-omparator.html" aria-label="Comparableå’ŒComparator"><!---->Comparableå’ŒComparator<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/collection/WeakHashMap.html" aria-label="è¯¦è§£WeakHashMap"><!---->è¯¦è§£WeakHashMap<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.6 Java IO</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.7 å¼‚å¸¸å¤„ç†</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.8 å¸¸ç”¨å·¥å…·ç±»</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/java8/" aria-label="2.9 Javaæ–°ç‰¹æ€§"><!---->2.9 Javaæ–°ç‰¹æ€§<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.10 ç½‘ç»œç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.11 NIO</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.12 Javaé‡è¦çŸ¥è¯†ç‚¹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.13 å¹¶å‘ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2.14 JVM</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ä¸‰ã€Javaè¿›é˜¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å››ã€MySQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">äº”ã€Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å…­ã€è®¡ç®—æœºåŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ä¸ƒã€æ±‚èŒé¢è¯•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å…«ã€å­¦ä¹ å»ºè®®</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ä¹ã€çŸ¥è¯†åº“æ­å»º</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">åã€è”ç³»ä½œè€…</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Java HashMapè¯¦è§£ï¼šæºç åˆ†æã€hash åŸç†ã€æ‰©å®¹æœºåˆ¶ã€åŠ è½½å› å­ã€çº¿ç¨‹ä¸å®‰å…¨</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="/about-the-author/" target="_blank" rel="noopener noreferrer">æ²‰é»˜ç‹äºŒ</a></span><span property="author" content="æ²‰é»˜ç‹äºŒ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-11-20T00:00:00.000Z"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7 clickable" role="navigation">Javaæ ¸å¿ƒ</span><!--]--><meta property="articleSection" content="Javaæ ¸å¿ƒ"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color6 clickable" role="navigation">é›†åˆæ¡†æ¶ï¼ˆå®¹å™¨ï¼‰</span><!--]--><meta property="keywords" content="é›†åˆæ¡†æ¶ï¼ˆå®¹å™¨ï¼‰"></span><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 14770 å­—</span><meta property="wordCount" content="14770"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 49 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT49M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_01ã€hash-æ–¹æ³•çš„åŸç†">01ã€hash æ–¹æ³•çš„åŸç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_02ã€hashmap-çš„æ‰©å®¹æœºåˆ¶">02ã€HashMap çš„æ‰©å®¹æœºåˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯-0-75">03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯ 0.75</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_04ã€çº¿ç¨‹ä¸å®‰å…¨">04ã€çº¿ç¨‹ä¸å®‰å…¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_05ã€å°ç»“">05ã€å°ç»“</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><p>è¿™ç¯‡æ–‡ç« å°†ä¼šè¯¦ç»†é€å½»åœ°è®²æ¸…æ¥š Java çš„ HashMapï¼ŒåŒ…æ‹¬ hash æ–¹æ³•çš„åŸç†ã€HashMap çš„æ‰©å®¹æœºåˆ¶ã€HashMap çš„åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯ 0.75 è€Œä¸æ˜¯ 0.6ã€0.8ï¼Œä»¥åŠ HashMap ä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ŒåŸºæœ¬ä¸Š HashMap çš„<a href="https://javabebetter.cn/interview/java-hashmap-13.html" target="_blank" rel="noopener noreferrer">å¸¸è§é¢è¯•é¢˜</a>ï¼Œéƒ½ä¼šåœ¨è¿™ä¸€ç¯‡æ–‡ç« é‡Œè®²æ˜ç™½ã€‚</p><p>HashMap æ˜¯ Java ä¸­å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹ã€‚åœ¨ HashMap ä¸­ï¼Œæ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼Œå¯ä»¥é€šè¿‡é”®æ¥å¿«é€Ÿè®¿é—®å¯¹åº”çš„å€¼ï¼Œç®—æ³•æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ° O(1)ã€‚</p><p>HashMap ä¸ä»…åœ¨æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°ï¼Œåœ¨é¢è¯•ä¸­ä¹Ÿæ˜¯é‡ç‚¹è€ƒå¯Ÿçš„å¯¹è±¡ã€‚</p><p>ä»¥ä¸‹æ˜¯ HashMap å¢åˆ æ”¹æŸ¥çš„ç®€å•ä¾‹å­ï¼š</p><p><strong>1ï¼‰å¢åŠ å…ƒç´ </strong>ï¼š</p><p>å°†ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆå…ƒç´ ï¼‰æ·»åŠ åˆ° HashMap ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ put() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå°†åå­—å’Œå¹´é¾„ä½œä¸ºé”®å€¼å¯¹æ·»åŠ åˆ° HashMap ä¸­ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Integer</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ç‹äºŒ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">25</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2ï¼‰åˆ é™¤å…ƒç´ </strong>ï¼š</p><p>ä» HashMap ä¸­åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¯ä»¥ä½¿ç”¨ remove() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåˆ é™¤åå­—ä¸º &quot;æ²‰é»˜&quot; çš„é”®å€¼å¯¹ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>3ï¼‰ä¿®æ”¹å…ƒç´ </strong>ï¼š</p><p>ä¿®æ”¹ HashMap ä¸­çš„ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¯ä»¥ä½¿ç”¨ put() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå°†åå­—ä¸º &quot;æ²‰é»˜&quot; çš„å¹´é¾„ä¿®æ”¹ä¸º 30ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¸ºä»€ä¹ˆå’Œæ·»åŠ å…ƒç´ çš„æ–¹æ³•ä¸€æ ·å‘¢ï¼Ÿè¿™ä¸ªæˆ‘ä»¬åé¢ä¼šè®²ï¼Œå…ˆç®€å•è¯´ä¸€ä¸‹ï¼Œæ˜¯å› ä¸º HashMap çš„é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥å†æ¬¡ put çš„æ—¶å€™ä¼šè¦†ç›–æ‰ä¹‹å‰çš„é”®å€¼å¯¹ã€‚</p><p><strong>4ï¼‰æŸ¥æ‰¾å…ƒç´ </strong>ï¼š</p><p>ä» HashMap ä¸­æŸ¥æ‰¾ä¸€ä¸ªé”®å¯¹åº”çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ get() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒæŸ¥æ‰¾åå­—ä¸º &quot;æ²‰é»˜&quot; çš„å¹´é¾„ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒHashMap å¯ä»¥ç”¨äºç¼“å­˜ã€ç´¢å¼•ç­‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†ç”¨æˆ· ID ä½œä¸ºé”®ï¼Œç”¨æˆ·ä¿¡æ¯ä½œä¸ºå€¼ï¼Œå°†ç”¨æˆ·ä¿¡æ¯ç¼“å­˜åˆ° HashMap ä¸­ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚åˆå¦‚ï¼Œå¯ä»¥å°†å…³é”®å­—ä½œä¸ºé”®ï¼Œæ–‡æ¡£ ID åˆ—è¡¨ä½œä¸ºå€¼ï¼Œå°†æ–‡æ¡£ç´¢å¼•ç¼“å­˜åˆ° HashMap ä¸­ï¼Œä»¥ä¾¿å¿«é€Ÿæœç´¢æ–‡æ¡£ã€‚</p><p>HashMap çš„å®ç°åŸç†æ˜¯åŸºäºå“ˆå¸Œè¡¨çš„ï¼Œå®ƒçš„åº•å±‚æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®å¯èƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨æˆ–çº¢é»‘æ ‘ï¼Œä¹Ÿå¯èƒ½åªæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆåé¢ä¼šè®²ï¼‰ã€‚å½“æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼ŒHashMap ä¼šæ ¹æ®é”®çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºè¯¥é”®å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ï¼Œç„¶åå°†é”®å€¼å¯¹æ’å…¥åˆ°å¯¹åº”çš„ä½ç½®ã€‚</p><p>å½“é€šè¿‡é”®æŸ¥æ‰¾å€¼æ—¶ï¼ŒHashMap ä¹Ÿä¼šæ ¹æ®é”®çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºæ•°ç»„ä¸‹æ ‡ï¼Œå¹¶æŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚</p><h3 id="_01ã€hash-æ–¹æ³•çš„åŸç†" tabindex="-1"><a class="header-anchor" href="#_01ã€hash-æ–¹æ³•çš„åŸç†"><span>01ã€hash æ–¹æ³•çš„åŸç†</span></a></h3><p>ç®€å•äº†è§£ HashMap åï¼Œæˆ‘ä»¬æ¥è®¨è®ºç¬¬ä¸€ä¸ªé—®é¢˜ï¼šhash æ–¹æ³•çš„åŸç†ï¼Œå¯¹åƒé€ HashMap ä¼šå¤§æœ‰å¸®åŠ©ã€‚</p><p>æ¥çœ‹ä¸€ä¸‹ hash æ–¹æ³•çš„æºç ï¼ˆJDK 8 ä¸­çš„ HashMapï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µä»£ç ç©¶ç«Ÿæ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢ï¼Ÿ</p><p><strong>å°† key çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼</strong>ã€‚</p><p>æ€ä¹ˆç†è§£è¿™å¥è¯å‘¢ï¼Ÿä¸è¦ç€æ€¥ã€‚</p><p>æˆ‘ä»¬æ¥ new ä¸€ä¸ª HashMapï¼Œå¹¶é€šè¿‡ put æ–¹æ³•æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;chenmo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥çœ‹ä¸€ä¸‹ put æ–¹æ³•çš„æºç ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> put</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> putVal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(key)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹åˆ° hash æ–¹æ³•çš„èº«å½±äº†å§ï¼Ÿ</p><h4 id="hash-æ–¹æ³•çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#hash-æ–¹æ³•çš„ä½œç”¨"><span>hash æ–¹æ³•çš„ä½œç”¨</span></a></h4><p>å‰é¢ä¹Ÿè¯´äº†ï¼ŒHashMap çš„åº•å±‚æ˜¯é€šè¿‡æ•°ç»„çš„å½¢å¼å®ç°çš„ï¼Œåˆå§‹å¤§å°æ˜¯ 16ï¼ˆè¿™ä¸ªåé¢ä¼šè®²ï¼‰ï¼Œå…ˆè®°ä½ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒHashMap åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡é”®çš„å“ˆå¸Œç åœ¨å¤§å°ä¸º 16 çš„æ•°ç»„ä¸­ç¡®å®šä¸€ä¸ªä½ç½®ï¼ˆç´¢å¼•ï¼‰ï¼Œæ€ä¹ˆç¡®å®šå‘¢ï¼Ÿ</p><p>ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç›´è§‚çš„æ„Ÿå—ï¼Œæˆ‘è¿™é‡Œç”»äº†ä¸€å‰¯å›¾ï¼Œ16 ä¸ªæ–¹æ ¼å­ï¼ˆå¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªä¸€ä¸ªæ¡¶ï¼‰ï¼Œæ¯ä¸ªæ ¼å­éƒ½æœ‰ä¸€ä¸ªç¼–å·ï¼Œå¯¹åº”å¤§å°ä¸º 16 çš„æ•°ç»„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/paicoding/3d8ff1f5dc43cc065edb76902156d02b.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¦æŠŠ key ä¸º â€œchenmoâ€ï¼Œvalue ä¸ºâ€œæ²‰é»˜â€çš„é”®å€¼å¯¹æ”¾åˆ°è¿™ 16 ä¸ªæ ¼å­ä¸­çš„ä¸€ä¸ªã€‚</p><p>æ€ä¹ˆç¡®å®šä½ç½®ï¼ˆç´¢å¼•ï¼‰å‘¢ï¼Ÿ</p><p>æˆ‘å…ˆå‘Šè¯‰å¤§å®¶ç»“è®ºï¼Œé€šè¿‡è¿™ä¸ªä¸è¿ç®— <code>(n - 1) &amp; hash</code>ï¼Œå…¶ä¸­å˜é‡ n ä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œå˜é‡ hash å°±æ˜¯é€šè¿‡ <code>hash()</code> æ–¹æ³•è®¡ç®—åçš„ç»“æœã€‚</p><p>é‚£â€œchenmoâ€è¿™ä¸ª key è®¡ç®—åçš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ 8ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>map.put(&quot;chenmo&quot;, &quot;æ²‰é»˜&quot;)</code> ä¼šæŠŠ key ä¸º â€œchenmoâ€ï¼Œvalue ä¸ºâ€œæ²‰é»˜â€çš„é”®å€¼å¯¹æ”¾åˆ°ä¸‹æ ‡ä¸º 8 çš„ä½ç½®ä¸Šï¼ˆä¹Ÿå°±æ˜¯ç´¢å¼•ä¸º 8 çš„æ¡¶ä¸Šï¼‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/paicoding/fcc9cb8f8252f712d72406f7ffb83a89.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™æ ·å¤§å®¶å°±ä¼šå¯¹ HashMap å­˜æ”¾é”®å€¼å¯¹ï¼ˆå…ƒç´ ï¼‰çš„æ—¶å€™æœ‰ä¸€ä¸ªå¤§è‡´çš„å°è±¡ã€‚å…¶ä¸­çš„ä¸€ç‚¹æ˜¯ï¼Œhash æ–¹æ³•å¯¹è®¡ç®—é”®å€¼å¯¹çš„ä½ç½®èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><p>å›åˆ° hash æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯å¯¹è¯¥æ–¹æ³•çš„ä¸€äº›è§£é‡Šï¼š</p><ul><li>å‚æ•° keyï¼šéœ€è¦è®¡ç®—å“ˆå¸Œç çš„é”®å€¼ã€‚</li><li><code>key == null ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªä¸‰ç›®è¿ç®—ç¬¦ï¼Œå¦‚æœé”®å€¼ä¸º nullï¼Œåˆ™å“ˆå¸Œç ä¸º 0ï¼ˆä¾æ—§æ˜¯è¯´å¦‚æœé”®ä¸º nullï¼Œåˆ™å­˜æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼‰ï¼›å¦åˆ™ï¼Œé€šè¿‡è°ƒç”¨<code>hashCode()</code>æ–¹æ³•è·å–é”®çš„å“ˆå¸Œç ï¼Œå¹¶å°†å…¶ä¸å³ç§» 16 ä½çš„å“ˆå¸Œç è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚</li><li><code>^</code> è¿ç®—ç¬¦ï¼šå¼‚æˆ–è¿ç®—ç¬¦æ˜¯ Java ä¸­çš„ä¸€ç§ä½è¿ç®—ç¬¦ï¼Œå®ƒç”¨äºå°†ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™ä¸º 0ï¼Œä¸åŒåˆ™ä¸º 1ã€‚</li><li><code>h &gt;&gt;&gt; 16</code>ï¼šå°†å“ˆå¸Œç å‘å³ç§»åŠ¨ 16 ä½ï¼Œç›¸å½“äºå°†åŸæ¥çš„å“ˆå¸Œç åˆ†æˆäº†ä¸¤ä¸ª 16 ä½çš„éƒ¨åˆ†ã€‚</li><li>æœ€ç»ˆè¿”å›çš„æ˜¯ç»è¿‡å¼‚æˆ–è¿ç®—åå¾—åˆ°çš„å“ˆå¸Œç å€¼ã€‚</li></ul><p>è¿™çŸ­çŸ­çš„ä¸€è¡Œä»£ç ï¼Œæ±‡èšä¸å°‘è®¡ç®—æœºå·¨ä½¬ä»¬çš„èªæ˜æ‰æ™ºã€‚</p><p>ç†è®ºä¸Šï¼Œå“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œç ï¼‰æ˜¯ä¸€ä¸ª int ç±»å‹ï¼ŒèŒƒå›´ä»-2147483648 åˆ° 2147483648ã€‚</p><p>å‰ååŠ èµ·æ¥å¤§æ¦‚ 40 äº¿çš„æ˜ å°„ç©ºé—´ï¼Œåªè¦å“ˆå¸Œå€¼æ˜ å°„å¾—æ¯”è¾ƒå‡åŒ€æ¾æ•£ï¼Œä¸€èˆ¬æ˜¯ä¸ä¼šå‡ºç°å“ˆå¸Œç¢°æ’ï¼ˆå“ˆå¸Œå†²çªä¼šé™ä½ HashMap çš„æ•ˆç‡ï¼‰ã€‚</p><p>ä½†é—®é¢˜æ˜¯ä¸€ä¸ª 40 äº¿é•¿åº¦çš„æ•°ç»„ï¼Œå†…å­˜æ˜¯æ”¾ä¸ä¸‹çš„ã€‚HashMap æ‰©å®¹ä¹‹å‰çš„æ•°ç»„åˆå§‹å¤§å°åªæœ‰ 16ï¼Œæ‰€ä»¥è¿™ä¸ªå“ˆå¸Œå€¼æ˜¯ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨çš„ï¼Œç”¨ä¹‹å‰è¦å’Œæ•°ç»„çš„é•¿åº¦åšä¸è¿ç®—ï¼ˆå‰æ–‡æåˆ°çš„ <code>(n - 1) &amp; hash</code>ï¼Œæœ‰äº›åœ°æ–¹å«å–æ¨¡é¢„ç®—ï¼Œæœ‰äº›åœ°æ–¹å«å–ä½™è¿ç®—ï¼‰ï¼Œç”¨å¾—åˆ°çš„å€¼æ¥è®¿é—®æ•°ç»„ä¸‹æ ‡æ‰è¡Œã€‚</p><h4 id="å–æ¨¡è¿ç®—-vs-å–ä½™è¿ç®—-vs-ä¸è¿ç®—" tabindex="-1"><a class="header-anchor" href="#å–æ¨¡è¿ç®—-vs-å–ä½™è¿ç®—-vs-ä¸è¿ç®—"><span>å–æ¨¡è¿ç®— VS å–ä½™è¿ç®— VS ä¸è¿ç®—</span></a></h4><p>é‚£è¿™é‡Œå°±é¡ºå¸¦è¡¥å……ä¸€äº›å–æ¨¡é¢„ç®—/å–ä½™è¿ç®—å’Œä¸è¿ç®—çš„çŸ¥è¯†ç‚¹å“ˆã€‚</p><p>å–æ¨¡è¿ç®—ï¼ˆModulo Operationï¼‰å’Œå–ä½™è¿ç®—ï¼ˆRemainder Operationï¼‰ä»ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²ï¼Œæ˜¯ä¸¤ç§ä¸åŒçš„è¿ç®—æ–¹å¼ï¼Œå®ƒä»¬åœ¨è®¡ç®—æœºä¸­çš„å®ç°ä¹Ÿä¸åŒã€‚</p><p>åœ¨ Java ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ % è¿ç®—ç¬¦æ¥è¡¨ç¤ºå–ä½™ï¼Œç”¨ <code>Math.floorMod()</code> æ¥è¡¨ç¤ºå–æ¨¡ã€‚</p><ul><li>å½“æ“ä½œæ•°éƒ½æ˜¯æ­£æ•°çš„è¯ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</li><li>åªæœ‰å½“æ“ä½œæ•°å‡ºç°è´Ÿæ•°çš„æƒ…å†µï¼Œç»“æœæ‰ä¼šæœ‰æ‰€ä¸åŒã€‚</li><li><strong>å–æ¨¡è¿ç®—çš„å•†å‘è´Ÿæ— ç©·é è¿‘ï¼›å–ä½™è¿ç®—çš„å•†å‘ 0 é è¿‘</strong>ã€‚è¿™æ˜¯å¯¼è‡´å®ƒä»¬ä¸¤ä¸ªåœ¨å¤„ç†æœ‰è´Ÿæ•°æƒ…å†µä¸‹ï¼Œç»“æœä¸åŒçš„æ ¹æœ¬åŸå› ã€‚</li><li>å½“æ•°ç»„çš„é•¿åº¦æ˜¯ 2 çš„ n æ¬¡æ–¹ï¼Œæˆ–è€… n æ¬¡å¹‚ï¼Œæˆ–è€… n çš„æ•´æ•°å€æ—¶ï¼Œå–æ¨¡è¿ç®—/å–ä½™è¿ç®—å¯ä»¥ç”¨ä½è¿ç®—æ¥ä»£æ›¿ï¼Œæ•ˆç‡æ›´é«˜ï¼Œæ¯•ç«Ÿè®¡ç®—æœºæœ¬èº«åªè®¤äºŒè¿›åˆ¶å˜›ã€‚</li></ul><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¥çœ‹ä¸€ä¸‹ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// a å¯¹ b å–ä½™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> remainder </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// a å¯¹ b å–æ¨¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> modulus </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">floorMod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ•°å­—: a = &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;, b = &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å–ä½™ (%): &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> remainder);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å–æ¨¡ (Math.floorMod): &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> modulus);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// æ”¹å˜ a å’Œ b çš„æ­£è´Ÿæƒ…å†µ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">b </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">remainder </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">%</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">modulus </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">floorMod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(a, b);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">æ•°å­—: a = &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;, b = &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å–ä½™ (%): &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> remainder);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å–æ¨¡ (Math.floorMod): &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> modulus);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>æ•°å­—: a = -7, b = 3</span></span>
<span class="line"><span>å–ä½™ (%): -1</span></span>
<span class="line"><span>å–æ¨¡ (Math.floorMod): 2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>æ•°å­—: a = 7, b = -3</span></span>
<span class="line"><span>å–ä½™ (%): 1</span></span>
<span class="line"><span>å–æ¨¡ (Math.floorMod): -2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„ç»“æœå‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è€ƒè™‘ä¸€ä¸‹å¸¸è§„é™¤æ³•ã€‚å½“æˆ‘ä»¬å°†ä¸€ä¸ªæ•°é™¤ä»¥å¦ä¸€ä¸ªæ•°æ—¶ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªå•†å’Œä¸€ä¸ªä½™æ•°ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬æŠŠ 7 é™¤ä»¥ 3 æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°å•† 2 å’Œä½™æ•° 1ï¼Œå› ä¸º (7 = 3 Ã— 2 + 1)ã€‚</p><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/doondo/p/14678204.html" target="_blank" rel="noopener noreferrer">Java å–æ¨¡å’Œå–ä½™</a></p><p><strong>01ã€å–ä½™</strong>ï¼š</p><p>ä½™æ•°çš„å®šä¹‰æ˜¯åŸºäºå¸¸è§„é™¤æ³•çš„ï¼Œæ‰€ä»¥å®ƒçš„ç¬¦å·æ€»æ˜¯ä¸è¢«é™¤æ•°ç›¸åŒã€‚å•†è¶‹å‘äº 0ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äº <code>-7 % 3</code>ï¼Œä½™æ•°æ˜¯ <code>-1</code>ã€‚å› ä¸º -7 / 3 å¯ä»¥æœ‰ä¸¤ç§ç»“æœï¼Œä¸€ç§æ˜¯å•† -2 ä½™ -1ï¼›ä¸€ç§æ˜¯å•† -3 ä½™ 2ï¼Œå¯¹å§ï¼Ÿ</p><p>å› ä¸ºå–ä½™çš„å•†è¶‹å‘äº 0ï¼Œ-2 æ¯” -3 æ›´æ¥è¿‘äº 0ï¼Œæ‰€ä»¥å–ä½™çš„ç»“æœæ˜¯ -1ã€‚</p><p><strong>02ã€å–æ¨¡</strong>ï¼š</p><p>å–æ¨¡ä¹Ÿæ˜¯åŸºäºé™¤æ³•çš„ï¼Œåªä¸è¿‡å®ƒçš„ç¬¦å·æ€»æ˜¯ä¸é™¤æ•°ç›¸åŒã€‚å•†è¶‹å‘äºè´Ÿæ— ç©·ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äº <code>Math.floorMod(-7, 3)</code>ï¼Œç»“æœæ˜¯ <code>2</code>ã€‚åŒç†ï¼Œå› ä¸º -7 / 3 å¯ä»¥æœ‰ä¸¤ç§ç»“æœï¼Œä¸€ç§æ˜¯å•† -2 ä½™ -1ï¼›ä¸€ç§æ˜¯å•† -3 ä½™ 2ï¼Œå¯¹å§ï¼Ÿ</p><p>å› ä¸ºå–æ¨¡çš„å•†è¶‹å‘äºè´Ÿæ— ç©·ï¼Œ-3 æ¯” -2 æ›´æ¥è¿‘äºè´Ÿæ— ç©·ï¼Œæ‰€ä»¥å–æ¨¡çš„ç»“æœæ˜¯ 2ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ç®¡æ˜¯å–æ¨¡è¿˜æ˜¯å–ä½™ï¼Œé™¤æ•°éƒ½ä¸èƒ½ä¸º 0ï¼Œå› ä¸ºå–æ¨¡å’Œå–ä½™éƒ½æ˜¯åŸºäºé™¤æ³•è¿ç®—çš„ã€‚</p><p><strong>03ã€ä¸è¿ç®—</strong>ï¼š</p><p>å½“é™¤æ•°å’Œè¢«é™¤æ•°éƒ½æ˜¯æ­£æ•°çš„æƒ…å†µä¸‹ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œ7 å¯¹ 3 å–ä½™ï¼Œå’Œ 7 å¯¹ 3 å–æ¨¡ï¼Œç»“æœéƒ½æ˜¯ 1ã€‚å› ä¸ºä¸¤è€…éƒ½æ˜¯åŸºäºé™¤æ³•è¿ç®—çš„ï¼Œ7 / 3 çš„å•†æ˜¯ 2ï¼Œä½™æ•°æ˜¯ 1ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬ä¼šåœ¨å¾ˆå¤šåœ°æ–¹çœ‹åˆ°ï¼Œ<strong>å–ä½™å°±æ˜¯å–æ¨¡ï¼Œå–æ¨¡å°±æ˜¯å–ä½™ã€‚è¿™æ˜¯ä¸€ç§ä¸å‡†ç¡®çš„è¯´æ³•ï¼ŒåŸºäºæ“ä½œæ•°éƒ½æ˜¯æ­£æ•°çš„æƒ…å†µä¸‹</strong>ã€‚</p><p>å¯¹äº HashMap æ¥è¯´ï¼Œå®ƒéœ€è¦é€šè¿‡ <code>hash % table.length</code> æ¥ç¡®å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè¿™ç§åšæ³•å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè®©å…ƒç´ å‡åŒ€çš„åˆ†å¸ƒåœ¨æ•°ç»„ä¸­ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæ•°ç»„é•¿åº¦æ˜¯ 3ï¼Œhash æ˜¯ 7ï¼Œé‚£ä¹ˆ 7 % 3 çš„ç»“æœå°±æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ã€‚</p><p>å½“ hash æ˜¯ 8ï¼Œ8 % 3 çš„ç»“æœå°±æ˜¯ 2ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 2 çš„ä½ç½®ã€‚</p><p>å½“ hash æ˜¯ 9ï¼Œ9 % 3 çš„ç»“æœå°±æ˜¯ 0ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ä¸Šã€‚</p><p>æ˜¯ä¸æ˜¯å¾ˆå¥‡å¦™ï¼Œæ•°ç»„çš„å¤§å°ä¸º 3ï¼Œåˆšå¥½ 3 ä¸ªä½ç½®éƒ½åˆ©ç”¨ä¸Šäº†ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆ HashMap åœ¨è®¡ç®—ä¸‹æ ‡çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰ç›´æ¥ä½¿ç”¨å–ä½™è¿ç®—ï¼ˆæˆ–è€…å–æ¨¡è¿ç®—ï¼‰ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ä½ä¸è¿ç®— &amp; å‘¢ï¼Ÿ</p><p>å› ä¸ºå½“æ•°ç»„çš„é•¿åº¦æ˜¯ 2 çš„ n æ¬¡æ–¹æ—¶ï¼Œ<code>hash &amp; (length - 1) = hash % length</code>ã€‚</p><p>æ¯”å¦‚è¯´ 9 % 4 = 1ï¼Œ9 çš„äºŒè¿›åˆ¶æ˜¯ 1001ï¼Œ4 - 1 = 3ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ9 &amp; 3 = 1001 &amp; 0011 = 0001 = 1ã€‚</p><p>å†æ¯”å¦‚è¯´ 10 % 4 = 2ï¼Œ10 çš„äºŒè¿›åˆ¶æ˜¯ 1010ï¼Œ4 - 1 = 3ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ10 &amp; 3 = 1010 &amp; 0011 = 0010 = 2ã€‚</p><p>å½“æ•°ç»„çš„é•¿åº¦ä¸æ˜¯ 2 çš„ n æ¬¡æ–¹æ—¶ï¼Œ<code>hash % length</code> å’Œ <code>hash &amp; (length - 1)</code> çš„ç»“æœå°±ä¸ä¸€è‡´äº†ã€‚</p><p>æ¯”å¦‚è¯´ 7 % 3 = 1ï¼Œ7 çš„äºŒè¿›åˆ¶æ˜¯ 0111ï¼Œ3 - 1 = 2ï¼Œ2 çš„äºŒè¿›åˆ¶æ˜¯ 0010ï¼Œ7 &amp; 2 = 0111 &amp; 0010 = 0010 = 2ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºä»äºŒè¿›åˆ¶è§’åº¦æ¥çœ‹ï¼Œhash / length = hash / <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> = hash &gt;&gt; nï¼Œå³æŠŠ hash å³ç§» n ä½ï¼Œæ­¤æ—¶å¾—åˆ°äº† hash / <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> çš„å•†ã€‚</p><p>è€Œè¢«ç§»è°ƒçš„éƒ¨åˆ†ï¼Œåˆ™æ˜¯ hash % <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container>ï¼Œä¹Ÿå°±æ˜¯ä½™æ•°ã€‚</p><p><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> çš„äºŒè¿›åˆ¶å½¢å¼ä¸º 1ï¼Œåé¢è·Ÿç€ n ä¸ª 0ï¼Œé‚£ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> - 1 çš„äºŒè¿›åˆ¶åˆ™æ˜¯ n ä¸ª 1ã€‚ä¾‹å¦‚ 8 = <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>ï¼ŒäºŒè¿›åˆ¶æ˜¯ 1000ï¼Œ7 = <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container> - 1ï¼ŒäºŒè¿›åˆ¶ä¸º 0111ã€‚</p><p><code>hash % length</code>çš„æ“ä½œæ˜¯æ±‚ hash é™¤ä»¥ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> çš„ä½™æ•°ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œè¿™ä¸ªæ“ä½œçš„ç»“æœå°±æ˜¯ hash çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ n ä½çš„å€¼ã€‚</p><p>å› ä¸ºåœ¨ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> å–æ¨¡çš„æ“ä½œä¸­ï¼Œé«˜äº <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> è¡¨ç¤ºä½çš„æ‰€æœ‰æ•°å€¼å¯¹ç»“æœæ²¡æœ‰è´¡çŒ®ï¼Œåªæœ‰ä½äºè¿™ä¸ªé˜ˆå€¼çš„éƒ¨åˆ†æ‰å†³å®šä½™æ•°ã€‚</p><p>æ¯”å¦‚è¯´ 26 çš„äºŒè¿›åˆ¶æ˜¯ 11010ï¼Œè¦è®¡ç®— 26 % 8ï¼Œ8 æ˜¯ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>ï¼Œæ‰€ä»¥æˆ‘ä»¬å…³æ³¨çš„æ˜¯ 26 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ 3 ä½ï¼š11010 çš„æœ€ä½ 3 ä½æ˜¯ 010ã€‚</p><p>010 å¯¹åº”äºåè¿›åˆ¶ä¸­çš„ 2ï¼Œ26 % 8 çš„ç»“æœæ˜¯ 2ã€‚</p><p>å½“æ‰§è¡Œ<code>hash &amp; (length - 1)</code>æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¿ç•™ hash äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ n ä½ï¼Œå…¶ä»–é«˜ä½éƒ½è¢«æ¸…é›¶ã€‚</p><blockquote><p>&amp; ä¸è¿ç®—ï¼šä¸¤ä¸ªæ“ä½œæ•°ä¸­ä½éƒ½ä¸º 1ï¼Œç»“æœæ‰ä¸º 1ï¼Œå¦åˆ™ç»“æœä¸º 0ã€‚</p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼Œhash ä¸º 14ï¼Œn ä¸º 3ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„é•¿åº¦ä¸º <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>ï¼Œä¹Ÿå°±æ˜¯ 8ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>  1110 (hash = 14)</span></span>
<span class="line"><span>&amp; 0111 (length - 1 = 7)</span></span>
<span class="line"><span>  ----</span></span>
<span class="line"><span>  0110 (ç»“æœ = 6)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿ç•™ 14 çš„æœ€ä½ 3 ä½ï¼Œé«˜ä½è¢«æ¸…é›¶ã€‚</p><p>ä»æ­¤ï¼Œä¸¤ä¸ªè¿ç®— <code>hash % length</code> å’Œ <code>hash &amp; (length - 1)</code> æœ‰äº†å®Œç¾çš„é—­ç¯ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œä½è¿ç®—çš„é€Ÿåº¦è¦è¿œé«˜äºå–ä½™è¿ç®—ï¼Œå› ä¸ºè®¡ç®—æœºæœ¬è´¨ä¸Šå°±æ˜¯äºŒè¿›åˆ¶å˜›ã€‚</p><p>HashMap çš„å–æ¨¡è¿ç®—æœ‰ä¸¤å¤„ã€‚</p><p>ä¸€å¤„æ˜¯å¾€ HashMap ä¸­ put çš„æ—¶å€™ï¼ˆä¼šè°ƒç”¨ç§æœ‰çš„ <code>putVal</code> æ–¹æ³•ï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> putVal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> K</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> onlyIfAbsent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> evict) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // n ä¸ºæ•°ç»„çš„é•¿åº¦ i ä¸ºä¸‹æ ‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ•°ç»„ä¸ºç©ºçš„æ—¶å€™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((tab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // ç¬¬ä¸€æ¬¡æ‰©å®¹åçš„æ•°ç»„é•¿åº¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (tab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">())</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // è®¡ç®—èŠ‚ç‚¹çš„æ’å…¥ä½ç½®ï¼Œå¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œåˆ™æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹æ’å…¥</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> tab[i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash]) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        tab[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> newNode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ <code>(n - 1) &amp; hash</code> ä¸ºå–æ¨¡è¿ç®—ï¼Œä¸ºä»€ä¹ˆæ²¡ç”¨ <code>%</code>ï¼Œæˆ‘ä»¬éšåè§£é‡Šã€‚</p><p>ä¸€å¤„æ˜¯ä» HashMap ä¸­ get çš„æ—¶å€™ï¼ˆä¼šè°ƒç”¨ <code>getNode</code> æ–¹æ³•ï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getNode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // è·å–å½“å‰çš„æ•°ç»„å’Œé•¿åº¦ï¼Œä»¥åŠå½“å‰èŠ‚ç‚¹é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ ¹æ®ç´¢å¼•ç›´æ¥ä»æ•°ç»„ä¸­æ‰¾ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> first</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    K</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((tab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            (first </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> tab[(n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash]) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // å¦‚æœç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((k </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(k)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // å¦‚æœç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸æ˜¯è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼Œåˆ™éå†èŠ‚ç‚¹é“¾è¡¨æŸ¥æ‰¾</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            do</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((k </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(k)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å¦‚æœèŠ‚ç‚¹é“¾è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œåˆ™è¿”å› null</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹åˆ°æ²¡ï¼Œå–æ¨¡è¿ç®— <code>(n - 1) &amp; hash</code> å†æ¬¡å‡ºç°ï¼Œè¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯æŠŠé”®çš„å“ˆå¸Œç ç»è¿‡ <code>hash()</code> æ–¹æ³•è®¡ç®—åï¼Œå†å’Œï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰åšäº†ä¸€ä¸ªâ€œä¸â€è¿ç®—ã€‚</p><h4 id="å–æ¨¡è¿ç®—-å’Œä½è¿ç®—" tabindex="-1"><a class="header-anchor" href="#å–æ¨¡è¿ç®—-å’Œä½è¿ç®—"><span>å–æ¨¡è¿ç®—%å’Œä½è¿ç®—&amp;</span></a></h4><p>å¯èƒ½å¤§å®¶åœ¨ç–‘æƒ‘ï¼š<strong>å–æ¨¡è¿ç®—éš¾é“ä¸è¯¥ç”¨ <code>%</code> å—ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ä½è¿ç®— <code>&amp;</code> å‘¢</strong>ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸º <code>&amp;</code> è¿ç®—æ¯” <code>%</code> æ›´åŠ é«˜æ•ˆï¼Œå¹¶ä¸”å½“ b ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼Œå­˜åœ¨ä¸‹é¢è¿™æ ·ä¸€ä¸ªå…¬å¼ã€‚</p><blockquote><p>a % b = a &amp; (b-1)</p></blockquote><p>ç”¨ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> æ›¿æ¢ä¸‹ b å°±æ˜¯ï¼š</p><blockquote><p>a % <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container> = a &amp; (<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.279ex" height="1.528ex" role="img" focusable="false" viewBox="0 -675.5 1007.3 675.5" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mi>n</mi></msup></mrow></math></mjx-assistive-mml></mjx-container>-1)</p></blockquote><p>æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œå‡å¦‚ a = 14ï¼Œb = 8ï¼Œä¹Ÿå°±æ˜¯ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>ï¼Œn=3ã€‚</p><p>14%8ï¼ˆä½™æ•°ä¸º 6ï¼‰ã€‚</p><p>14 çš„äºŒè¿›åˆ¶ä¸º 1110ï¼Œ8 çš„äºŒè¿›åˆ¶ 1000ï¼Œ8-1 = 7ï¼Œ7 çš„äºŒè¿›åˆ¶ä¸º 0111ï¼Œ1110&amp;0111=0110ï¼Œä¹Ÿå°±æ˜¯ 0<code>*</code><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>0</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>+1<code>*</code><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>1</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>+1<code>*</code><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>2</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>+0<code>*</code><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><msup><mn>2</mn><mn>3</mn></msup></mrow></math></mjx-assistive-mml></mjx-container>=0+2+4+0=6ï¼Œ14%8 åˆšå¥½ä¹Ÿç­‰äº 6ã€‚</p><p>å®³ï¼Œè®¡ç®—æœºå°±æ˜¯è¿™ä¹ˆè®²é“ç†ï¼Œæ²¡åŠæ³•ï¼ŒğŸ˜</p><p>è¿™ä¹Ÿæ­£å¥½è§£é‡Šäº†<strong>ä¸ºä»€ä¹ˆ HashMap çš„æ•°ç»„é•¿åº¦è¦å– 2 çš„æ•´æ¬¡æ–¹</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å·§å‘¢ï¼Ÿ</p><p>å› ä¸ºï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰æ­£å¥½ç›¸å½“äºä¸€ä¸ªâ€œä½ä½æ©ç â€â€”â€”è¿™ä¸ªæ©ç çš„ä½ä½æœ€å¥½å…¨æ˜¯ 1ï¼Œè¿™æ · &amp; æ“ä½œæ‰æœ‰æ„ä¹‰ï¼Œå¦åˆ™ç»“æœå°±è‚¯å®šæ˜¯ 0ã€‚</p><blockquote><p>a&amp;b æ“ä½œçš„ç»“æœæ˜¯ï¼šaã€b ä¸­å¯¹åº”ä½åŒæ—¶ä¸º 1ï¼Œåˆ™å¯¹åº”ç»“æœä½ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ä¾‹å¦‚ 5&amp;3=1ï¼Œ5 çš„äºŒè¿›åˆ¶æ˜¯ 0101ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ5&amp;3=0001=1ã€‚</p></blockquote><p>2 çš„æ•´æ¬¡å¹‚åˆšå¥½æ˜¯å¶æ•°ï¼Œå¶æ•°-1 æ˜¯å¥‡æ•°ï¼Œå¥‡æ•°çš„äºŒè¿›åˆ¶æœ€åä¸€ä½æ˜¯ 1ï¼Œä¿è¯äº† <code>hash &amp;(length-1)</code> çš„æœ€åä¸€ä½å¯èƒ½ä¸º 0ï¼Œä¹Ÿå¯èƒ½ä¸º 1ï¼ˆå–å†³äº hash çš„å€¼ï¼‰ï¼Œå³ &amp; è¿ç®—åçš„ç»“æœå¯èƒ½ä¸ºå¶æ•°ï¼Œä¹Ÿå¯èƒ½ä¸ºå¥‡æ•°ï¼Œè¿™æ ·ä¾¿å¯ä»¥ä¿è¯å“ˆå¸Œå€¼çš„å‡åŒ€åˆ†å¸ƒã€‚</p><p>æ¢å¥è¯è¯´ï¼Œ&amp; æ“ä½œçš„ç»“æœå°±æ˜¯å°†å“ˆå¸Œå€¼çš„é«˜ä½å…¨éƒ¨å½’é›¶ï¼Œåªä¿ç•™ä½ä½å€¼ã€‚</p><p>å‡è®¾æŸå“ˆå¸Œå€¼çš„äºŒè¿›åˆ¶ä¸º <code>10100101 11000100 00100101</code>ï¼Œç”¨å®ƒæ¥åš &amp; è¿ç®—ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç»“æœã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒHashMap çš„åˆå§‹é•¿åº¦ä¸º 16ï¼Œ16-1=15ï¼ŒäºŒè¿›åˆ¶æ˜¯ <code>00000000 00000000 00001111</code>ï¼ˆé«˜ä½ç”¨ 0 æ¥è¡¥é½ï¼‰ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>	 10100101 11000100 00100101</span></span>
<span class="line"><span>&amp;	 00000000 00000000 00001111</span></span>
<span class="line"><span>----------------------------------</span></span>
<span class="line"><span>	 00000000 00000000 00000101</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º 15 çš„é«˜ä½å…¨éƒ¨æ˜¯ 0ï¼Œæ‰€ä»¥ &amp; è¿ç®—åçš„é«˜ä½ç»“æœè‚¯å®šä¹Ÿæ˜¯ 0ï¼Œåªå‰©ä¸‹ 4 ä¸ªä½ä½ <code>0101</code>ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„ 5ã€‚</p><p>è¿™æ ·ï¼Œå“ˆå¸Œå€¼ä¸º <code>10100101 11000100 00100101</code> çš„é”®å°±ä¼šæ”¾åœ¨æ•°ç»„çš„ç¬¬ 5 ä¸ªä½ç½®ä¸Šã€‚</p><p>å½“ç„¶äº†ï¼Œå¦‚æœä½ æ˜¯æ–°æ‰‹ï¼Œä¸Šé¢è¿™äº› 01 ä¸²çœ‹ä¸å¤ªæ‡‚ï¼Œä¹Ÿæ²¡å…³ç³»ã€‚è®°ä½ &amp;è¿ç®—æ˜¯ä¸ºäº†è®¡ç®—æ•°ç»„çš„ä¸‹æ ‡å°±å¯ä»¥äº†ã€‚</p><ul><li>put çš„æ—¶å€™è®¡ç®—ä¸‹æ ‡ï¼ŒæŠŠé”®å€¼å¯¹æ”¾åˆ°å¯¹åº”çš„æ¡¶ä¸Šã€‚</li><li>get çš„æ—¶å€™é€šè¿‡ä¸‹æ ‡ï¼ŒæŠŠé”®å€¼å¯¹ä»å¯¹åº”çš„æ¡¶ä¸Šå–å‡ºæ¥ã€‚</li></ul><h4 id="ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨-hash-æ–¹æ³•å‘¢" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨-hash-æ–¹æ³•å‘¢"><span>ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨ hash æ–¹æ³•å‘¢ï¼Ÿ</span></a></h4><p>çœ‹ä¸‹é¢è¿™ä¸ªå›¾ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hash-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æŸå“ˆå¸Œå€¼ä¸º <code>11111111 11111111 11110000 1110 1010</code>ï¼Œå°†å®ƒå³ç§» 16 ä½ï¼ˆh &gt;&gt;&gt; 16ï¼‰ï¼Œåˆšå¥½æ˜¯ <code>00000000 00000000 11111111 11111111</code>ï¼Œå†è¿›è¡Œå¼‚æˆ–æ“ä½œï¼ˆh ^ (h &gt;&gt;&gt; 16)ï¼‰ï¼Œç»“æœæ˜¯ <code>11111111 11111111 00001111 00010101</code></p><blockquote><p>å¼‚æˆ–ï¼ˆ<code>^</code>ï¼‰è¿ç®—æ˜¯åŸºäºäºŒè¿›åˆ¶çš„ä½è¿ç®—ï¼Œé‡‡ç”¨ç¬¦å· XOR æˆ–è€…<code>^</code>æ¥è¡¨ç¤ºï¼Œè¿ç®—è§„åˆ™æ˜¯ï¼šå¦‚æœæ˜¯åŒå€¼å– 0ã€å¼‚å€¼å– 1</p></blockquote><p>ç”±äºæ··åˆäº†åŸæ¥å“ˆå¸Œå€¼çš„é«˜ä½å’Œä½ä½ï¼Œæ‰€ä»¥ä½ä½çš„éšæœºæ€§åŠ å¤§äº†ï¼ˆæºæ‚äº†éƒ¨åˆ†é«˜ä½çš„ç‰¹å¾ï¼Œé«˜ä½çš„ä¿¡æ¯ä¹Ÿå¾—åˆ°äº†ä¿ç•™ï¼‰ã€‚</p><p>ç»“æœå†ä¸æ•°ç»„é•¿åº¦-1ï¼ˆ<code>00000000 00000000 00000000 00001111</code>ï¼‰åšå–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä¸‹æ ‡å°±æ˜¯ <code>00000000 00000000 00000000 00000101</code>ï¼Œä¹Ÿå°±æ˜¯ 5ã€‚</p><p>è¿˜è®°å¾—ä¹‹å‰æˆ‘ä»¬å‡è®¾çš„æŸå“ˆå¸Œå€¼ <code>10100101 11000100 00100101</code> å—ï¼Ÿåœ¨æ²¡æœ‰è°ƒç”¨ hash æ–¹æ³•ä¹‹å‰ï¼Œä¸ 15 åšå–æ¨¡è¿ç®—åçš„ç»“æœä¹Ÿæ˜¯ 5ï¼Œæˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹è°ƒç”¨ hash ä¹‹åçš„å–æ¨¡è¿ç®—ç»“æœæ˜¯å¤šå°‘ã€‚</p><p>æŸå“ˆå¸Œå€¼ <code>00000000 10100101 11000100 00100101</code>ï¼ˆè¡¥é½ 32 ä½ï¼‰ï¼Œå°†å®ƒå³ç§» 16 ä½ï¼ˆh &gt;&gt;&gt; 16ï¼‰ï¼Œåˆšå¥½æ˜¯ <code>00000000 00000000 00000000 10100101</code>ï¼Œå†è¿›è¡Œå¼‚æˆ–æ“ä½œï¼ˆh ^ (h &gt;&gt;&gt; 16)ï¼‰ï¼Œç»“æœæ˜¯ <code>00000000 10100101 00111011 10000000</code></p><p>ç»“æœå†ä¸æ•°ç»„é•¿åº¦-1ï¼ˆ<code>00000000 00000000 00000000 00001111</code>ï¼‰åšå–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä¸‹æ ‡å°±æ˜¯ <code>00000000 00000000 00000000 00000000</code>ï¼Œä¹Ÿå°±æ˜¯ 0ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œ<strong>hash æ–¹æ³•æ˜¯ç”¨æ¥åšå“ˆå¸Œå€¼ä¼˜åŒ–çš„</strong>ï¼ŒæŠŠå“ˆå¸Œå€¼å³ç§» 16 ä½ï¼Œä¹Ÿå°±æ­£å¥½æ˜¯è‡ªå·±é•¿åº¦çš„ä¸€åŠï¼Œä¹‹åä¸åŸå“ˆå¸Œå€¼åšå¼‚æˆ–è¿ç®—ï¼Œè¿™æ ·å°±æ··åˆäº†åŸå“ˆå¸Œå€¼ä¸­çš„é«˜ä½å’Œä½ä½ï¼Œå¢å¤§äº†éšæœºæ€§ã€‚</p><p>è¯´ç™½äº†ï¼Œ<strong>hash æ–¹æ³•å°±æ˜¯ä¸ºäº†å¢åŠ éšæœºæ€§ï¼Œè®©æ•°æ®å…ƒç´ æ›´åŠ å‡è¡¡çš„åˆ†å¸ƒï¼Œå‡å°‘ç¢°æ’</strong>ã€‚</p><p>æˆ‘è¿™é‡Œå†™äº†ä¸€æ®µæµ‹è¯•ä»£ç ï¼Œå‡å¦‚ HashMap çš„å®¹é‡å°±æ˜¯ç¬¬ä¸€æ¬¡æ‰©å®¹æ—¶å€™çš„ 16ï¼Œæˆ‘åœ¨é‡Œé¢æ”¾äº†äº”ä¸ªé”®å€¼å¯¹ï¼Œæ¥çœ‹ä¸€ä¸‹é”®çš„ hash å€¼ï¼ˆç»è¿‡ <code>hash()</code> æ–¹æ³•è®¡ç®—åçš„å“ˆå¸Œç ï¼‰å’Œç´¢å¼•ï¼ˆå–æ¨¡è¿ç®—åï¼‰</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;chenmo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;wanger&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ç‹äºŒ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;chenqingyang&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;é™ˆæ¸…æ‰¬&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xiaozhuanling&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å°è½¬é“ƒ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fangxiaowan&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ–¹å°å©‰&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// éå† HashMap</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">keySet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ‰“å° key çš„ hash å€¼ å’Œ ç´¢å¼• i</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;çš„hashå€¼ : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; çš„ç´¢å¼• : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>xiaozhuanlingçš„hashå€¼ : 14597045 çš„ç´¢å¼• : 5</span></span>
<span class="line"><span>fangxiaowançš„hashå€¼ : -392727066 çš„ç´¢å¼• : 6</span></span>
<span class="line"><span>chenmoçš„hashå€¼ : -1361556696 çš„ç´¢å¼• : 8</span></span>
<span class="line"><span>chenqingyangçš„hashå€¼ : -613818743 çš„ç´¢å¼• : 9</span></span>
<span class="line"><span>wangerçš„hashå€¼ : -795084437 çš„ç´¢å¼• : 11</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å‘ç”Ÿå“ˆå¸Œå†²çªï¼Œç´¢å¼•å€¼éƒ½æ˜¯æ¯”è¾ƒå‡åŒ€åˆ†å¸ƒçš„ï¼Œ5ã€6ã€8ã€9ã€11ï¼Œè¿™å…¶ä¸­çš„å¾ˆå¤§ä¸€éƒ¨åˆ†åŠŸåŠ³ï¼Œå°±æ¥è‡ªäº hash æ–¹æ³•ã€‚</p><h4 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“"><span>å°ç»“</span></a></h4><p>hash æ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯å°† key çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼ã€‚ç”±äº key çš„ hashCode å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œå¯èƒ½ä¼šå‡ºç°å“ˆå¸Œå†²çªï¼Œå› æ­¤éœ€è¦å°†å“ˆå¸Œå€¼é€šè¿‡ä¸€å®šçš„ç®—æ³•æ˜ å°„åˆ° HashMap çš„å®é™…å­˜å‚¨ä½ç½®ä¸Šã€‚</p><p>hash æ–¹æ³•çš„åŸç†æ˜¯ï¼Œå…ˆè·å– key å¯¹è±¡çš„ hashCode å€¼ï¼Œç„¶åå°†å…¶é«˜ä½ä¸ä½ä½è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å“ˆå¸Œå€¼ã€‚ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¼‚æˆ–æ“ä½œå‘¢ï¼Ÿå› ä¸ºå¯¹äº hashCode çš„é«˜ä½å’Œä½ä½ï¼Œå®ƒä»¬çš„åˆ†å¸ƒæ˜¯æ¯”è¾ƒå‡åŒ€çš„ï¼Œå¦‚æœåªæ˜¯ç®€å•åœ°å°†å®ƒä»¬åŠ èµ·æ¥æˆ–è€…è¿›è¡Œä½è¿ç®—ï¼Œå®¹æ˜“å‡ºç°å“ˆå¸Œå†²çªï¼Œè€Œå¼‚æˆ–æ“ä½œå¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p><p>ç„¶åå°†æ–°çš„å“ˆå¸Œå€¼å–æ¨¡ï¼ˆmodï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªå®é™…çš„å­˜å‚¨ä½ç½®ã€‚è¿™ä¸ªå–æ¨¡æ“ä½œçš„ç›®çš„æ˜¯å°†å“ˆå¸Œå€¼æ˜ å°„åˆ°æ¡¶ï¼ˆBucketï¼‰çš„ç´¢å¼•ä¸Šï¼Œæ¡¶æ˜¯ HashMap ä¸­çš„ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ¡¶ä¸­ä¼šå­˜å‚¨ç€ä¸€ä¸ªé“¾è¡¨ï¼ˆæˆ–è€…çº¢é»‘æ ‘ï¼‰ï¼Œè£…è½½å“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹ï¼ˆæ²¡æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„è¯å°±åªå­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ï¼‰ã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒHashMap çš„ hash æ–¹æ³•å°±æ˜¯å°† key å¯¹è±¡çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼ï¼Œå¹¶é€šè¿‡ä¸€å®šçš„ç®—æ³•æ˜ å°„åˆ°å®é™…çš„å­˜å‚¨ä½ç½®ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹å†³å®šäº† HashMap å†…éƒ¨é”®å€¼å¯¹çš„æŸ¥æ‰¾æ•ˆç‡ã€‚</p><h3 id="_02ã€hashmap-çš„æ‰©å®¹æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_02ã€hashmap-çš„æ‰©å®¹æœºåˆ¶"><span>02ã€HashMap çš„æ‰©å®¹æœºåˆ¶</span></a></h3><p>å¥½ï¼Œç†è§£äº† hash æ–¹æ³•åæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒHashMap çš„æ‰©å®¹æœºåˆ¶ã€‚</p><p>å¤§å®¶éƒ½çŸ¥é“ï¼Œæ•°ç»„ä¸€æ—¦åˆå§‹åŒ–åå¤§å°å°±æ— æ³•æ”¹å˜äº†ï¼Œæ‰€ä»¥å°±æœ‰äº† <a href="https://javabebetter.cn/collection/arraylist.html" target="_blank" rel="noopener noreferrer">ArrayList</a>è¿™ç§â€œåŠ¨æ€æ•°ç»„â€ï¼Œå¯ä»¥è‡ªåŠ¨æ‰©å®¹ã€‚</p><p>HashMap çš„åº•å±‚ç”¨çš„ä¹Ÿæ˜¯æ•°ç»„ã€‚å‘ HashMap é‡Œä¸åœåœ°æ·»åŠ å…ƒç´ ï¼Œå½“æ•°ç»„æ— æ³•è£…è½½æ›´å¤šå…ƒç´ æ—¶ï¼Œå°±éœ€è¦å¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œä»¥ä¾¿è£…å…¥æ›´å¤šçš„å…ƒç´ ï¼›é™¤æ­¤ä¹‹å¤–ï¼Œå®¹é‡çš„æå‡ä¹Ÿä¼šç›¸åº”åœ°æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºâ€œæ¡¶ï¼ˆå‘ï¼‰â€æ›´å¤šäº†å˜›ï¼ŒåŸæ¥éœ€è¦é€šè¿‡é“¾è¡¨å­˜å‚¨çš„ï¼ˆæŸ¥è¯¢çš„æ—¶å€™éœ€è¦éå†ï¼‰ï¼Œæ‰©å®¹åå¯èƒ½å°±æœ‰è‡ªå·±ä¸“å±çš„â€œå‘ä½â€äº†ï¼ˆç›´æ¥å°±èƒ½æŸ¥å‡ºæ¥ï¼‰ã€‚</p><p>æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼Œå®¹é‡æˆ‘ä»¬å®šä½ 16ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">HashMap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> map </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> HashMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;chenmo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ²‰é»˜&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;wanger&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ç‹äºŒ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;chenqingyang&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;é™ˆæ¸…æ‰¬&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xiaozhuanling&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å°è½¬é“ƒ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fangxiaowan&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æ–¹å°å©‰&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;yexin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å¶è¾›&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;liuting&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;åˆ˜å©·&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;yaoxiaojuan&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;å§šå°å¨Ÿ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// éå† HashMap</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">keySet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ‰“å° key çš„ hash å€¼ å’Œ ç´¢å¼• i</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;çš„hashå€¼ : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; çš„ç´¢å¼• : &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥çœ‹è¾“å‡ºç»“æœï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>liutingçš„hashå€¼ : 183821170 çš„ç´¢å¼• : 2</span></span>
<span class="line"><span>xiaozhuanlingçš„hashå€¼ : 14597045 çš„ç´¢å¼• : 5</span></span>
<span class="line"><span>fangxiaowançš„hashå€¼ : -392727066 çš„ç´¢å¼• : 6</span></span>
<span class="line"><span>yaoxiaojuançš„hashå€¼ : 1231568918 çš„ç´¢å¼• : 6</span></span>
<span class="line"><span>chenmoçš„hashå€¼ : -1361556696 çš„ç´¢å¼• : 8</span></span>
<span class="line"><span>chenqingyangçš„hashå€¼ : -613818743 çš„ç´¢å¼• : 9</span></span>
<span class="line"><span>yexinçš„hashå€¼ : 114873289 çš„ç´¢å¼• : 9</span></span>
<span class="line"><span>wangerçš„hashå€¼ : -795084437 çš„ç´¢å¼• : 11</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹åˆ°æ²¡ï¼Ÿ</p><ul><li>fangxiaowanï¼ˆæ–¹å°å©‰ï¼‰å’Œ yaoxiaojuanï¼ˆå§šå°å¨Ÿï¼‰çš„ç´¢å¼•éƒ½æ˜¯ 6ï¼›</li><li>chenqingyangï¼ˆé™ˆæ¸…æ‰¬ï¼‰å’Œ yexinï¼ˆå¶è¾›ï¼‰çš„ç´¢å¼•éƒ½æ˜¯ 9</li></ul><p>è¿™å°±æ„å‘³ç€ï¼Œè¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆåé¢ä¼šè®²ï¼‰å°†ä»–ä»¬æ”¾åœ¨åŒä¸€ä¸ªç´¢å¼•çš„é“¾è¡¨ä¸Šã€‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ç›´æ¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼ç›´æ¥æ‹¿åˆ°ï¼ˆ<a href="https://javabebetter.cn/collection/time-complexity.html" target="_blank" rel="noopener noreferrer">æ—¶é—´å¤æ‚åº¦</a>ä¸º O(1)ï¼‰ï¼Œè€Œè¦é€šè¿‡éå†çš„æ–¹å¼ï¼ˆæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼‰ã€‚</p><p>é‚£å‡å¦‚æŠŠæ•°ç»„çš„é•¿åº¦ç”± 16 æ‰©å®¹ä¸º 32 å‘¢ï¼Ÿ</p><p>å°†ä¹‹å‰ç¤ºä¾‹ä¸­çš„ n ç”± 16 æ”¹ä¸º 32 å³å¯å¾—åˆ°å¦‚ä¸‹çš„ç­”æ¡ˆï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">liutingçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 183821170</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">xiaozhuanlingçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 14597045</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 21</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fangxiaowançš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">392727066</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">yaoxiaojuançš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1231568918</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 22</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">chenmoçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1361556696</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">chenqingyangçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">613818743</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">yexinçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 114873289</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">wangerçš„hashå€¼ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">795084437</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> çš„ç´¢å¼• </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 11</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>è™½ç„¶ chenqingyangï¼ˆé™ˆæ¸…æ‰¬ï¼‰å’Œ yexinï¼ˆå¶è¾›ï¼‰çš„ç´¢å¼•ä»ç„¶æ˜¯ 9ã€‚</li><li>ä½† fangxiaowanï¼ˆæ–¹å°å©‰ï¼‰çš„ç´¢å¼•ä¸º 6ï¼Œyaoxiaojuanï¼ˆå§šå°å¨Ÿï¼‰çš„ç´¢å¼•ç”± 6 å˜ä¸º 22ï¼Œå„è‡ªéƒ½æœ‰å‘äº†ã€‚</li></ul><p>å½“ç„¶äº†ï¼Œæ•°ç»„æ˜¯æ— æ³•è‡ªåŠ¨æ‰©å®¹çš„ï¼Œæ‰€ä»¥å¦‚æœè¦æ‰©å®¹çš„è¯ï¼Œå°±éœ€è¦æ–°å»ºä¸€ä¸ªå¤§çš„æ•°ç»„ï¼Œç„¶åæŠŠä¹‹å‰å°çš„æ•°ç»„çš„å…ƒç´ å¤åˆ¶è¿‡å»ï¼Œå¹¶ä¸”è¦é‡æ–°è®¡ç®—å“ˆå¸Œå€¼å’Œé‡æ–°åˆ†é…æ¡¶ï¼ˆé‡æ–°æ•£åˆ—ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯æŒºè€—æ—¶çš„ã€‚</p><h4 id="resize-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#resize-æ–¹æ³•"><span>resize æ–¹æ³•</span></a></h4><p>HashMap çš„æ‰©å®¹æ˜¯é€šè¿‡ resize æ–¹æ³•æ¥å®ç°çš„ï¼ŒJDK 8 ä¸­èå…¥äº†çº¢é»‘æ ‘ï¼ˆé“¾è¡¨é•¿åº¦è¶…è¿‡ 8 çš„æ—¶å€™ï¼Œä¼šå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘æ¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œå¯èƒ½æ¯”è¾ƒéš¾ç†è§£ã€‚</p><p>ä¸ºäº†å‡è½»å¤§å®¶çš„å­¦ä¹ å‹åŠ›ï¼Œå°±è¿˜ä½¿ç”¨ JDK 7 çš„æºç ï¼Œææ¸…æ¥šäº† JDK 7 çš„ï¼Œå†çœ‹ JDK 8 çš„å°±ä¼šè½»æ¾å¾ˆå¤šã€‚</p><p>æ¥çœ‹ Java7 çš„ resize æ–¹æ³•æºç ï¼Œæˆ‘åŠ äº†æ³¨é‡Šï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// newCapacityä¸ºæ–°çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newCapacity) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å°æ•°ç»„ï¼Œä¸´æ—¶è¿‡åº¦ä¸‹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] oldTable </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ‰©å®¹å‰çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> oldTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // MAXIMUM_CAPACITY ä¸ºæœ€å¤§å®¹é‡ï¼Œ2 çš„ 30 æ¬¡æ–¹ = 1&lt;&lt;30</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // å®¹é‡è°ƒæ•´ä¸º Integer çš„æœ€å¤§å€¼ 0x7fffffffï¼ˆåå…­è¿›åˆ¶ï¼‰=2 çš„ 31 æ¬¡æ–¹-1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MAX_VALUE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆå¤§å®¹é‡ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] newTable </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Entry</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[newCapacity]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æŠŠå°æ•°ç»„çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    transfer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> initHashSeedAsNeeded</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(newCapacity))</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å¼•ç”¨æ–°çš„å¤§æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    table </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // é‡æ–°è®¡ç®—é˜ˆå€¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">min</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> loadFactor, MAXIMUM_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–°çš„å®¹é‡ newCapacityï¼Œç„¶åå°† HashMap çš„å®¹é‡æ‰©å¤§åˆ° newCapacityã€‚</p><p>é¦–å…ˆï¼Œæ–¹æ³•è·å–å½“å‰ HashMap çš„æ—§æ•°ç»„ oldTable å’Œæ—§å®¹é‡ oldCapacityã€‚å¦‚æœæ—§å®¹é‡å·²ç»è¾¾åˆ° HashMap æ”¯æŒçš„æœ€å¤§å®¹é‡ MAXIMUM_CAPACITYï¼ˆ 2 çš„ 30 æ¬¡æ–¹ï¼‰ï¼Œå°±å°†æ–°çš„é˜ˆå€¼ threshold è°ƒæ•´ä¸º Integer.MAX_VALUEï¼ˆ2 çš„ 31 æ¬¡æ–¹ - 1ï¼‰ï¼Œè¿™æ˜¯å› ä¸º HashMap çš„å®¹é‡ä¸èƒ½è¶…è¿‡ MAXIMUM_CAPACITYã€‚</p><p>å› ä¸º 2,147,483,647ï¼ˆInteger.MAX_VALUEï¼‰ - 1,073,741,824ï¼ˆMAXIMUM_CAPACITYï¼‰ = 1,073,741,823ï¼Œåˆšå¥½ç›¸å·®ä¸€å€ï¼ˆHashMap æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯ä¹‹å‰çš„ä¸€å€ï¼‰ã€‚</p><p>æ¥ç€ï¼Œæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ newTableï¼Œå¹¶å°†æ—§æ•°ç»„ oldTable ä¸­çš„å…ƒç´ è½¬ç§»åˆ°æ–°æ•°ç»„ newTable ä¸­ã€‚è½¬ç§»è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨ transfer æ–¹æ³•æ¥å®ç°çš„ã€‚è¯¥æ–¹æ³•éå†æ—§æ•°ç»„ä¸­çš„æ¯ä¸ªæ¡¶ï¼Œå¹¶å°†æ¯ä¸ªæ¡¶ä¸­çš„é”®å€¼å¯¹é‡æ–°è®¡ç®—å“ˆå¸Œå€¼åï¼Œå°†å…¶æ’å…¥åˆ°æ–°æ•°ç»„å¯¹åº”çš„æ¡¶ä¸­ã€‚</p><p>è½¬ç§»å®Œæˆåï¼Œæ–¹æ³•å°† HashMap å†…éƒ¨çš„æ•°ç»„å¼•ç”¨ table æŒ‡å‘æ–°æ•°ç»„ newTableï¼Œå¹¶é‡æ–°è®¡ç®—é˜ˆå€¼ thresholdã€‚æ–°çš„é˜ˆå€¼æ˜¯æ–°å®¹é‡ newCapacity ä¹˜ä»¥è´Ÿè½½å› å­ loadFactor çš„ç»“æœï¼Œä½†å¦‚æœè®¡ç®—ç»“æœè¶…è¿‡äº† HashMap æ”¯æŒçš„æœ€å¤§å®¹é‡ MAXIMUM_CAPACITYï¼Œåˆ™å°†é˜ˆå€¼è®¾ç½®ä¸º MAXIMUM_CAPACITY + 1ï¼Œè¿™æ˜¯å› ä¸º HashMap çš„å…ƒç´ æ•°é‡ä¸èƒ½è¶…è¿‡ MAXIMUM_CAPACITYã€‚</p><h4 id="æ–°å®¹é‡-newcapacity" tabindex="-1"><a class="header-anchor" href="#æ–°å®¹é‡-newcapacity"><span>æ–°å®¹é‡ newCapacity</span></a></h4><p>é‚£ newCapacity æ˜¯å¦‚ä½•è®¡ç®—çš„å‘¢ï¼Ÿ</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°å®¹é‡ newCapacity è¢«åˆå§‹åŒ–ä¸ºåŸå®¹é‡ oldCapacity çš„ä¸¤å€ã€‚ç„¶åï¼Œå¦‚æœ newCapacity è¶…è¿‡äº† HashMap çš„å®¹é‡é™åˆ¶ MAXIMUM_CAPACITYï¼ˆ2^30ï¼‰ï¼Œå°±å°† newCapacity è®¾ç½®ä¸º MAXIMUM_CAPACITYã€‚å¦‚æœ newCapacity å°äºé»˜è®¤åˆå§‹å®¹é‡ DEFAULT_INITIAL_CAPACITYï¼ˆ16ï¼‰ï¼Œå°±å°† newCapacity è®¾ç½®ä¸º DEFAULT_INITIAL_CAPACITYã€‚è¿™æ ·å¯ä»¥é¿å…æ–°å®¹é‡å¤ªå°æˆ–å¤ªå¤§å¯¼è‡´å“ˆå¸Œå†²çªè¿‡å¤šæˆ–è€…æµªè´¹ç©ºé—´ã€‚</p><p>Java 8 çš„æ—¶å€™ï¼ŒnewCapacity çš„è®¡ç®—æ–¹å¼å‘ç”Ÿäº†ä¸€äº›ç»†å¾®çš„å˜åŒ–ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œ<code>oldCapacity * 2</code> å˜æˆäº† <code>oldCapacity &lt;&lt; 1</code>ï¼Œå‡ºç°äº†å·¦ç§»ï¼ˆ<code>&lt;&lt;</code>ï¼‰ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>a=39</span></span>
<span class="line"><span>b = a &lt;&lt; 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>åè¿›åˆ¶ 39 ç”¨ 8 ä½çš„äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œå°±æ˜¯ 00100111ï¼Œå·¦ç§»ä¸¤ä½åæ˜¯ 10011100ï¼ˆä½ä½ç”¨ 0 è¡¥ä¸Šï¼‰ï¼Œå†è½¬æˆåè¿›åˆ¶æ•°å°±æ˜¯ 156ã€‚</p><p>ç§»ä½è¿ç®—é€šå¸¸å¯ä»¥ç”¨æ¥ä»£æ›¿ä¹˜æ³•è¿ç®—å’Œé™¤æ³•è¿ç®—ã€‚ä¾‹å¦‚ï¼Œå°† 0010011ï¼ˆ39ï¼‰å·¦ç§»ä¸¤ä½å°±æ˜¯ 10011100ï¼ˆ156ï¼‰ï¼Œåˆšå¥½å˜æˆäº†åŸæ¥çš„ 4 å€ã€‚</p><p>å®é™…ä¸Šå‘¢ï¼ŒäºŒè¿›åˆ¶æ•°å·¦ç§»åä¼šå˜æˆåŸæ¥çš„ 2 å€ã€4 å€ã€8 å€ï¼Œè®°ä½è¿™ä¸ªå°±å¥½ã€‚</p><h4 id="transfer-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#transfer-æ–¹æ³•"><span>transfer æ–¹æ³•</span></a></h4><p>æ¥ä¸‹æ¥ï¼Œæ¥è¯´ transfer æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨æ¥è½¬ç§»ï¼Œå°†æ—§çš„å°æ•°ç»„å…ƒç´ æ‹·è´åˆ°æ–°çš„å¤§æ•°ç»„ä¸­ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> transfer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Entry</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[] newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rehash) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ–°çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // éå†å°æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        while</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> !=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ‹‰é“¾æ³•ï¼Œç›¸åŒ key ä¸Šçš„ä¸åŒå€¼</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> next </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— hash</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (rehash) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ ¹æ®å¤§æ•°ç»„çš„å®¹é‡ï¼Œå’Œé”®çš„ hash è®¡ç®—å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> indexFor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newCapacity)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTable[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ”¾åœ¨æ–°çš„æ•°ç»„ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            newTable[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // é“¾è¡¨ä¸Šçš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ–°çš„ Entry æ•°ç»„ newTable å’Œä¸€ä¸ªå¸ƒå°”å€¼ rehash ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­ newTable è¡¨ç¤ºæ–°çš„å“ˆå¸Œè¡¨ï¼Œrehash è¡¨ç¤ºæ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—é”®çš„å“ˆå¸Œå€¼ã€‚</p><p>åœ¨æ–¹æ³•ä¸­ï¼Œé¦–å…ˆè·å–æ–°å“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰çš„é•¿åº¦ newCapacityï¼Œç„¶åéå†æ—§å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ª Entryã€‚å¯¹äºæ¯ä¸ª Entryï¼Œä½¿ç”¨æ‹‰é“¾æ³•å°†ç›¸åŒ key å€¼çš„ä¸åŒ value å€¼å­˜å‚¨åœ¨åŒä¸€ä¸ªé“¾è¡¨ä¸­ã€‚å¦‚æœ rehash ä¸º trueï¼Œåˆ™éœ€è¦é‡æ–°è®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œå¹¶å°†æ–°çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨ Entry çš„ hash å±æ€§ä¸­ã€‚</p><p>æ¥ç€ï¼Œæ ¹æ®æ–°å“ˆå¸Œè¡¨çš„é•¿åº¦å’Œé”®çš„å“ˆå¸Œå€¼ï¼Œè®¡ç®— Entry åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½® iï¼Œç„¶åå°†è¯¥ Entry æ·»åŠ åˆ°æ–°æ•°ç»„çš„ i ä½ç½®ä¸Šã€‚ç”±äºæ–°å…ƒç´ éœ€è¦è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œå› æ­¤å°†æ–°å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºå½“å‰æ•°ç»„ä½ç½®ä¸Šçš„å…ƒç´ ã€‚</p><p>æœ€åï¼Œéå†å®Œæ—§å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ åï¼Œè½¬ç§»å·¥ä½œå®Œæˆï¼Œæ–°çš„å“ˆå¸Œè¡¨ newTable å·²ç»åŒ…å«äº†æ—§å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p><h4 id="æ‹‰é“¾æ³•" tabindex="-1"><a class="header-anchor" href="#æ‹‰é“¾æ³•"><span>æ‹‰é“¾æ³•</span></a></h4><p>æ³¨æ„ï¼Œ<code>e.next = newTable[i]</code>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº†å•é“¾è¡¨çš„å¤´æ’å…¥æ–¹å¼ï¼ŒåŒä¸€ä½ç½®ä¸Šæ–°å…ƒç´ æ€»ä¼šè¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ä½ç½®ï¼›è¿™æ ·å…ˆæ”¾åœ¨ä¸€ä¸ªç´¢å¼•ä¸Šçš„å…ƒç´ æœ€ç»ˆä¼šè¢«æ”¾åˆ°é“¾è¡¨çš„å°¾éƒ¨ï¼Œè¿™å°±ä¼šå¯¼è‡´<strong>åœ¨æ—§æ•°ç»„ä¸­åŒä¸€ä¸ªé“¾è¡¨ä¸Šçš„å…ƒç´ ï¼Œé€šè¿‡é‡æ–°è®¡ç®—ç´¢å¼•ä½ç½®åï¼Œæœ‰å¯èƒ½è¢«æ”¾åˆ°äº†æ–°æ•°ç»„çš„ä¸åŒä½ç½®ä¸Š</strong>ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJava 8 åšäº†å¾ˆå¤§çš„ä¼˜åŒ–ï¼ˆè®²æ‰©å®¹çš„æ—¶å€™ä¼šè®²åˆ°ï¼‰ã€‚</p><h4 id="java-8-æ‰©å®¹" tabindex="-1"><a class="header-anchor" href="#java-8-æ‰©å®¹"><span>Java 8 æ‰©å®¹</span></a></h4><p>JDK 8 çš„æ‰©å®¹æºä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] oldTab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // è·å–åŸæ¥çš„æ•°ç»„ table</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oldCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldTab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> oldTab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // è·å–æ•°ç»„é•¿åº¦ oldCap</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oldThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> threshold</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // è·å–é˜ˆå€¼ oldThr</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newCap</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå°±åªå¥½éšä½ ç¢°æ’å»å§</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MAX_VALUE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldTab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŸæ¥çš„2å€</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                 oldCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            newThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // double threshold</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// initial capacity was placed in threshold</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldThr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// zero initial threshold signifies using defaults</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)(DEFAULT_LOAD_FACTOR </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // è®¡ç®—æ–°çš„ resize ä¸Šé™</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        float</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> ft </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> loadFactor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newThr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ft </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)MAXIMUM_CAPACITY </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                  (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)ft </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MAX_VALUE</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newThr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†æ–°é˜ˆå€¼èµ‹å€¼ç»™æˆå‘˜å˜é‡ threshold</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">SuppressWarnings</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">({</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;rawtypes&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;unchecked&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">})</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] newTab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Node</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[])</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[newCap]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // åˆ›å»ºæ–°æ•°ç»„ newTab</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    table </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†æ–°æ•°ç»„ newTab èµ‹å€¼ç»™æˆå‘˜å˜é‡ table</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldTab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœæ—§æ•°ç»„ oldTab ä¸ä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> j </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> j </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">j) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// éå†æ—§æ•°ç»„çš„æ¯ä¸ªå…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldTab[j]) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ ä¸ä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                oldTab[j] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†æ—§æ•°ç»„ä¸­è¯¥ä½ç½®çš„å…ƒç´ ç½®ä¸º nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ æ²¡æœ‰å†²çª</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    newTab[</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCap </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // ç›´æ¥å°†è¯¥å…ƒç´ æ”¾å…¥æ–°æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instanceof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> TreeNode) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ æ˜¯æ ‘èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    ((</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">TreeNode</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)e)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, newTab, j, oldCap);</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†è¯¥æ ‘èŠ‚ç‚¹åˆ†è£‚æˆä¸¤ä¸ªé“¾è¡¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ æ˜¯é“¾è¡¨</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">                    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> loHead </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> loTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // ä½ä½é“¾è¡¨çš„å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">                    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hiHead </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hiTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // é«˜ä½é“¾è¡¨çš„å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">                    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    do</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// éå†è¯¥é“¾è¡¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                        next </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCap) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ åœ¨ä½ä½é“¾è¡¨ä¸­</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (loTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœä½ä½é“¾è¡¨è¿˜æ²¡æœ‰ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                                loHead </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†è¯¥å…ƒç´ ä½œä¸ºä½ä½é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                            else</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                                loTail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å¦‚æœä½ä½é“¾è¡¨å·²ç»æœ‰ç»“ç‚¹ï¼Œå°†è¯¥å…ƒç´ åŠ å…¥ä½ä½é“¾è¡¨çš„å°¾éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                            loTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // æ›´æ–°ä½ä½é“¾è¡¨çš„å°¾ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                        }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                        else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœè¯¥å…ƒç´ åœ¨é«˜ä½é“¾è¡¨ä¸­</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (hiTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœé«˜ä½é“¾è¡¨è¿˜æ²¡æœ‰ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                                hiHead </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†è¯¥å…ƒç´ ä½œä¸ºé«˜ä½é“¾è¡¨çš„å¤´ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                            else</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                                hiTail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å¦‚æœé«˜ä½é“¾è¡¨å·²ç»æœ‰ç»“ç‚¹ï¼Œå°†è¯¥å…ƒç´ åŠ å…¥é«˜ä½é“¾è¡¨çš„å°¾éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                            hiTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // æ›´æ–°é«˜ä½é“¾è¡¨çš„å°¾ç»“ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> next) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> //</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (loTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœä½ä½é“¾è¡¨ä¸ä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                        loTail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†ä½ä½é“¾è¡¨çš„å°¾ç»“ç‚¹æŒ‡å‘ nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                        newTab[j] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> loHead</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†ä½ä½é“¾è¡¨ä½œä¸ºæ–°æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (hiTail </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// å¦‚æœé«˜ä½é“¾è¡¨ä¸ä¸ºç©º</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                        hiTail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†é«˜ä½é“¾è¡¨çš„å°¾ç»“ç‚¹æŒ‡å‘ nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                        newTab[j </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldCap] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hiHead</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // å°†é«˜ä½é“¾è¡¨ä½œä¸ºæ–°æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // è¿”å›æ–°æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1ã€è·å–åŸæ¥çš„æ•°ç»„ tableã€æ•°ç»„é•¿åº¦ oldCap å’Œé˜ˆå€¼ oldThrã€‚</p><p>2ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ä¸ºç©ºï¼Œåˆ™æ ¹æ®æ‰©å®¹è§„åˆ™è®¡ç®—æ–°æ•°ç»„é•¿åº¦ newCap å’Œæ–°é˜ˆå€¼ newThrï¼Œç„¶åå°†åŸæ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚</p><p>3ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ºç©ºä½†é˜ˆå€¼ oldThr ä¸ä¸ºé›¶ï¼Œåˆ™è¯´æ˜æ˜¯é€šè¿‡å¸¦å‚æ•°æ„é€ æ–¹æ³•åˆ›å»ºçš„ HashMapï¼Œæ­¤æ—¶å°†é˜ˆå€¼ä½œä¸ºæ–°æ•°ç»„é•¿åº¦ newCapã€‚</p><p>4ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table å’Œé˜ˆå€¼ oldThr éƒ½ä¸ºé›¶ï¼Œåˆ™è¯´æ˜æ˜¯é€šè¿‡æ— å‚æ•°æ„é€ æ–¹æ³•åˆ›å»ºçš„ HashMapï¼Œæ­¤æ—¶å°†é»˜è®¤åˆå§‹å®¹é‡ <code>DEFAULT_INITIAL_CAPACITYï¼ˆ16ï¼‰</code>å’Œé»˜è®¤è´Ÿè½½å› å­ <code>DEFAULT_LOAD_FACTORï¼ˆ0.75ï¼‰</code>è®¡ç®—å‡ºæ–°æ•°ç»„é•¿åº¦ newCap å’Œæ–°é˜ˆå€¼ newThrã€‚</p><p>5ã€è®¡ç®—æ–°é˜ˆå€¼ thresholdï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™æˆå‘˜å˜é‡ thresholdã€‚</p><p>6ã€åˆ›å»ºæ–°æ•°ç»„ newTabï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™æˆå‘˜å˜é‡ tableã€‚</p><p>7ã€å¦‚æœæ—§æ•°ç»„ oldTab ä¸ä¸ºç©ºï¼Œåˆ™éå†æ—§æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†å…¶å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚</p><p>8ã€è¿”å›æ–°æ•°ç»„ newTabã€‚</p><p>åœ¨ JDK 7 ä¸­ï¼Œå®šä½å…ƒç´ ä½ç½®çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> indexFor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> length) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // assert Integer.bitCount(length) == 1 : &quot;length must be a non-zero power of 2&quot;;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (length</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®å°±ç›¸å½“äºç”¨é”®çš„å“ˆå¸Œå€¼å’Œæ•°ç»„å¤§å°å–æ¨¡ï¼Œä¹Ÿå°±æ˜¯ <code>hashCode % table.length</code>ã€‚</p><p>é‚£æˆ‘ä»¬æ¥å‡è®¾ï¼š</p><ul><li>æ•°ç»„ table çš„é•¿åº¦ä¸º 2</li><li>é”®çš„å“ˆå¸Œå€¼ä¸º 3ã€7ã€5</li></ul><p>å–æ¨¡è¿ç®—åï¼Œé”®å‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼Œéƒ½åˆ° <code>table[1]</code> ä¸Šäº†ã€‚é‚£ä¹ˆæ‰©å®¹å‰å°±æ˜¯è¿™ä¸ªæ ·å­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ•°ç»„çš„å®¹é‡ä¸º 2ï¼Œkey ä¸º 3ã€7ã€5 çš„å…ƒç´ åœ¨ <code>table[1]</code> ä¸Šï¼Œéœ€è¦é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªã€‚</p><p>å‡è®¾è´Ÿè½½å› å­ loadFactor ä¸º 1ï¼Œä¹Ÿå°±æ˜¯å½“å…ƒç´ çš„ä¸ªæ•°å¤§äº table çš„é•¿åº¦æ—¶è¿›è¡Œæ‰©å®¹ã€‚</p><p>æ‰©å®¹åçš„æ•°ç»„å®¹é‡ä¸º 4ã€‚</p><ul><li>key 3 å–æ¨¡ï¼ˆ3%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ <code>table[3]</code> ä¸Šã€‚</li><li>key 7 å–æ¨¡ï¼ˆ7%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ <code>table[3]</code> ä¸Šçš„é“¾è¡¨å¤´éƒ¨ã€‚</li><li>key 5 å–æ¨¡ï¼ˆ5%4ï¼‰åæ˜¯ 1ï¼Œæ”¾åœ¨ <code>table[1]</code> ä¸Šã€‚</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>7 è·‘åˆ° 3 çš„å‰é¢äº†ï¼Œå› ä¸º JDK 7 ä½¿ç”¨çš„æ˜¯å¤´æ’æ³•ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTable[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åŒæ—¶ï¼Œæ‰©å®¹åçš„ 5 è·‘åˆ°äº†ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ã€‚</p><p>æœ€å¥½çš„æƒ…å†µå°±æ˜¯ï¼Œæ‰©å®¹åçš„ 7 åœ¨ 3 çš„åé¢ï¼Œ5 åœ¨ 7 çš„åé¢ï¼Œä¿æŒåŸæ¥çš„é¡ºåºã€‚</p><p>JDK 8 å®Œå…¨æ‰­è½¬äº†è¿™ä¸ªå±€é¢ï¼Œå› ä¸º JDK 8 çš„å“ˆå¸Œç®—æ³•è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå½“æ•°ç»„é•¿åº¦ä¸º 2 çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œèƒ½å¤Ÿå¾ˆå·§å¦™åœ°è§£å†³ JDK 7 ä¸­é‡åˆ°çš„é—®é¢˜ã€‚</p><p>JDK 8 çš„æ‰©å®¹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] newTab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[newCapacity]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> j </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> j </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> oldTab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldTab[j]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newIndex </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // è®¡ç®—åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // å°†èŠ‚ç‚¹ç§»åŠ¨åˆ°æ–°æ•°ç»„çš„å¯¹åº”ä½ç½®</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        newTab[newIndex] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°ç´¢å¼•çš„è®¡ç®—æ–¹å¼æ˜¯ <code>hash &amp; (newCapacity - 1)</code>ï¼Œå’Œ JDK 7 çš„ <code>h &amp; (length-1)</code>æ²¡ä»€ä¹ˆå¤§çš„å·®åˆ«ï¼Œå·®åˆ«ä¸»è¦åœ¨ hash æ–¹æ³•ä¸Šï¼ŒJDK 8 æ˜¯è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿‡å°†é”®çš„<code>hashCode()</code>è¿”å›çš„ 32 ä½å“ˆå¸Œå€¼ä¸è¿™ä¸ªå“ˆå¸Œå€¼æ— ç¬¦å·å³ç§» 16 ä½çš„ç»“æœè¿›è¡Œå¼‚æˆ–ã€‚</p><p>JDK 7 æ˜¯è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> k) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hashSeed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> !=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> k </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instanceof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> String) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> sun</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">misc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Hashing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stringHash32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((String) k);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // This function ensures that hashCodes that differ only by</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // constant multiples at each bit position have a bounded</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // number of collisions (approximately 8 at default load factor).</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ç”¨ JDK 8 çš„å“ˆå¸Œç®—æ³•æ¥è®¡ç®—ä¸€ä¸‹å“ˆå¸Œå€¼ï¼Œå°±ä¼šå‘ç°åˆ«æœ‰æ´å¤©ã€‚</p><p>å‡è®¾æ‰©å®¹å‰çš„æ•°ç»„é•¿åº¦ä¸º 16ï¼ˆn-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0000 1111ï¼Œ1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>0</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>1</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>3</mn></msup></math></mjx-assistive-mml></mjx-container>=1+2+4+8=15ï¼‰ï¼Œkey1 ä¸º 5ï¼ˆäºŒè¿›åˆ¶ä¸º 0000 0101ï¼‰ï¼Œkey2 ä¸º 21ï¼ˆäºŒè¿›åˆ¶ä¸º 0001 0101ï¼‰ã€‚</p><ul><li>key1 å’Œ n-1 åš &amp; è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ï¼›</li><li>key2 å’Œ n-1 åš &amp; è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ã€‚</li><li>æ­¤æ—¶å“ˆå¸Œå†²çªäº†ï¼Œç”¨æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªã€‚</li></ul><p>ç°åœ¨ï¼ŒHashMap è¿›è¡Œäº†æ‰©å®¹ï¼Œå®¹é‡ä¸ºåŸæ¥çš„ 2 å€ï¼Œä¹Ÿå°±æ˜¯ 32ï¼ˆn-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0001 1111ï¼Œ1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>0</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>1</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 936.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.885ex" role="img" focusable="false" viewBox="0 -833.2 936.6 833.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>3</mn></msup></math></mjx-assistive-mml></mjx-container>+1X<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.119ex" height="1.904ex" role="img" focusable="false" viewBox="0 -841.7 936.6 841.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>4</mn></msup></math></mjx-assistive-mml></mjx-container>=1+2+4+8+16=31ï¼‰ã€‚</p><ul><li>key1 å’Œ n-1 åš &amp; è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ï¼›</li><li>key2 å’Œ n-1 åš &amp; è¿ç®—åä¸º 0001 0101ï¼Œä¹Ÿå°±æ˜¯ 21=5+16ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„æ‰©å®¹å‰çš„ä½ç½®+åŸæ•°ç»„çš„é•¿åº¦ã€‚</li></ul><p>ç¥å¥‡å§ï¼Ÿ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-26.png" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹ä½ç½®å˜åŒ–" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹ä½ç½®å˜åŒ–</figcaption></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ JDK 8 çš„æ–° hash ç®—æ³•ä¸‹ï¼Œæ•°ç»„æ‰©å®¹åçš„ç´¢å¼•ä½ç½®ï¼Œè¦ä¹ˆå°±æ˜¯åŸæ¥çš„ç´¢å¼•ä½ç½®ï¼Œè¦ä¹ˆå°±æ˜¯â€œåŸç´¢å¼•+åŸæ¥çš„å®¹é‡â€ï¼Œéµå¾ªä¸€å®šçš„è§„å¾‹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-27.png" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹èŠ‚ç‚¹è¿ç§»ç¤ºæ„å›¾" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹èŠ‚ç‚¹è¿ç§»ç¤ºæ„å›¾</figcaption></figure><p>å½“ç„¶äº†ï¼Œè¿™ä¸ªåŠŸåŠ³æ—¢å±äºæ–°çš„å“ˆå¸Œç®—æ³•ï¼Œä¹Ÿç¦»ä¸å¼€ n ä¸º 2 çš„æ•´æ•°æ¬¡å¹‚è¿™ä¸ªå‰æï¼Œè¿™æ˜¯å®ƒä¿©é€šåŠ›åˆä½œåçš„ç»“æœ <code>hash &amp; (newCapacity - 1)</code>ã€‚</p><h4 id="å°ç»“-1" tabindex="-1"><a class="header-anchor" href="#å°ç»“-1"><span>å°ç»“</span></a></h4><p>å½“æˆ‘ä»¬å¾€ HashMap ä¸­ä¸æ–­æ·»åŠ å…ƒç´ æ—¶ï¼ŒHashMap ä¼šè‡ªåŠ¨è¿›è¡Œæ‰©å®¹æ“ä½œï¼ˆæ¡ä»¶æ˜¯å…ƒç´ æ•°é‡è¾¾åˆ°è´Ÿè½½å› å­ï¼ˆload factorï¼‰ä¹˜ä»¥æ•°ç»„é•¿åº¦æ—¶ï¼‰ï¼Œä»¥ä¿è¯å…¶å­˜å‚¨çš„å…ƒç´ æ•°é‡ä¸ä¼šè¶…å‡ºå…¶å®¹é‡é™åˆ¶ã€‚</p><p>åœ¨è¿›è¡Œæ‰©å®¹æ“ä½œæ—¶ï¼ŒHashMap ä¼šå…ˆå°†æ•°ç»„çš„é•¿åº¦æ‰©å¤§ä¸€å€ï¼Œç„¶åå°†åŸæ¥çš„å…ƒç´ é‡æ–°æ•£åˆ—åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚</p><p>ç”±äºå…ƒç´ çš„ä½ç½®æ˜¯é€šè¿‡ key çš„ hash å’Œæ•°ç»„é•¿åº¦è¿›è¡Œä¸è¿ç®—å¾—åˆ°çš„ï¼Œå› æ­¤åœ¨æ•°ç»„é•¿åº¦æ‰©å¤§åï¼Œå…ƒç´ çš„ä½ç½®ä¹Ÿä¼šå‘ç”Ÿä¸€äº›æ”¹å˜ã€‚ä¸€éƒ¨åˆ†ç´¢å¼•ä¸å˜ï¼Œå¦ä¸€éƒ¨åˆ†ç´¢å¼•ä¸ºâ€œåŸç´¢å¼•+æ—§å®¹é‡â€ã€‚</p><h3 id="_03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯-0-75" tabindex="-1"><a class="header-anchor" href="#_03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯-0-75"><span>03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯ 0.75</span></a></h3><p>ä¸Šä¸€ä¸ªé—®é¢˜æåˆ°äº†åŠ è½½å› å­ï¼ˆæˆ–è€…å«è´Ÿè½½å› å­ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜æˆ‘ä»¬æ¥è®¨è®ºä¸ºä»€ä¹ˆåŠ è½½å› å­æ˜¯ 0.75 è€Œä¸æ˜¯ 0.6ã€0.8ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒHashMap æ˜¯ç”¨æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘å®ç°çš„ï¼Œæˆ‘ä»¬è¦æƒ³å¾€ HashMap ä¸­æ·»åŠ æ•°æ®ï¼ˆå…ƒç´ /é”®å€¼å¯¹ï¼‰æˆ–è€…å–æ•°æ®ï¼Œå°±éœ€è¦ç¡®å®šæ•°æ®åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ã€‚</p><p>å…ˆæŠŠæ•°æ®çš„é”®è¿›è¡Œä¸€æ¬¡ hashï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (h </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;&gt;&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 16</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†åšä¸€æ¬¡å–æ¨¡è¿ç®—ç¡®å®šä¸‹æ ‡ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é‚£è¿™æ ·çš„è¿‡ç¨‹å®¹æ˜“äº§ç”Ÿä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>æ•°ç»„çš„å®¹é‡è¿‡å°ï¼Œç»è¿‡å“ˆå¸Œè®¡ç®—åçš„ä¸‹æ ‡ï¼Œå®¹æ˜“å‡ºç°å†²çªï¼›</li><li>æ•°ç»„çš„å®¹é‡è¿‡å¤§ï¼Œå¯¼è‡´ç©ºé—´åˆ©ç”¨ç‡ä¸é«˜ã€‚</li></ul><p>åŠ è½½å› å­æ˜¯ç”¨æ¥è¡¨ç¤º HashMap ä¸­æ•°æ®çš„å¡«æ»¡ç¨‹åº¦ï¼š</p><blockquote><p>åŠ è½½å› å­ = å¡«å…¥å“ˆå¸Œè¡¨ä¸­çš„æ•°æ®ä¸ªæ•° / å“ˆå¸Œè¡¨çš„é•¿åº¦</p></blockquote><p>è¿™å°±æ„å‘³ç€ï¼š</p><ul><li>åŠ è½½å› å­è¶Šå°ï¼Œå¡«æ»¡çš„æ•°æ®å°±è¶Šå°‘ï¼Œå“ˆå¸Œå†²çªçš„å‡ ç‡å°±å‡å°‘äº†ï¼Œä½†æµªè´¹äº†ç©ºé—´ï¼Œè€Œä¸”è¿˜ä¼šæé«˜æ‰©å®¹çš„è§¦å‘å‡ ç‡ï¼›</li><li>åŠ è½½å› å­è¶Šå¤§ï¼Œå¡«æ»¡çš„æ•°æ®å°±è¶Šå¤šï¼Œç©ºé—´åˆ©ç”¨ç‡å°±é«˜ï¼Œä½†å“ˆå¸Œå†²çªçš„å‡ ç‡å°±å˜å¤§äº†ã€‚</li></ul><p>å¥½éš¾ï¼ï¼ï¼ï¼</p><p>è¿™å°±å¿…é¡»åœ¨â€œ<strong>å“ˆå¸Œå†²çª</strong>â€ä¸â€œ<strong>ç©ºé—´åˆ©ç”¨ç‡</strong>â€ä¸¤è€…ä¹‹é—´æœ‰æ‰€å–èˆï¼Œå°½é‡ä¿æŒå¹³è¡¡ï¼Œè°ä¹Ÿä¸ç¢ç€è°ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼ŒHashMap æ˜¯é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªçš„ã€‚</p><p>ä¸ºäº†å‡å°‘å“ˆå¸Œå†²çªå‘ç”Ÿçš„æ¦‚ç‡ï¼Œå½“ HashMap çš„æ•°ç»„é•¿åº¦è¾¾åˆ°ä¸€ä¸ª<strong>ä¸´ç•Œå€¼</strong>çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹ï¼Œæ‰©å®¹åä¼šå°†ä¹‹å‰å°æ•°ç»„ä¸­çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“è€—æ—¶çš„æ“ä½œã€‚</p><p>è¿™ä¸ªä¸´ç•Œå€¼ç”±ä»€ä¹ˆæ¥ç¡®å®šå‘¢ï¼Ÿ</p><blockquote><p>ä¸´ç•Œå€¼ = åˆå§‹å®¹é‡ * åŠ è½½å› å­</p></blockquote><p>ä¸€å¼€å§‹ï¼ŒHashMap çš„å®¹é‡æ˜¯ 16ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> DEFAULT_INITIAL_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // aka 16</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åŠ è½½å› å­æ˜¯ 0.75ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> DEFAULT_LOAD_FACTOR </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.75f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ 16*0.75=12 æ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹æœºåˆ¶ã€‚</p><p><strong>ä¸ºä»€ä¹ˆåŠ è½½å› å­ä¼šé€‰æ‹© 0.75 å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯ 0.8ã€0.6 å‘¢</strong>ï¼Ÿ</p><p>è¿™è·Ÿç»Ÿè®¡å­¦é‡Œçš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸç†â€”â€”æ³Šæ¾åˆ†å¸ƒæœ‰å…³ã€‚</p><p>æ˜¯æ—¶å€™ä¸Šç»´åŸºç™¾ç§‘äº†ï¼š</p><blockquote><p>æ³Šæ¾åˆ†å¸ƒï¼Œæ˜¯ä¸€ç§ç»Ÿè®¡ä¸æ¦‚ç‡å­¦é‡Œå¸¸è§åˆ°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒï¼Œç”±æ³•å›½æ•°å­¦å®¶è¥¿è«æ©Â·å¾·å°¼Â·æ³Šæ¾åœ¨ 1838 å¹´æ—¶æå‡ºã€‚å®ƒä¼šå¯¹éšæœºäº‹ä»¶çš„å‘ç”Ÿæ¬¡æ•°è¿›è¡Œå»ºæ¨¡ï¼Œé€‚ç”¨äºæ¶‰åŠè®¡ç®—åœ¨ç»™å®šçš„æ—¶é—´æ®µã€è·ç¦»ã€é¢ç§¯ç­‰èŒƒå›´å†…å‘ç”Ÿéšæœºäº‹ä»¶çš„æ¬¡æ•°çš„åº”ç”¨æƒ…å½¢ã€‚</p></blockquote><p>é˜®ä¸€å³°è€å¸ˆæ›¾åœ¨ä¸€ç¯‡åšæ–‡ä¸­è¯¦ç»†çš„ä»‹ç»äº†æ³Šæ¾åˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒï¼Œå¤§å®¶å¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚</p><blockquote><p>é“¾æ¥ï¼š<a href="https://www.ruanyifeng.com/blog/2015/06/poisson-distribution.html" target="_blank" rel="noopener noreferrer">https://www.ruanyifeng.com/blog/2015/06/poisson-distribution.html</a></p></blockquote><p>å…·ä½“æ˜¯ç”¨è¿™ä¹ˆä¸€ä¸ªå…¬å¼æ¥è¡¨ç¤ºçš„ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç­‰å·çš„å·¦è¾¹ï¼ŒP è¡¨ç¤ºæ¦‚ç‡ï¼ŒN è¡¨ç¤ºæŸç§å‡½æ•°å…³ç³»ï¼Œt è¡¨ç¤ºæ—¶é—´ï¼Œn è¡¨ç¤ºæ•°é‡ã€‚</p><p>åœ¨ HashMap çš„ doc æ–‡æ¡£é‡Œï¼Œæ›¾æœ‰è¿™ä¹ˆä¸€æ®µæè¿°ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Because TreeNodes are about twice the size of regular nodes, we</span></span>
<span class="line"><span>use them only when bins contain enough nodes to warrant use</span></span>
<span class="line"><span>(see TREEIFY_THRESHOLD). And when they become too small (due to</span></span>
<span class="line"><span>removal or resizing) they are converted back to plain bins.  In</span></span>
<span class="line"><span>usages with well-distributed user hashCodes, tree bins are</span></span>
<span class="line"><span>rarely used.  Ideally, under random hashCodes, the frequency of</span></span>
<span class="line"><span>nodes in bins follows a Poisson distribution</span></span>
<span class="line"><span>(http://en.wikipedia.org/wiki/Poisson_distribution) with a</span></span>
<span class="line"><span>parameter of about 0.5 on average for the default resizing</span></span>
<span class="line"><span>threshold of 0.75, although with a large variance because of</span></span>
<span class="line"><span>resizing granularity. Ignoring variance, the expected</span></span>
<span class="line"><span>occurrences of list size k are (exp(-0.5) * pow(0.5, k) /</span></span>
<span class="line"><span>factorial(k)). The first values are:</span></span>
<span class="line"><span>0:    0.60653066</span></span>
<span class="line"><span>1:    0.30326533</span></span>
<span class="line"><span>2:    0.07581633</span></span>
<span class="line"><span>3:    0.01263606</span></span>
<span class="line"><span>4:    0.00157952</span></span>
<span class="line"><span>5:    0.00015795</span></span>
<span class="line"><span>6:    0.00001316</span></span>
<span class="line"><span>7:    0.00000094</span></span>
<span class="line"><span>8:    0.00000006</span></span>
<span class="line"><span>more: less than 1 in ten million</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†ä¾¿äºå¤§å®¶çš„ç†è§£ï¼Œè¿™é‡Œæ¥é‡æ¸©ä¸€ä¸‹ HashMap çš„æ‹‰é“¾æ³•å’Œçº¢é»‘æ ‘ç»“æ„ã€‚</p><p>Java 8 ä¹‹å‰ï¼ŒHashMap ä½¿ç”¨é“¾è¡¨æ¥è§£å†³å†²çªï¼Œå³å½“ä¸¤ä¸ªæˆ–è€…å¤šä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œå®ƒä»¬è¢«æ”¾åœ¨åŒä¸€ä¸ªæ¡¶çš„é“¾è¡¨ä¸Šã€‚å½“é“¾è¡¨ä¸Šçš„èŠ‚ç‚¹ï¼ˆNodeï¼‰è¿‡å¤šæ—¶ï¼Œé“¾è¡¨ä¼šå˜å¾—å¾ˆé•¿ï¼ŒæŸ¥æ‰¾çš„æ•ˆç‡ï¼ˆ<a href="https://javabebetter.cn/collection/linkedlist.html" target="_blank" rel="noopener noreferrer">LinkedList</a> çš„æŸ¥æ‰¾æ•ˆç‡ä¸º Oï¼ˆnï¼‰ï¼‰å°±ä¼šå—åˆ°å½±å“ã€‚</p><p>Java 8 ä¸­ï¼Œå½“é“¾è¡¨çš„èŠ‚ç‚¹æ•°è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼ï¼ˆ8ï¼‰æ—¶ï¼Œé“¾è¡¨å°†è½¬ä¸ºçº¢é»‘æ ‘ï¼ˆèŠ‚ç‚¹ä¸º TreeNodeï¼‰ï¼Œçº¢é»‘æ ‘ï¼ˆåœ¨è®²<a href="https://javabebetter.cn/collection/treemap.html" target="_blank" rel="noopener noreferrer">TreeMap</a>æ—¶ä¼šç»†è¯´ï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„å¹³è¡¡æ ‘ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨ O(log n) çš„æ—¶é—´å†…å®Œæˆæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰æ“ä½œã€‚è¿™ç§ç»“æ„åœ¨èŠ‚ç‚¹æ•°å¾ˆå¤šæ—¶ï¼Œå¯ä»¥æé«˜ HashMap çš„æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ã€‚</p><p>å¥½ï¼Œæœ‰äº†è¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬æ¥æŠŠä¸Šé¢çš„ doc æ–‡æ¡£ç¿»è¯‘ä¸ºä¸­æ–‡ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å› ä¸ºTreeNodeï¼ˆçº¢é»‘æ ‘çš„èŠ‚ç‚¹ï¼‰çš„å¤§å°å¤§çº¦æ˜¯å¸¸è§„èŠ‚ç‚¹ï¼ˆé“¾è¡¨çš„èŠ‚ç‚¹ Nodeï¼‰çš„ä¸¤å€ï¼Œæ‰€ä»¥åªæœ‰å½“æ¡¶å†…åŒ…å«è¶³å¤Ÿå¤šçš„èŠ‚ç‚¹æ—¶æ‰ä½¿ç”¨çº¢é»‘æ ‘ï¼ˆå‚è§TREEIFY_THRESHOLDã€Œé˜ˆå€¼ï¼Œå€¼ä¸º8ã€ï¼ŒèŠ‚ç‚¹æ•°é‡è¾ƒå¤šæ—¶ï¼Œçº¢é»‘æ ‘å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç”±äºåˆ é™¤å…ƒç´ æˆ–è€…è°ƒæ•´æ•°ç»„å¤§å°ï¼ˆæ‰©å®¹ï¼‰æ—¶ï¼ˆå†æ¬¡æ•£åˆ—ï¼‰ï¼Œçº¢é»‘æ ‘å¯èƒ½ä¼šè¢«è½¬æ¢ä¸ºé“¾è¡¨ï¼ˆèŠ‚ç‚¹æ•°é‡å°äº 8 æ—¶ï¼‰ï¼ŒèŠ‚ç‚¹æ•°é‡è¾ƒå°‘æ—¶ï¼Œé“¾è¡¨çš„æ•ˆç‡æ¯”çº¢é»‘æ ‘æ›´é«˜ï¼Œå› ä¸ºçº¢é»‘æ ‘éœ€è¦æ›´å¤šçš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨èŠ‚ç‚¹ã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>åœ¨å…·æœ‰è‰¯å¥½åˆ†å¸ƒçš„hashCodeä½¿ç”¨ä¸­ï¼Œå¾ˆå°‘ä½¿ç”¨çº¢é»‘æ ‘ã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç†æƒ³æƒ…å†µä¸‹ï¼Œåœ¨éšæœºhashCodeä¸‹ï¼ŒèŠ‚ç‚¹åœ¨æ¡¶ä¸­çš„é¢‘ç‡éµå¾ªæ³Šæ¾åˆ†å¸ƒï¼ˆhttps://zh.wikipedia.org/wiki/åœç“¦æ¾åˆ†å¸ƒï¼‰ï¼Œå¹³å‡ç¼©æ”¾é˜ˆå€¼ä¸º0.75ï¼Œå¿½ç•¥æ–¹å·®ï¼Œåˆ—è¡¨å¤§å°kçš„é¢„æœŸå‡ºç°æ¬¡æ•°ä¸ºï¼ˆexpï¼ˆ-0.5ï¼‰* powï¼ˆ0.5ï¼Œkï¼‰/ factorialï¼ˆkï¼‰ï¼‰ã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>å‰å‡ ä¸ªå€¼æ˜¯ï¼š</span></span>
<span class="line"><span>0: 0.60653066</span></span>
<span class="line"><span>1: 0.30326533</span></span>
<span class="line"><span>2: 0.07581633</span></span>
<span class="line"><span>3: 0.01263606</span></span>
<span class="line"><span>4: 0.00157952</span></span>
<span class="line"><span>5: 0.00015795</span></span>
<span class="line"><span>6: 0.00001316</span></span>
<span class="line"><span>7: 0.00000094</span></span>
<span class="line"><span>8: 0.00000006</span></span>
<span class="line"><span></span></span>
<span class="line"><span>æ›´å¤šï¼šå°äºä¸€åƒä¸‡åˆ†ä¹‹ä¸€</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶è¿™æ®µè¯çš„æœ¬æ„æ›´å¤šçš„æ˜¯è¡¨ç¤º jdk 8 ä¸­ä¸ºä»€ä¹ˆæ‹‰é“¾é•¿åº¦è¶…è¿‡ 8 çš„æ—¶å€™è¿›è¡Œäº†çº¢é»‘æ ‘è½¬æ¢ï¼Œä½†æåˆ°äº† 0.75 è¿™ä¸ªåŠ è½½å› å­ï¼Œä½†æ²¡æåˆ°åº•ä¸ºä»€ä¹ˆã€‚</p><p>ä¸ºäº†ææ¸…æ¥šåˆ°åº•ä¸ºä»€ä¹ˆï¼Œæˆ‘çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼š</p><blockquote><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://segmentfault.com/a/1190000023308658" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000023308658</a></p></blockquote><p>é‡Œé¢æåˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼š<strong>äºŒé¡¹åˆ†å¸ƒï¼ˆBinomial Distributionï¼‰</strong>ã€‚</p><p>åœ¨åšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œå…¶ç»“æœçš„æ¦‚ç‡åªæœ‰ 2 ç§æƒ…å†µï¼Œå’ŒæŠ›ç¡¬å¸ä¸€æ ·ï¼Œä¸æ˜¯æ­£é¢å°±æ˜¯åé¢ã€‚</p><p>å‡å¦‚ï¼Œæˆ‘ä»¬åšäº† N æ¬¡å®éªŒï¼Œé‚£ä¹ˆåœ¨æ¯æ¬¡è¯•éªŒä¸­åªæœ‰ä¸¤ç§å¯èƒ½çš„ç»“æœï¼Œå¹¶ä¸”æ¯æ¬¡å®éªŒæ˜¯ç‹¬ç«‹çš„ï¼Œä¸åŒå®éªŒä¹‹é—´äº’ä¸å½±å“ï¼Œæ¯æ¬¡å®éªŒæˆåŠŸçš„æ¦‚ç‡éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä»¥æ­¤ç†è®ºä¸ºåŸºç¡€ï¼šæˆ‘ä»¬å¾€å“ˆå¸Œè¡¨ä¸­æ‰”æ•°æ®ï¼Œå¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªå°±ä¸ºå¤±è´¥ï¼Œå¦åˆ™ä¸ºæˆåŠŸã€‚</p><p>æˆ‘ä»¬å¯ä»¥è®¾æƒ³ï¼Œå®éªŒçš„ hash å€¼æ˜¯éšæœºçš„ï¼Œå¹¶ä¸”ç»è¿‡ hash è¿ç®—çš„é”®éƒ½ä¼šæ˜ å°„åˆ° hash è¡¨çš„åœ°å€ç©ºé—´ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªç»“æœä¹Ÿæ˜¯éšæœºçš„ã€‚æ‰€ä»¥ï¼Œæ¯æ¬¡ put çš„æ—¶å€™å°±ç›¸å½“äºæˆ‘ä»¬åœ¨æ‰”ä¸€ä¸ª 16 é¢ï¼ˆHashMap ç¬¬ä¸€æ¬¡æ‰©å®¹åçš„æ•°ç»„é»˜è®¤é•¿åº¦ä¸º 16ï¼‰çš„éª°å­ï¼Œæ‰”éª°å­å®éªŒé‚£è‚¯å®šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ç¢°æ’å‘ç”Ÿå³æ‰”äº† n æ¬¡æœ‰å‡ºç°é‡å¤æ•°å­—ã€‚</p><p>ç„¶åï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å•¥å‘¢ï¼Ÿ</p><p>å°±æ˜¯æ·äº† k æ¬¡éª°å­ï¼Œæ²¡æœ‰ä¸€æ¬¡æ˜¯ç›¸åŒçš„æ¦‚ç‡ï¼Œéœ€è¦å°½å¯èƒ½çš„å¤§äº›ï¼Œä¸€èˆ¬æ„ä¹‰ä¸Šæˆ‘ä»¬è‚¯å®šè¦å¤§äº 0.5ï¼ˆè¿™ä¸ªæ•°æ˜¯ä¸ªç†æƒ³æ•°ï¼‰ã€‚</p><p>äºæ˜¯ï¼Œn æ¬¡äº‹ä»¶é‡Œé¢ï¼Œç¢°æ’ä¸º 0 çš„æ¦‚ç‡ï¼Œç”±ä¸Šé¢å…¬å¼å¾—ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™ä¸ªæ¦‚ç‡å€¼éœ€è¦å¤§äº 0.5ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ ·çš„ hashmap å¯ä»¥æä¾›å¾ˆä½çš„ç¢°æ’ç‡ã€‚æ‰€ä»¥ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-03png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹äºè¯¥å…¬å¼å…¶å®æœ€æƒ³æ±‚çš„æ—¶å€™é•¿åº¦ s çš„æ—¶å€™ï¼Œn ä¸ºå¤šå°‘æ¬¡å°±åº”è¯¥è¿›è¡Œæ‰©å®¹äº†ï¼Ÿè€Œè´Ÿè½½å› å­åˆ™æ˜¯<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="3.55ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1569 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(600,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mi" transform="translate(1100,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mi>s</mi></math></mjx-assistive-mml></mjx-container>çš„å€¼ã€‚æ‰€ä»¥æ¨å¯¼å¦‚ä¸‹ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ‰€ä»¥å¯ä»¥å¾—åˆ°</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å…¶ä¸­</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿™å°±æ˜¯ä¸€ä¸ªæ±‚ <code>âˆâ‹…0</code>å‡½æ•°æé™é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä»¤<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.452ex;" xmlns="http://www.w3.org/2000/svg" width="22.255ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 9836.6 950" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(746.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1802.6,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(2902.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(3903,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(4403,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">ï¼ˆ</text></g><g data-mml-node="mi" transform="translate(5403,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(6558.8,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(7836.6,0)"><path data-c="221E" d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z"></path></g><g data-mml-node="mi" transform="translate(8836.6,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">ï¼‰</text></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mo>=</mo><mi>m</mi><mo>+</mo><mn>1</mn><mi>ï¼ˆ</mi><mi>m</mi><mo accent="false" stretchy="false">â†’</mo><mi mathvariant="normal">âˆ</mi><mi>ï¼‰</mi></math></mjx-assistive-mml></mjx-container>åˆ™è½¬åŒ–ä¸º</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-07.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æˆ‘ä»¬å†ä»¤ <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.798ex;" xmlns="http://www.w3.org/2000/svg" width="17.181ex" height="2.755ex" role="img" focusable="false" viewBox="0 -864.9 7594 1217.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(1905.6,0)"><g data-mml-node="mn" transform="translate(353.6,394) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220,-345) scale(0.707)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><rect width="820.8" height="60" x="120" y="220"></rect></g><g data-mml-node="mi" transform="translate(2966.4,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">ï¼ˆ</text></g><g data-mml-node="mi" transform="translate(3966.4,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(4816.2,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(6094,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mi" transform="translate(6594,0)"><text data-variant="italic" transform="scale(1,-1)" font-size="884px" font-family="serif" font-style="italic">ï¼‰</text></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><mi>ï¼ˆ</mi><mi>x</mi><mo accent="false" stretchy="false">â†’</mo><mn>0</mn><mi>ï¼‰</mi></math></mjx-assistive-mml></mjx-container> åˆ™æœ‰ï¼Œ</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ‰€ä»¥</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-09.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è€ƒè™‘åˆ° HashMap çš„å®¹é‡æœ‰ä¸€ä¸ªè¦æ±‚ï¼šå®ƒå¿…é¡»æ˜¯ 2 çš„ n æ¬¡å¹‚ã€‚å½“åŠ è½½å› å­é€‰æ‹©äº† 0.75 å°±å¯ä»¥ä¿è¯å®ƒä¸å®¹é‡çš„ä¹˜ç§¯ä¸ºæ•´æ•°ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>16*0.75=12</span></span>
<span class="line"><span>32*0.75=24</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº† 0.75ï¼Œ0.5~1 ä¹‹é—´è¿˜æœ‰ 0.625ï¼ˆ5/8ï¼‰ã€0.875ï¼ˆ7/8ï¼‰å¯é€‰ï¼Œä»ä¸­ä½æ•°çš„è§’åº¦ï¼ŒæŒ‘ 0.75 æ¯”è¾ƒå®Œç¾ã€‚å¦å¤–ï¼Œç»´åŸºç™¾ç§‘ä¸Šè¯´ï¼Œæ‹‰é“¾æ³•ï¼ˆè§£å†³å“ˆå¸Œå†²çªçš„ä¸€ç§ï¼‰çš„åŠ è½½å› å­æœ€å¥½é™åˆ¶åœ¨ 0.7-0.8 ä»¥ä¸‹ï¼Œè¶…è¿‡ 0.8ï¼ŒæŸ¥è¡¨æ—¶çš„ CPU ç¼“å­˜ä¸å‘½ä¸­ï¼ˆcache missingï¼‰ä¼šæŒ‰ç…§æŒ‡æ•°æ›²çº¿ä¸Šå‡ã€‚</p><p>ç»¼ä¸Šï¼Œ0.75 æ˜¯ä¸ªæ¯”è¾ƒå®Œç¾çš„é€‰æ‹©ã€‚</p><h4 id="å°ç»“-2" tabindex="-1"><a class="header-anchor" href="#å°ç»“-2"><span>å°ç»“</span></a></h4><p>HashMap çš„åŠ è½½å› å­ï¼ˆload factorï¼Œç›´è¯‘ä¸ºåŠ è½½å› å­ï¼Œæ„è¯‘ä¸ºè´Ÿè½½å› å­ï¼‰æ˜¯æŒ‡å“ˆå¸Œè¡¨ä¸­å¡«å……å…ƒç´ çš„ä¸ªæ•°ä¸æ¡¶çš„æ•°é‡çš„æ¯”å€¼ï¼Œå½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°è´Ÿè½½å› å­ä¸æ¡¶çš„æ•°é‡çš„ä¹˜ç§¯æ—¶ï¼Œå°±éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚è¿™ä¸ªå€¼ä¸€èˆ¬é€‰æ‹© 0.75ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå€¼å¯ä»¥åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´åšåˆ°ä¸€ä¸ªæŠ˜ä¸­ï¼Œä½¿å¾—å“ˆå¸Œè¡¨çš„æ€§èƒ½è¾¾åˆ°è¾ƒå¥½çš„è¡¨ç°ã€‚</p><p>å¦‚æœè´Ÿè½½å› å­è¿‡å¤§ï¼Œå¡«å……å› å­è¾ƒå¤šï¼Œé‚£ä¹ˆå“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ å°±ä¼šè¶Šæ¥è¶Šå¤šåœ°èšé›†åœ¨å°‘æ•°çš„æ¡¶ä¸­ï¼Œè¿™å°±å¯¼è‡´äº†å†²çªçš„å¢åŠ ï¼Œè¿™äº›å†²çªä¼šå¯¼è‡´æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ•ˆç‡ä¸‹é™ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´éœ€è¦æ›´é¢‘ç¹åœ°è¿›è¡Œæ‰©å®¹ï¼Œè¿›ä¸€æ­¥é™ä½äº†æ€§èƒ½ã€‚</p><p>å¦‚æœè´Ÿè½½å› å­è¿‡å°ï¼Œé‚£ä¹ˆæ¡¶çš„æ•°é‡ä¼šå¾ˆå¤šï¼Œè™½ç„¶å¯ä»¥å‡å°‘å†²çªï¼Œä½†æ˜¯åœ¨ç©ºé—´åˆ©ç”¨ä¸Šé¢ä¹Ÿä¼šæœ‰æµªè´¹ï¼Œå› æ­¤é€‰æ‹© 0.75 æ˜¯ä¸ºäº†å–å¾—ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå³åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´å–å¾—ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å¹³è¡¡ç‚¹ã€‚</p><p>æ€»ä¹‹ï¼Œé€‰æ‹© 0.75 è¿™ä¸ªå€¼æ˜¯ä¸ºäº†åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´è¾¾åˆ°ä¸€ä¸ªè¾ƒå¥½çš„å¹³è¡¡ç‚¹ï¼Œæ—¢å¯ä»¥ä¿è¯å“ˆå¸Œè¡¨çš„æ€§èƒ½è¡¨ç°ï¼Œåˆèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç©ºé—´ã€‚</p><h3 id="_04ã€çº¿ç¨‹ä¸å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#_04ã€çº¿ç¨‹ä¸å®‰å…¨"><span>04ã€çº¿ç¨‹ä¸å®‰å…¨</span></a></h3><p>å…¶å®è¿™ä¸ªé—®é¢˜ä¹Ÿä¸ç”¨è¯´å¤ªå¤šï¼Œä½†è€ƒè™‘åˆ°<a href="https://javabebetter.cn/interview/java-hashmap-13.html" target="_blank" rel="noopener noreferrer">é¢è¯•çš„æ—¶å€™æœ‰äº›é¢è¯•å®˜ä¼šé—®</a>ï¼Œé‚£å°±ç®€å•è¯´ä¸€ä¸‹ã€‚</p><p>ä¸‰æ–¹é¢åŸå› ï¼š</p><ul><li>å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯</li><li>å¤šçº¿ç¨‹ä¸‹ put ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±</li><li>put å’Œ get å¹¶å‘æ—¶ä¼šå¯¼è‡´ get åˆ° null</li></ul><h4 id="_1-å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯" tabindex="-1"><a class="header-anchor" href="#_1-å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯"><span>1ï¼‰å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯</span></a></h4><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒHashMap æ˜¯é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªçš„ï¼Œä¹Ÿå°±æ˜¯å½“å“ˆå¸Œå†²çªæ—¶ï¼Œä¼šå°†ç›¸åŒå“ˆå¸Œå€¼çš„é”®å€¼å¯¹é€šè¿‡é“¾è¡¨çš„å½¢å¼å­˜æ”¾èµ·æ¥ã€‚</p><p>JDK 7 æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯å¤´éƒ¨æ’å…¥çš„æ–¹å¼æ¥å­˜æ”¾é“¾è¡¨çš„ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªå†²çªçš„é”®å€¼å¯¹ä¼šæ”¾åœ¨ä¸Šä¸€ä¸ªé”®å€¼å¯¹çš„å‰é¢ï¼ˆè®²æ‰©å®¹çš„æ—¶å€™è®²è¿‡äº†ï¼‰ã€‚æ‰©å®¹çš„æ—¶å€™å°±æœ‰å¯èƒ½å¯¼è‡´å‡ºç°ç¯å½¢é“¾è¡¨ï¼Œé€ æˆæ­»å¾ªç¯ã€‚</p><p>resize æ–¹æ³•çš„æºç ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// newCapacityä¸ºæ–°çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newCapacity) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å°æ•°ç»„ï¼Œä¸´æ—¶è¿‡åº¦ä¸‹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] oldTable </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ‰©å®¹å‰çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> oldTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // MAXIMUM_CAPACITY ä¸ºæœ€å¤§å®¹é‡ï¼Œ2 çš„ 30 æ¬¡æ–¹ = 1&lt;&lt;30</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (oldCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MAXIMUM_CAPACITY) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // å®¹é‡è°ƒæ•´ä¸º Integer çš„æœ€å¤§å€¼ 0x7fffffffï¼ˆåå…­è¿›åˆ¶ï¼‰=2 çš„ 31 æ¬¡æ–¹-1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Integer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MAX_VALUE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆå¤§å®¹é‡ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] newTable </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Entry</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[newCapacity]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æŠŠå°æ•°ç»„çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    transfer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> initHashSeedAsNeeded</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(newCapacity))</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // å¼•ç”¨æ–°çš„å¤§æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    table </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // é‡æ–°è®¡ç®—é˜ˆå€¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">min</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> loadFactor, MAXIMUM_CAPACITY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>transfer æ–¹æ³•ç”¨æ¥è½¬ç§»ï¼Œå°†å°æ•°ç»„çš„å…ƒç´ æ‹·è´åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> transfer</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Entry</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">[] newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rehash) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ–°çš„å®¹é‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> newCapacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> newTable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // éå†å°æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        while</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> !=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ‹‰é“¾æ³•ï¼Œç›¸åŒ key ä¸Šçš„ä¸åŒå€¼</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            Entry</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> next </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— hash</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (rehash) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ ¹æ®å¤§æ•°ç»„çš„å®¹é‡ï¼Œå’Œé”®çš„ hash è®¡ç®—å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> indexFor</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newCapacity)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">            e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> newTable[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // æ”¾åœ¨æ–°çš„æ•°ç»„ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            newTable[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">            // é“¾è¡¨ä¸Šçš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ <code>e.next = newTable[i]</code> å’Œ <code>newTable[i] = e</code> è¿™ä¸¤è¡Œä»£ç ï¼Œå®ƒä»¬ä¼šå°†åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ã€‚</p><p>æ‰©å®¹å‰çš„æ ·å­å‡å¦‚æ˜¯ä¸‹é¢è¿™æ ·å­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-01.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é‚£ä¹ˆæ­£å¸¸æ‰©å®¹åå°±æ˜¯ä¸‹é¢è¿™æ ·å­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œæ‰©å®¹ï¼Œçº¿ç¨‹ A åœ¨æ‰§è¡Œåˆ° <code>e.next = newTable[i]</code> è¢«æŒ‚èµ·ï¼Œæ­¤æ—¶çº¿ç¨‹ A ä¸­ï¼še=3ã€next=7ã€e.next=null</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-03.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>çº¿ç¨‹ B å¼€å§‹æ‰§è¡Œï¼Œå¹¶ä¸”å®Œæˆäº†æ•°æ®è½¬ç§»ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-04.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ­¤æ—¶ï¼Œ7 çš„ next ä¸º 3ï¼Œ3 çš„ next ä¸º nullã€‚</p><p>éšåçº¿ç¨‹ A è·å¾— CPU æ—¶é—´ç‰‡ç»§ç»­æ‰§è¡Œ <code>e.next = newTable[i];newTable[i] = e</code>ï¼Œå°† 3 æ”¾å…¥æ–°æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼Œæ‰§è¡Œå®Œæ­¤è½®å¾ªç¯åçº¿ç¨‹ A çš„æƒ…å†µå¦‚ä¸‹ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-05.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ‰§è¡Œä¸‹ä¸€è½®å¾ªç¯ï¼Œæ­¤æ—¶ e=7ï¼ŒåŸæœ¬çº¿ç¨‹ A ä¸­ 7 çš„ next ä¸º 5ï¼Œä½†ç”±äº table æ˜¯çº¿ç¨‹ A å’Œçº¿ç¨‹ B å…±äº«çš„ï¼Œè€Œçº¿ç¨‹ B é¡ºåˆ©æ‰§è¡Œå®Œåï¼Œ7 çš„ next å˜æˆäº† 3ï¼Œé‚£ä¹ˆæ­¤æ—¶çº¿ç¨‹ A ä¸­ï¼Œ7 çš„ next ä¹Ÿä¸º 3 äº†ã€‚</p><p>é‡‡ç”¨å¤´éƒ¨æ’å…¥çš„æ–¹å¼ï¼Œå˜æˆäº†ä¸‹é¢è¿™æ ·å­ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ­¤æ—¶ next = 3ï¼Œe = 3ã€‚</p><p>è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ï¼Œä½†æ­¤æ—¶ï¼Œç”±äºçº¿ç¨‹ B å°† 3 çš„ next å˜ä¸ºäº† nullï¼Œæ‰€ä»¥æ­¤è½®å¾ªç¯åº”è¯¥æ˜¯æœ€åä¸€è½®äº†ã€‚</p><p>æ¥ä¸‹æ¥å½“æ‰§è¡Œå®Œ <code>e.next=newTable[i]</code> å³ 3.next=7 åï¼Œ3 å’Œ 7 ä¹‹é—´å°±ç›¸äº’é“¾æ¥äº†ï¼Œæ‰§è¡Œå®Œ <code>newTable[i]=e</code> åï¼Œ3 è¢«å¤´æ’æ³•é‡æ–°æ’å…¥åˆ°é“¾è¡¨ä¸­ï¼Œæ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-07.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¥—å¨ƒå¼€å§‹ï¼Œå…ƒç´  5 ä¹Ÿå°±æˆäº†å¼ƒå©´ï¼Œæƒ¨~~~</p><p>è¿™é‡Œå†æ’å…¥ä¸€åçƒå‹å°ç°é£çš„åˆ†æï¼šâ€œçº¿ç¨‹Aæ˜¯åœ¨8è¡Œä¹‹åã€17è¡Œä¹‹å‰æŒ‚èµ·â€ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/hashmap-20241120144833.png" alt="å°ç°é£" tabindex="0" loading="lazy"><figcaption>å°ç°é£</figcaption></figure><p>ä¸è¿‡ï¼ŒJDK 8 æ—¶å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰©å®¹æ—¶ä¼šä¿æŒé“¾è¡¨åŸæ¥çš„é¡ºåºï¼ˆå—¯ï¼Œç­‰äºè¯´äº†åŠå¤©ç™½è¯´äº†ï¼Œå“ˆå“ˆï¼Œè¿™ä¸ªé¢è¯•é¢˜ç¡®å®æ˜¯è¿™æ ·ï¼Œå¾ˆæ°´ï¼Œä½†æœ‰äº›é¢è¯•å®˜åˆç¡®å®æ¯”è¾ƒè£…é€¼ï¼‰ã€‚</p><h4 id="_2-å¤šçº¿ç¨‹ä¸‹-put-ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±" tabindex="-1"><a class="header-anchor" href="#_2-å¤šçº¿ç¨‹ä¸‹-put-ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±"><span>2ï¼‰å¤šçº¿ç¨‹ä¸‹ put ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±</span></a></h4><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼ŒHashMap æ˜¯è¿™æ ·çš„ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-08.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä½†å¤šçº¿ç¨‹åŒæ—¶æ‰§è¡Œ put æ“ä½œæ—¶ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„ç´¢å¼•ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¼šé€ æˆå‰ä¸€ä¸ª key è¢«åä¸€ä¸ª key è¦†ç›–ï¼Œä»è€Œå¯¼è‡´å…ƒç´ çš„ä¸¢å¤±ã€‚</p><p>put çš„æºç ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> putVal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> K</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> V</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> onlyIfAbsent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">               boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> evict) {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">[] tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ­¥éª¤â‘ ï¼štabä¸ºç©ºåˆ™åˆ›å»º</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((tab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> table) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (tab </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">())</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ­¥éª¤â‘¡ï¼šè®¡ç®—indexï¼Œå¹¶å¯¹nullåšå¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> tab[i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash]) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        tab[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> newNode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        Node</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">K</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">V</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> K</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // æ­¥éª¤â‘¢ï¼šèŠ‚ç‚¹keyå­˜åœ¨ï¼Œç›´æ¥è¦†ç›–value</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            ((k </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(k)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // æ­¥éª¤â‘£ï¼šåˆ¤æ–­è¯¥é“¾ä¸ºçº¢é»‘æ ‘</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (p </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">instanceof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> TreeNode)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">TreeNode</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)p)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">putTreeVal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, tab, hash, key, value);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // æ­¥éª¤â‘¤ï¼šè¯¥é“¾ä¸ºé“¾è¡¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            for</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> binCount </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">binCount) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                    p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">next</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> newNode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                    //é“¾è¡¨é•¿åº¦å¤§äº8è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (binCount </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> TREEIFY_THRESHOLD </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// -1 for 1st</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                        treeifyBin</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(tab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                // keyå·²ç»å­˜åœ¨ç›´æ¥è¦†ç›–value</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hash</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                    ((k </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (key </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(k)</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)))</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                    break</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">                p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // æ­¥éª¤â‘¥ã€ç›´æ¥è¦†ç›–</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (e </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// existing mapping for key</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            V</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> oldValue </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onlyIfAbsent </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldValue </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">                e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            afterNodeAccess</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(e)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oldValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">modCount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    // æ­¥éª¤â‘¦ï¼šè¶…è¿‡æœ€å¤§å®¹é‡ å°±æ‰©å®¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">size </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> threshold)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        resize</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    afterNodeInsertion</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(evict)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é—®é¢˜å‘ç”Ÿåœ¨æ­¥éª¤ â‘¡ è¿™é‡Œï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ((p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> tab[i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (n </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hash]) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    tab[i] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> newNode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œäº† if è¯­å¥ï¼Œå‡è®¾çº¿ç¨‹ A å…ˆæ‰§è¡Œäº† <code> tab[i] = newNode(hash, key, value, null)</code>ï¼Œé‚£ table æ˜¯è¿™æ ·çš„ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-09.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ¥ç€ï¼Œçº¿ç¨‹ B æ‰§è¡Œäº† <code> tab[i] = newNode(hash, key, value, null)</code>ï¼Œé‚£ table æ˜¯è¿™æ ·çš„ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-10.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>3 è¢«å¹²æ‰äº†ã€‚</p><h4 id="_3-put-å’Œ-get-å¹¶å‘æ—¶ä¼šå¯¼è‡´-get-åˆ°-null" tabindex="-1"><a class="header-anchor" href="#_3-put-å’Œ-get-å¹¶å‘æ—¶ä¼šå¯¼è‡´-get-åˆ°-null"><span>3ï¼‰put å’Œ get å¹¶å‘æ—¶ä¼šå¯¼è‡´ get åˆ° null</span></a></h4><p>çº¿ç¨‹ 1 æ‰§è¡Œ put æ—¶ï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°è¶…å‡ºé˜ˆå€¼è€Œå¯¼è‡´å‡ºç°æ‰©å®¹ï¼Œçº¿ç¨‹ 2 æ­¤æ—¶æ‰§è¡Œ getï¼Œå°±æœ‰å¯èƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/collection-20240326085630.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å› ä¸ºçº¿ç¨‹ 1 æ‰§è¡Œå®Œ table = newTab ä¹‹åï¼Œçº¿ç¨‹ 2 ä¸­çš„ table æ­¤æ—¶ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶å» get çš„æ—¶å€™å½“ç„¶ä¼š get åˆ° null äº†ï¼Œå› ä¸ºå…ƒç´ è¿˜æ²¡æœ‰è½¬ç§»ã€‚</p><p>å‚è€ƒé“¾æ¥ï¼š</p><blockquote><ul><li><a href="https://blog.csdn.net/lonyw/article/details/80519652" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/lonyw/article/details/80519652</a></li><li><a href="https://zhuanlan.zhihu.com/p/91636401" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/91636401</a></li><li><a href="https://www.zhihu.com/question/20733617" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/20733617</a></li><li><a href="https://zhuanlan.zhihu.com/p/21673805" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/21673805</a></li></ul></blockquote><h4 id="_4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-å°ç»“"><span>4ï¼‰å°ç»“</span></a></h4><p>HashMap æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ä¸»è¦æ˜¯å› ä¸ºå®ƒåœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤å’Œæ‰©å®¹ç­‰æ“ä½œæ—¶å¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œç ´åäº† HashMap çš„ä¸å˜æ€§ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨éå† HashMap çš„é“¾è¡¨æ—¶ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥é“¾è¡¨è¿›è¡Œäº†ä¿®æ”¹ï¼ˆæ¯”å¦‚æ·»åŠ äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´é“¾è¡¨çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œç ´åäº†å½“å‰çº¿ç¨‹æ­£åœ¨è¿›è¡Œçš„éå†æ“ä½œï¼Œå¯èƒ½å¯¼è‡´éå†å¤±è´¥æˆ–è€…å‡ºç°æ­»å¾ªç¯ç­‰é—®é¢˜ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJava æä¾›äº†çº¿ç¨‹å®‰å…¨çš„ HashMap å®ç°ç±» <a href="https://javabebetter.cn/thread/ConcurrentHashMap.html" target="_blank" rel="noopener noreferrer">ConcurrentHashMap</a>ã€‚ConcurrentHashMap å†…éƒ¨é‡‡ç”¨äº†åˆ†æ®µé”ï¼ˆSegmentï¼‰ï¼Œå°†æ•´ä¸ª Map æ‹†åˆ†ä¸ºå¤šä¸ªå°çš„ HashMapï¼Œæ¯ä¸ªå°çš„ HashMap éƒ½æœ‰è‡ªå·±çš„é”ï¼Œä¸åŒçš„çº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®ä¸åŒçš„å° Mapï¼Œä»è€Œå®ç°äº†çº¿ç¨‹å®‰å…¨ã€‚åœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤å’Œæ‰©å®¹ç­‰æ“ä½œæ—¶ï¼Œåªéœ€è¦é”ä½å½“å‰å° Mapï¼Œä¸ä¼šå¯¹æ•´ä¸ª Map è¿›è¡Œé”å®šï¼Œæé«˜äº†å¹¶å‘è®¿é—®çš„æ•ˆç‡ã€‚</p><h3 id="_05ã€å°ç»“" tabindex="-1"><a class="header-anchor" href="#_05ã€å°ç»“"><span>05ã€å°ç»“</span></a></h3><p>HashMap æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„é›†åˆä¹‹ä¸€ï¼Œå®ƒæ˜¯ä¸€ç§é”®å€¼å¯¹å­˜å‚¨çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æ ¹æ®é”®æ¥å¿«é€Ÿè®¿é—®å¯¹åº”çš„å€¼ã€‚ä»¥ä¸‹æ˜¯å¯¹ HashMap çš„æ€»ç»“ï¼š</p><ul><li>HashMap é‡‡ç”¨æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘çš„å­˜å‚¨ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨ O(1)çš„æ—¶é—´å¤æ‚åº¦å†…å®ç°å…ƒç´ çš„æ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œã€‚</li><li>HashMap æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå› æ­¤åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦ä½¿ç”¨<a href="https://javabebetter.cn/thread/ConcurrentHashMap.html" target="_blank" rel="noopener noreferrer">ConcurrentHashMap</a>æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</li><li>HashMap çš„æ‰©å®¹æœºåˆ¶æ˜¯é€šè¿‡æ‰©å¤§æ•°ç»„å®¹é‡å’Œé‡æ–°è®¡ç®— hash å€¼æ¥å®ç°çš„ï¼Œæ‰©å®¹æ—¶éœ€è¦é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„ hash å€¼ï¼Œå› æ­¤åœ¨å…ƒç´ è¾ƒå¤šæ—¶æ‰©å®¹ä¼šå½±å“æ€§èƒ½ã€‚</li><li>åœ¨ Java 8 ä¸­ï¼ŒHashMap çš„å®ç°å¼•å…¥äº†æ‹‰é“¾æ³•ã€æ ‘åŒ–ç­‰æœºåˆ¶æ¥ä¼˜åŒ–å¤§é‡å…ƒç´ å­˜å‚¨çš„æƒ…å†µï¼Œè¿›ä¸€æ­¥æå‡äº†æ€§èƒ½ã€‚</li><li>HashMap ä¸­çš„ key æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœè¦å­˜å‚¨é‡å¤çš„ keyï¼Œåˆ™åé¢çš„å€¼ä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚</li><li>HashMap çš„åˆå§‹å®¹é‡å’ŒåŠ è½½å› å­éƒ½å¯ä»¥è®¾ç½®ï¼Œåˆå§‹å®¹é‡è¡¨ç¤ºæ•°ç»„çš„åˆå§‹å¤§å°ï¼ŒåŠ è½½å› å­è¡¨ç¤ºæ•°ç»„çš„å¡«å……å› å­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆå§‹å®¹é‡ä¸º 16ï¼ŒåŠ è½½å› å­ä¸º 0.75ã€‚</li><li>HashMap åœ¨éå†æ—¶æ˜¯æ— åºçš„ï¼Œå› æ­¤å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œå¯ä»¥ä½¿ç”¨<a href="https://javabebetter.cn/collection/treemap.html" target="_blank" rel="noopener noreferrer">TreeMap</a>ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒHashMap æ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå…·æœ‰å¿«é€ŸæŸ¥æ‰¾å’Œæ’å…¥å…ƒç´ çš„èƒ½åŠ›ï¼Œä½†éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨å’Œæ€§èƒ½é—®é¢˜ã€‚</p><p>é‚£å¦‚æœå¤§å®¶å·²ç»æŒæ¡äº† HashMapï¼Œé‚£å¯ä»¥åˆ·ä¸€ä¸‹ LeetCode çš„ç¬¬ 001 é¢˜ã€013 é¢˜ï¼Œä¼šç”¨åˆ° HashMapã€æ•°ç»„å’Œ for å¾ªç¯ï¼Œæˆ‘æŠŠé¢˜è§£é“¾æ¥æ”¾åœ¨äº†æŠ€æœ¯æ´¾ä¸Šï¼š</p><blockquote><ul><li><a href="https://paicoding.com/column/7/1" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ LeetCode åˆ·é¢˜ç¬”è®°ï¼š001.ä¸¤æ•°ä¹‹å’Œ</a></li><li><a href="https://paicoding.com/column/7/13" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ LeetCode åˆ·é¢˜ç¬”è®°ï¼š013.ç½—é©¬æ•°å­—è½¬æ•´æ•°</a></li></ul></blockquote><p>å¦å¤–ï¼Œæ„Ÿè°¢çƒå‹è¸æ­Œå¯¹æ–‡ç« ä¸­çš„æ’ç‰ˆé”™è¯¯âè¿›è¡ŒæŒ‡æ­£ï¼Œæ–‡ç« å·²ç»è¿›è¡Œäº†ä¿®æ”¹ï¼Œæ„Ÿè°¢çƒå‹çš„æ”¯æŒã€‚</p><hr><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabebetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 7600+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/itwanger/toBeBetterJavaer/edit/master/docs/src/collection/hashmap.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: www.qing_gee@163.com">æ²‰é»˜ç‹äºŒ</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/collection/stack.html" aria-label="æ ˆStackè¯¦è§£ï¼ˆé™„æºç ï¼‰"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->æ ˆStackè¯¦è§£ï¼ˆé™„æºç ï¼‰</div></a><a class="route-link auto-link next" href="/collection/linkedhashmap.html" aria-label="LinkedHashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">LinkedHashMapè¯¦è§£ï¼ˆé™„æºç ï¼‰<!----></div></a></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">è±«ICPå¤‡2021038026å·-4</a><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/beian.png" height="15px" width="15px" /><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41030502000411"><span>è±«å…¬ç½‘å®‰å¤‡ 41030502000411å·</span></a></div><div class="vp-copyright">Copyright Â© 2024 æ²‰é»˜ç‹äºŒ </div></footer></div><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-wJXw8B29.js" defer></script>
  </body>
</html>
