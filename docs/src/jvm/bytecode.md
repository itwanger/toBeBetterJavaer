---
title: ä»javapçš„è§’åº¦è½»æ¾çœ‹æ‡‚å­—èŠ‚ç 
shortTitle: javapä¸å­—èŠ‚ç 
category:
  - Javaæ ¸å¿ƒ
tag:
  - Javaè™šæ‹Ÿæœº
description: æœ¬æ–‡ä¸»è¦ä»‹ç»javapä¸å­—èŠ‚ç çš„å…³ç³»ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡javapå‘½ä»¤æ¥æŸ¥çœ‹å­—èŠ‚ç ã€‚
head:
  - - meta
    - name: keywords
      content: Java,JavaSE,æ•™ç¨‹,äºŒå“¥çš„Javaè¿›é˜¶ä¹‹è·¯,jvm,Javaè™šæ‹Ÿæœº,å­—èŠ‚ç ,javap
---

# ç¬¬äº”èŠ‚ï¼šjavap ä¸å­—èŠ‚ç 

è®¡ç®—æœºæ¯”è¾ƒâ€œå‚»â€ï¼Œåªè®¤ 0 å’Œ 1ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ç¼–å†™çš„ä»£ç æœ€ç»ˆéƒ½è¦ç¼–è¯‘æˆæœºå™¨ç æ‰èƒ½è¢«è®¡ç®—æœºæ‰§è¡Œã€‚Java åœ¨è¯ç”Ÿä¹‹åˆå°±æå‡ºäº†ä¸€ä¸ªéå¸¸è‘—åçš„å®£ä¼ å£å·: "**ä¸€æ¬¡ç¼–å†™ï¼Œå¤„å¤„è¿è¡Œ**"ã€‚

> **Write Once, Run Anywhere.**

ä¸ºäº†è¿™ä¸ªå£å·ï¼ŒJava çš„äº²å¦ˆ Sun å…¬å¸ä»¥åŠå…¶ä»–è™šæ‹Ÿæœºæä¾›å•†å‘å¸ƒäº†è®¸å¤šå¯ä»¥åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œçš„ Java è™šæ‹Ÿæœºï¼Œè€Œè¿™äº›è™šæ‹Ÿæœºéƒ½æ‹¥æœ‰ä¸€ä¸ªå…±åŒçš„åŠŸèƒ½ï¼Œé‚£å°±æ˜¯å¯ä»¥è½½å…¥å’Œæ‰§è¡ŒåŒä¸€ç§ä¸å¹³å°æ— å…³çš„å­—èŠ‚ç ï¼ˆByte Codeï¼‰ã€‚

ï¼ˆå‰é¢å…¶å®æˆ‘ä»¬ä¹Ÿè®²è¿‡ï¼Œä½†ä¸ºäº†è¿™ç¯‡å†…å®¹çš„å®Œæ•´æ€§ï¼Œæˆ‘ä»¬ç®€å•è¿‡ä¸€ä¸‹ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬çš„é‡ç‚¹æ˜¯**é€šè¿‡ javap è¿™ä¸ªå‘½ä»¤æ¥äº†è§£å­—èŠ‚ç **ï¼‰

æœ‰äº† Java è™šæ‹Ÿæœºçš„å¸®åŠ©ï¼Œæˆ‘ä»¬ç¼–å†™çš„ Java æºä»£ç ä¸å¿…å†æ ¹æ®ä¸åŒå¹³å°ç¼–è¯‘æˆå¯¹åº”çš„æœºå™¨ç äº†ï¼Œåªéœ€è¦ç”Ÿæˆä¸€ä»½å­—èŠ‚ç ï¼Œç„¶åå†å°†å­—èŠ‚ç æ–‡ä»¶äº¤ç”±è¿è¡Œåœ¨ä¸åŒå¹³å°ä¸Šçš„ Java è™šæ‹Ÿæœºè¯»å–åæ‰§è¡Œå°±å¯ä»¥äº†ã€‚

å¦‚ä»Šçš„ Java è™šæ‹Ÿæœºéå¸¸å¼ºå¤§ï¼Œä¸ä»…æ”¯æŒ Java è¯­è¨€ï¼Œè¿˜æ”¯æŒå¾ˆå¤šå…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚è¯´ Groovyã€Scalaã€Koltin ç­‰ç­‰ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-dd31bbd6-c75c-4426-9437-c0f57ea3b86f.png)

æ¥çœ‹ä¸€æ®µä»£ç å§ã€‚

```java
public class Main {
    private int age = 18;
    public int getAge() {
        return age;
    }
}
```

ç¼–è¯‘ç”Ÿæˆ Main.class æ–‡ä»¶åï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ `xxd Main.class` æ‰“å¼€ class æ–‡ä»¶ï¼ˆ[å‰é¢æˆ‘ä»¬å·²ç»è®²è¿‡äº†](https://javabetter.cn/jvm/class-load.html)ï¼Œè¿˜ä¸ä¼šç”¨çš„åŒå­¦å¯ä»¥å›å¤´çœ‹ä¸€çœ¼ï¼‰ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-bd941085-ff0e-4abf-a5f9-afb0493bfed7.png)

å¯¹äºè¿™äº› 16 è¿›åˆ¶å†…å®¹ï¼Œé™¤äº†å¼€å¤´çš„ cafe babeï¼Œå‰©ä¸‹çš„å†…å®¹å¤§è‡´å¯ä»¥ç¿»è¯‘æˆï¼šå•¥ç©æ„å•Šè¿™......

ä½†ç»è¿‡[ä¸Šä¸€èŠ‚ç±»æ–‡ä»¶ç»“æ„](https://javabetter.cn/jvm/class-file-jiegou.html)çš„æ´—ç¤¼ï¼Œç›¸ä¿¡å¤§å®¶å¯¹è¿™ä»½æ–‡ä»¶çš„å†…å®¹å·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚

## javap

Java å†…ç½®äº†ä¸€ä¸ªåç¼–è¯‘å‘½ä»¤ javapï¼Œå¯ä»¥é€šè¿‡ `javap -help` äº†è§£ javap çš„åŸºæœ¬ç”¨æ³•ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/bytecode-20231215214357.png)

å½“ç„¶äº†ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„å‰ææ¡ä»¶æ˜¯ä½ éœ€è¦é…ç½®å¥½ Java ç¯å¢ƒå˜é‡ï¼Œå¦‚æœæ²¡æœ‰é…ç½®å¥½ï¼Œå¯ä»¥å‚è€ƒ[è¿™ç¯‡æ–‡ç« ](https://javabetter.cn/overview/jdk-install-config.html)ã€‚

javap æ˜¯ JDK è‡ªå¸¦çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä¸»è¦ç”¨äºåç¼–è¯‘ç±»æ–‡ä»¶ï¼ˆ.class æ–‡ä»¶ï¼‰ã€‚æˆ‘æœ¬æœºæ˜¯ macOSï¼Œä½¿ç”¨äº† jenv æ¥ç®¡ç†çš„ JDK ç‰ˆæœ¬ï¼Œæ‰€ä»¥çœ‹åˆ°çš„ä½ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

> Windows ç”¨æˆ·ä»¥åŠæ²¡æœ‰ä½¿ç”¨ jenv çš„ macOS ç”¨æˆ·å¯ä»¥æ ¹æ®[è¿™ä¸ªå¸–å­](https://javabetter.cn/overview/jdk-install-config.html)äº†è§£ jenvï¼ŒçœŸçš„å¥½ç”¨ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/bytecode-20231215215011.png)

javap ä¸»è¦ç”¨äºåç¼–è¯‘ Java ç±»æ–‡ä»¶ï¼Œå³å°†ç¼–è¯‘åçš„ .class æ–‡ä»¶è½¬æ¢å›æ›´æ˜“äºç†è§£çš„å½¢å¼ã€‚è™½ç„¶å®ƒä¸ä¼šç”ŸæˆåŸå§‹çš„ Java æºä»£ç ï¼Œä½†å®ƒå¯ä»¥æ˜¾ç¤ºç±»çš„ç»“æ„ï¼ŒåŒ…æ‹¬[æ„é€ æ–¹æ³•](https://javabetter.cn/oo/construct.html)ã€[æ–¹æ³•](https://javabetter.cn/oo/method.html)ã€[å­—æ®µ](https://javabetter.cn/oo/var.html)ç­‰ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ Java å­—èŠ‚ç ä»¥åŠ Java ç¨‹åºçš„è¿è¡Œæœºåˆ¶ã€‚

å‰é¢æˆ‘ä»¬å·²ç»å†™äº†ä¸€ä¸ªç®€å•çš„ç±»ï¼Œå¤§å®¶åº”è¯¥è¿˜è®°å¾—ï¼š

```java
public class Main {
    private int age = 18;
    public int getAge() {
        return age;
    }
}
```

å½“ç„¶äº†ï¼Œæˆ‘å¸Œæœ›ä½ æ˜¯ç”¨ [Intellij IDEA](https://javabetter.cn/overview/IDEA-install-config.html) æ¥ç¼–å†™è€Œä¸æ˜¯è®°äº‹æœ¬ï¼Œè¿™æ ·å°±çœå»äº†æˆ‘ä»¬ä¸»åŠ¨ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå¯ä»¥ç›´æ¥åœ¨ [target ç›®å½•ä¸‹æ‰¾åˆ° class æ–‡ä»¶](https://javabetter.cn/jvm/how-run-java-code.html)ï¼Œè¿™äº›çŸ¥è¯†æˆ‘ä»¬å‰é¢éƒ½å·²ç»è®²è¿‡äº†ã€‚

OKï¼Œæˆ‘ä»¬åœ¨ class æ–‡ä»¶çš„åŒçº§ç›®å½•ä¸‹è¾“å…¥å‘½ä»¤ `javap -v -p Main.class` æ¥æŸ¥çœ‹ä¸€ä¸‹è¾“å‡ºçš„å†…å®¹ï¼ˆ-v æ˜¾ç¤ºé™„åŠ ä¿¡æ¯ï¼Œå¦‚å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œç ç­‰ï¼›-p æ˜¾ç¤ºæ‰€æœ‰ç±»å’Œæˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ï¼Œä¸æ‡‚çš„åŒå­¦å¯ä»¥å›å¤´çœ‹åœ¨çœ‹ä¸€çœ¼ `javap -help` çš„è¾“å‡ºç»“æœ ğŸ˜ï¼‰ã€‚

```java
Classfile /Users/maweiqing/Documents/GitHub/TechSisterLearnJava/codes/TechSister/target/classes/com/itwanger/jvm/Main.class
  Last modified 2021å¹´4æœˆ15æ—¥; size 385 bytes
  SHA-256 checksum 6688843e4f70ae8d83040dc7c8e2dd3694bf10ba7c518a6ea9b88b318a8967c6
  Compiled from "Main.java"
public class com.itwanger.jvm.Main
  minor version: 0
  major version: 55
  flags: (0x0021) ACC_PUBLIC, ACC_SUPER
  this_class: #3                          // com/itwanger/jvm/Main
  super_class: #4                         // java/lang/Object
  interfaces: 0, fields: 1, methods: 2, attributes: 1
Constant pool:
   #1 = Methodref          #4.#18         // java/lang/Object."<init>":()V
   #2 = Fieldref           #3.#19         // com/itwanger/jvm/Main.age:I
   #3 = Class              #20            // com/itwanger/jvm/Main
   #4 = Class              #21            // java/lang/Object
   #5 = Utf8               age
   #6 = Utf8               I
   #7 = Utf8               <init>
   #8 = Utf8               ()V
   #9 = Utf8               Code
  #10 = Utf8               LineNumberTable
  #11 = Utf8               LocalVariableTable
  #12 = Utf8               this
  #13 = Utf8               Lcom/itwanger/jvm/Main;
  #14 = Utf8               getAge
  #15 = Utf8               ()I
  #16 = Utf8               SourceFile
  #17 = Utf8               Main.java
  #18 = NameAndType        #7:#8          // "<init>":()V
  #19 = NameAndType        #5:#6          // age:I
  #20 = Utf8               com/itwanger/jvm/Main
  #21 = Utf8               java/lang/Object
{
  private int age;
    descriptor: I
    flags: (0x0002) ACC_PRIVATE

  public com.itwanger.jvm.Main();
    descriptor: ()V
    flags: (0x0001) ACC_PUBLIC
    Code:
      stack=2, locals=1, args_size=1
         0: aload_0
         1: invokespecial #1                  // Method java/lang/Object."<init>":()V
         4: aload_0
         5: bipush        18
         7: putfield      #2                  // Field age:I
        10: return
      LineNumberTable:
        line 6: 0
        line 7: 4
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0      11     0  this   Lcom/itwanger/jvm/Main;

  public int getAge();
    descriptor: ()I
    flags: (0x0001) ACC_PUBLIC
    Code:
      stack=1, locals=1, args_size=1
         0: aload_0
         1: getfield      #2                  // Field age:I
         4: ireturn
      LineNumberTable:
        line 9: 0
      LocalVariableTable:
        Start  Length  Slot  Name   Signature
            0       5     0  this   Lcom/itwanger/jvm/Main;
}
SourceFile: "Main.java"
```

çå¤§çœ¼ç›ç§è¿‡å»ï¼Œå†…å®¹æŒºå¤šã€‚åŒå­¦ä»¬ä¸è¦ç€æ€¥ï¼Œæˆ‘ä»¬æ¥ä¸€è¡Œä¸€è¡Œåˆ†æã€‚

## å­—èŠ‚ç çš„åŸºæœ¬ä¿¡æ¯

ç¬¬ 1 è¡Œï¼š

```java
Classfile /Users/maweiqing/Documents/GitHub/TechSisterLearnJava/codes/TechSister/target/classes/com/itwanger/jvm/Main.class
```

é¡¾åæ€ä¹‰ï¼Œè¿™è¡Œè¡¨ç¤ºå­—èŠ‚ç æ–‡ä»¶çš„ä½ç½®ã€‚

ç¬¬ 2 è¡Œï¼š

```java
Last modified 2021å¹´4æœˆ15æ—¥; size 385 bytes
```

å­—èŠ‚ç æ–‡ä»¶çš„ä¿®æ”¹æ—¥æœŸï¼ˆæˆ‘ 2021 å¹´åœ¨ã€Œæ²‰é»˜ç‹äºŒã€å…¬ä¼—å·é‡Œåˆ†äº«è¿‡ï¼Œä¸çŸ¥é“è¿˜æœ‰å¤šå°‘åŒå­¦è®°å¾— ğŸ˜„ï¼‰ã€æ–‡ä»¶å¤§å°æ˜¯ 385 bytesã€‚

ç¬¬ 3 è¡Œï¼š

```java
SHA-256 checksum 6688843e4f70ae8d83040dc7c8e2dd3694bf10ba7c518a6ea9b88b318a8967c
```

å­—èŠ‚ç æ–‡ä»¶çš„ SHA-256 å€¼ï¼Œç”¨äºæ ¡éªŒæ–‡ä»¶çš„å®Œæ•´æ€§ã€‚

> SHA-256 æ˜¯ä¸€ç§åŠ å¯†å“ˆå¸Œç®—æ³•ï¼Œå°†ä»»æ„é•¿åº¦çš„è¾“å…¥æ•°æ®å¤„ç†æˆå›ºå®šé•¿åº¦ï¼ˆ256 ä½ï¼Œå³ 32 å­—èŠ‚ï¼‰çš„è¾“å‡ºæ•°æ®ï¼Œä¸”è¾“å‡ºæ•°æ®çš„å“ˆå¸Œå€¼åœ¨æ•°å­¦ä¸Šå¾ˆéš¾è¢«åå‘è®¡ç®—å‡ºåŸå§‹æ•°æ®ï¼Œæ‰€ä»¥å¸¸ç”¨äºæ ¡éªŒæ•°æ®çš„å®Œæ•´æ€§ã€‚

ç¬¬ 4 è¡Œï¼š

```java
Compiled from "Main.java"
```

è¯´æ˜è¯¥å­—èŠ‚ç æ–‡ä»¶ç¼–è¯‘è‡ª Main.java æºæ–‡ä»¶ã€‚

ç¬¬ 5 è¡Œï¼š

```java
public class com.itwanger.jvm.Main
```

ç±»è®¿é—®ä¿®é¥°ç¬¦å’Œç±»å‹ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå…¬å¼€çš„ç±»ï¼Œåä¸º `com.itwanger.jvm.Main`ã€‚

ç¬¬ 6 è¡Œ `minor version: 0`ï¼Œæ¬¡ç‰ˆæœ¬å·ã€‚

ç¬¬ 7 è¡Œ `major version: 55`ï¼Œä¸»ç‰ˆæœ¬å·ï¼ˆç”± Java 11 ç¼–è¯‘ï¼Œ[ä¸Šä¸€èŠ‚](https://javabetter.cn/jvm/class-file-jiegou.html)è®²è¿‡ï¼‰ã€‚

ç¬¬ 8 è¡Œï¼š

```java
flags: (0x0021) ACC_PUBLIC, ACC_SUPER
```

ç±»è®¿é—®æ ‡è®°ï¼Œä¸€å…±æœ‰ 8 ç§ï¼Œ[ä¸Šä¸€èŠ‚](https://javabetter.cn/jvm/class-file-jiegou.html)æˆ‘ä»¬æ›¾æåˆ°ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-d12d6983-f427-40d2-bb4b-3a2c6c4c7806.png)

è¡¨æ˜å½“å‰ç±»æ˜¯ `ACC_PUBLIC | ACC_SUPER`ï¼ˆè¡¨æ˜è¿™ä¸ªç±»æ˜¯ [public](https://javabetter.cn/oo/access-control.html) çš„ï¼Œå¹¶ä¸”ä½¿ç”¨äº† [super å…³é”®å­—](https://javabetter.cn/oo/this-super.html#_07%E3%80%81super-%E5%85%B3%E9%94%AE%E5%AD%97)ï¼‰ã€‚

[ä½è¿ç®—ç¬¦](https://javabetter.cn/basic-grammar/operator.html#_03%E3%80%81%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6) `|` çš„æ„æ€æ˜¯å¦‚æœç›¸å¯¹åº”ä½æ˜¯ 0ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ä¸º 1ï¼Œæ‰€ä»¥ `0x0001 | 0x0020` çš„ç»“æœæ˜¯ `0x0021`ï¼ˆéœ€è¦è½¬æˆäºŒè¿›åˆ¶è¿›è¡Œè¿ç®—ï¼‰ã€‚

ç¬¬ 9 è¡Œï¼š

```java
this_class: #3 // com/itwanger/jvm/Main
```

å½“å‰ç±»çš„ç´¢å¼•ï¼ŒæŒ‡å‘[å¸¸é‡æ± ](https://javabetter.cn/jvm/class-file-jiegou.html#_03%E3%80%81%E5%B8%B8%E9%87%8F%E6%B1%A0)ä¸­ä¸‹æ ‡ä¸º 3 çš„å¸¸é‡ï¼ˆä¸Šä¸€èŠ‚åˆšè®²è¿‡ï¼‰ï¼Œå¯ä»¥çœ‹å¾—å‡ºå½“å‰ç±»æ˜¯ Main ç±»ã€‚

ç¬¬ 10 è¡Œï¼š

```java
super_class: #4 // java/lang/Object
```

çˆ¶ç±»çš„ç´¢å¼•ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 6 çš„å¸¸é‡ï¼Œå¯ä»¥çœ‹å¾—å‡ºå½“å‰ç±»çš„çˆ¶ç±»æ˜¯ Object ç±»ï¼ˆæ‰€æœ‰æ²¡æœ‰æ˜ç¡®çˆ¶ç±»éƒ½é»˜è®¤ç»§æ‰¿è¶…ç±»ï¼Œè¿™ä¹Ÿæ˜¯**ä¸‡ç‰©çš†å¯¹è±¡**çš„é‡è¦åŸå› ï¼‰ã€‚

ç¬¬ 11 è¡Œï¼š

```java
interfaces: 0, fields: 1, methods: 2, attributes: 1
```

å½“å‰ç±»æœ‰ 0 ä¸ªæ¥å£ï¼Œ1 ä¸ªå­—æ®µï¼ˆageï¼‰ï¼Œ2 ä¸ªæ–¹æ³•ï¼ˆ`write()`æ–¹æ³•å’Œç¼ºçœçš„é»˜è®¤æ„é€ æ–¹æ³•ï¼Œè®²ã€Š[é¢å‘å¯¹è±¡ç¼–ç¨‹](https://javabetter.cn/oo/object-class.html)ã€‹çš„æ—¶å€™éƒ½è®²è¿‡ï¼‰ï¼Œ1 ä¸ªå±æ€§ï¼ˆè¯¥ç±»ä»…æœ‰çš„ä¸€ä¸ªå±æ€§æ˜¯ SourceFIleï¼ŒåŒ…å«äº†æºç æ–‡ä»¶çš„ä¿¡æ¯ï¼Œç¬¬ä¸€è¡Œè®²è¿‡äº†ï¼‰ã€‚

## å¸¸é‡æ± 

æ¥ä¸‹æ¥æ˜¯ Constant poolï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚ç æ–‡ä»¶æœ€é‡è¦çš„å¸¸é‡æ± éƒ¨åˆ†ã€‚å¯ä»¥æŠŠå¸¸é‡æ± ç†è§£ä¸ºå­—èŠ‚ç æ–‡ä»¶ä¸­çš„èµ„æºä»“åº“ï¼Œä¸»è¦å­˜æ”¾ä¸¤å¤§ç±»ä¿¡æ¯ã€‚

> [ä¸Šä¸€èŠ‚](https://javabetter.cn/jvm/class-file-jiegou.html)æˆ‘ä»¬å°±è®²è¿‡å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œè¿™é‡Œå†è®²ä¸€æ¬¡ï¼Œåº”è¯¥æ˜¯ç¬¬ä¸‰æ¬¡è®²äº†ï¼Œç¡®å®æ¯”è¾ƒéš¾æ‡‚ï¼Œæˆ‘ä»¬å°±å¤šè®²å‡ æ¬¡ï¼Œç›´åˆ°å¤§å®¶éƒ½èƒ½ç†è§£ä¸ºæ­¢ï¼ˆğŸ˜ï¼‰ã€‚

**1ï¼‰å­—é¢é‡ï¼ˆLiteralï¼‰**ï¼Œæœ‰ç‚¹ç±»ä¼¼ Java ä¸­çš„å¸¸é‡æ¦‚å¿µï¼Œæ¯”å¦‚æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œfinal å¸¸é‡ç­‰ã€‚

**2ï¼‰ç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰**ï¼Œå±äºç¼–è¯‘åŸç†æ–¹é¢çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ 3 ç§ï¼š

- ç±»å’Œæ¥å£çš„å…¨é™å®šåï¼ˆFully Qualified Nameï¼‰
- å­—æ®µçš„åç§°å’Œæè¿°ç¬¦ï¼ˆDescriptorï¼‰
- æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦

Java è™šæ‹Ÿæœºæ˜¯åœ¨åŠ è½½å­—èŠ‚ç æ–‡ä»¶çš„æ—¶å€™æ‰è¿›è¡Œçš„åŠ¨æ€é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­—æ®µå’Œæ–¹æ³•çš„ç¬¦å·å¼•ç”¨åªæœ‰ç»è¿‡è¿è¡ŒæœŸè½¬æ¢åæ‰èƒ½è·å¾—çœŸæ­£çš„å†…å­˜åœ°å€ã€‚

å½“ Java è™šæ‹Ÿæœºè¿è¡Œæ—¶ï¼Œéœ€è¦ä»å¸¸é‡æ± è·å–å¯¹åº”çš„ç¬¦å·å¼•ç”¨ï¼Œç„¶ååœ¨ç±»åˆ›å»ºæˆ–è€…è¿è¡Œæ—¶è§£æå¹¶ç¿»è¯‘åˆ°å…·ä½“çš„å†…å­˜åœ°å€ä¸Šã€‚

å½“å‰å­—èŠ‚ç æ–‡ä»¶ä¸­ä¸€å…±æœ‰ 21 ä¸ªå¸¸é‡ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯æœ‰é“¾æ¥çš„ï¼Œé€ä¸ªåˆ†æä¼šæ¯”è¾ƒä¹±ï¼Œæˆ‘ä»¬é‡‡ç”¨é¡ºè—¤æ‘¸ç“œçš„æ–¹å¼ï¼Œä»ä¸Šä¾æ¬¡å¾€ä¸‹çœ‹ï¼Œé‚£äº›è¢«é“¾æ¥çš„å¸¸é‡æˆ‘ä»¬å°±ç‚¹åˆ°ä¸ºæ­¢ã€‚

_æ³¨_ï¼š

- `#` å·åé¢è·Ÿçš„æ˜¯ç´¢å¼•ï¼Œç´¢å¼•æ²¡æœ‰ä» 0 å¼€å§‹è€Œæ˜¯ä» 1 å¼€å§‹ï¼Œæ˜¯å› ä¸ºè®¾è®¡è€…è€ƒè™‘åˆ°ï¼Œâ€œå¦‚æœè¦è¡¨è¾¾ä¸å¼•ç”¨ä»»ä½•ä¸€ä¸ªå¸¸é‡çš„å«ä¹‰æ—¶ï¼Œå¯ä»¥å°†ç´¢å¼•å€¼è®¾ä¸º 0 æ¥è¡¨ç¤ºâ€ï¼ˆå‘¨å¿—æ˜è€å¸ˆã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ä¸€ä¹¦æè¿°çš„ï¼‰ã€‚
- `=` å·åé¢è·Ÿçš„æ˜¯å¸¸é‡çš„ç±»å‹ï¼Œæ²¡æœ‰åŒ…å«å‰ç¼€ `CONSTANT_` å’Œåç¼€ `_info`ã€‚
- **å…¨æ–‡ä¸­æåˆ°çš„ç´¢å¼•ç­‰åŒäºä¸‹æ ‡**ï¼Œä¸ºäº†çµæ´»æè¿°ï¼Œæ²¡æœ‰åšç»Ÿä¸€ã€‚

å¥½ï¼Œå¼€å§‹ã€‚

ç¬¬ 1 ä¸ªå¸¸é‡ï¼š

```java
#1 = Methodref #4.#18 // java/lang/Object."<init>":()V
```

ç±»å‹ä¸º Methodrefï¼Œè¡¨æ˜æ˜¯ç”¨æ¥å®šä¹‰æ–¹æ³•çš„ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 4 å’Œ 18 çš„å¸¸é‡ã€‚

ç¬¬ 4 ä¸ªå¸¸é‡ï¼š

```java
#4 = Class #21 // java/lang/Object
```

ç±»å‹ä¸º Classï¼Œè¡¨æ˜æ˜¯ç”¨æ¥å®šä¹‰ç±»ï¼ˆæˆ–è€…æ¥å£ï¼‰çš„ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 21 çš„å¸¸é‡ã€‚

ç¬¬ 21 ä¸ªå¸¸é‡ï¼š

```java
#21 = Utf8 java/lang/Object
```

ç±»å‹ä¸º Utf8ï¼ŒUTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸º `java/lang/Object`ã€‚

ç¬¬ 18 ä¸ªå¸¸é‡ï¼š

```java
#18 = NameAndType #7:#8 // "<init>":()V
```

ç±»å‹ä¸º NameAndTypeï¼Œè¡¨æ˜æ˜¯å­—æ®µæˆ–è€…æ–¹æ³•çš„éƒ¨åˆ†ç¬¦å·å¼•ç”¨ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 7 å’Œ 8 çš„å¸¸é‡ã€‚

ç¬¬ 7 ä¸ªå¸¸é‡ï¼š

```java
#7 = Utf8 <init>
```

ç±»å‹ä¸º Utf8ï¼ŒUTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸º `<init>`ï¼Œè¡¨æ˜ä¸ºæ„é€ æ–¹æ³•ã€‚

ç¬¬ 8 ä¸ªå¸¸é‡ï¼š

```java
#8 = Utf8 ()V
```

ç±»å‹ä¸º Utf8ï¼ŒUTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸º `()V`ï¼Œè¡¨æ˜æ–¹æ³•çš„è¿”å›å€¼ä¸º voidã€‚

åˆ°æ­¤ä¸ºæ­¢ï¼Œç¬¬ 1 ä¸ªå¸¸é‡ç®—æ˜¯æ‘¸å®Œäº†ã€‚ç»„åˆèµ·æ¥çš„æ„æ€å°±æ˜¯ï¼ŒMain ç±»ä½¿ç”¨çš„æ˜¯é»˜è®¤çš„æ„é€ æ–¹æ³•ï¼Œæ¥æºäº Object ç±»ã€‚`#4` æŒ‡å‘ `Class #21`ï¼ˆå³ `java/lang/Object`ï¼‰ï¼Œ`#18` æŒ‡å‘ `NameAndType #7:#8`ï¼ˆå³ `<init>:()V`ï¼‰ã€‚

ç¬¬ 2 ä¸ªå¸¸é‡ï¼š

```java
#2 = Fieldref #3.#19 // com/itwanger/jvm/Main.age:I
```

ç±»å‹ä¸º Fieldrefï¼Œè¡¨æ˜æ˜¯ç”¨æ¥å®šä¹‰å­—æ®µçš„ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 3 å’Œ 19 çš„å¸¸é‡ã€‚

ç¬¬ 3 ä¸ªå¸¸é‡ï¼š

```java
#3 = Class #20 // com/itwanger/jvm/Main
```

ç±»å‹ä¸º Classï¼Œè¡¨æ˜æ˜¯ç”¨æ¥å®šä¹‰ç±»ï¼ˆæˆ–è€…æ¥å£ï¼‰çš„ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 20 çš„å¸¸é‡ã€‚

ç¬¬ 19 ä¸ªå¸¸é‡ï¼š

```java
#19 = NameAndType #5:#6 // age:I
```

ç±»å‹ä¸º NameAndTypeï¼Œè¡¨æ˜æ˜¯å­—æ®µæˆ–è€…æ–¹æ³•çš„éƒ¨åˆ†ç¬¦å·å¼•ç”¨ï¼ŒæŒ‡å‘å¸¸é‡æ± ä¸­ä¸‹æ ‡ä¸º 5 å’Œ 6 çš„å¸¸é‡ã€‚

ç¬¬ 5 ä¸ªå¸¸é‡ï¼š

```java
#5 = Utf8 age
```

ç±»å‹ä¸º Utf8ï¼ŒUTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸º `age`ï¼Œè¡¨æ˜å­—æ®µåä¸º ageã€‚

ç¬¬ 6 ä¸ªå¸¸é‡ï¼š

```java
#6 = Utf8               I
```

ç±»å‹ä¸º Utf8ï¼ŒUTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå€¼ä¸º `I`ï¼Œè¡¨æ˜å­—æ®µçš„ç±»å‹ä¸º intã€‚

å…³äºå­—æ®µç±»å‹çš„æè¿°ç¬¦æ˜ å°„è¡¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ[ä¸Šä¸€èŠ‚](https://javabetter.cn/jvm/class-file-jiegou.html)å…¶å®ä¹Ÿè®²è¿‡ï¼Œåªä¸è¿‡æ˜¯ä» 16 è¿›åˆ¶æ¥çœ‹çš„ï¼Œè¿™ä¸€èŠ‚æ˜¯ä» javap çš„è§’åº¦æ¥çœ‹çš„ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-cbf16ce9-7853-4050-a1c0-8b874f3b0c1e.png)

åˆ°æ­¤ä¸ºæ­¢ï¼Œç¬¬ 2 ä¸ªå¸¸é‡ç®—æ˜¯æ‘¸å®Œäº†ã€‚ç»„åˆèµ·æ¥çš„æ„æ€å°±æ˜¯ï¼Œå£°æ˜äº†ä¸€ä¸ªç±»å‹ä¸º int çš„å­—æ®µ ageã€‚`#3` æŒ‡å‘ `Class #20`ï¼ˆå³ `com/itwanger/jvm/Main`ï¼‰ï¼Œ`#19` æŒ‡å‘ `NameAndType #5:#6`ï¼ˆå³ `age:I`ï¼‰ã€‚

## å­—æ®µè¡¨é›†åˆ

å­—æ®µè¡¨ç”¨æ¥æè¿°æ¥å£æˆ–è€…ç±»ä¸­å£°æ˜çš„å˜é‡ï¼ŒåŒ…æ‹¬ç±»å˜é‡å’Œæˆå‘˜å˜é‡ï¼Œä½†ä¸åŒ…å«å£°æ˜åœ¨æ–¹æ³•ä¸­å±€éƒ¨å˜é‡ã€‚

> å¸¦é“¾æ¥çš„éƒ½æ˜¯æˆ‘ä»¬ä¹‹å‰è®²è¿‡çš„ï¼Œæ˜¯ä¸æ˜¯å‘ç°æ‰€æœ‰çš„çŸ¥è¯†éƒ½ä¸²è”èµ·æ¥äº†ï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬å­¦ä¹  javap å’Œå­—èŠ‚ç çš„åŸå› ï¼Œäº†è§£å­—èŠ‚ç çš„åŒæ—¶ï¼Œä¹Ÿèƒ½å¤ŸåŠ æ·±å¯¹ Java çŸ¥è¯†çš„ç†è§£ã€‚

å­—æ®µçš„ä¿®é¥°ç¬¦ä¸€èˆ¬æœ‰ï¼š

- [è®¿é—®æƒé™ä¿®é¥°ç¬¦](https://javabetter.cn/oo/access-control.html)ï¼Œæ¯”å¦‚ public private protected
- [é™æ€å˜é‡ä¿®é¥°ç¬¦](https://javabetter.cn/oo/static.html)ï¼Œæ¯”å¦‚ static
- [final ä¿®é¥°ç¬¦](https://javabetter.cn/oo/final.html)
- å¹¶å‘å¯è§æ€§ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚ [volatile](https://javabetter.cn/thread/volatile.html)
- åºåˆ—åŒ–ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚ [transient](https://javabetter.cn/io/transient.html)

ç„¶åæ˜¯å­—æ®µçš„ç±»å‹ï¼ˆå¯ä»¥æ˜¯[åŸºæœ¬æ•°æ®ç±»å‹](https://javabetter.cn/basic-grammar/basic-data-type.html)ã€[æ•°ç»„](https://javabetter.cn/array/array.html)å’Œ[å¯¹è±¡](https://javabetter.cn/oo/object-class.html)ï¼‰å’Œåç§°ã€‚

åœ¨ Main.class å­—èŠ‚ç æ–‡ä»¶ä¸­ï¼Œå­—æ®µè¡¨çš„ä¿¡æ¯å¦‚ä¸‹æ‰€ç¤ºã€‚

```java
private int age;
    descriptor: I
    flags: (0x0002) ACC_PRIVATE
```

è¡¨æ˜å­—æ®µçš„è®¿é—®æƒé™ä¿®é¥°ç¬¦ä¸º privateï¼Œç±»å‹ä¸º intï¼Œåç§°ä¸º ageã€‚å­—æ®µçš„è®¿é—®æ ‡å¿—å’Œç±»çš„è®¿é—®æ ‡å¿—éå¸¸ç±»ä¼¼ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-5f328e11-3486-4eb4-8fa9-5c5febfab894.png)

## æ–¹æ³•è¡¨é›†åˆ

æ–¹æ³•è¡¨ç”¨æ¥æè¿°[æ¥å£](https://javabetter.cn/oo/interface.html)æˆ–è€…ç±»ä¸­å£°æ˜çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç±»æ–¹æ³•å’Œæˆå‘˜æ–¹æ³•ï¼Œä»¥åŠæ„é€ æ–¹æ³•ã€‚æ–¹æ³•çš„ä¿®é¥°ç¬¦å’Œå­—æ®µç•¥æœ‰ä¸åŒï¼Œæ¯”å¦‚è¯´ volatile å’Œ transient ä¸èƒ½ç”¨æ¥ä¿®é¥°æ–¹æ³•ï¼Œå†æ¯”å¦‚è¯´æ–¹æ³•çš„ä¿®é¥°ç¬¦å¤šäº† [synchronized](https://javabetter.cn/thread/synchronized-1.html)ã€[native](https://javabetter.cn/oo/native-method.html)ã€[strictfp](https://javabetter.cn/basic-extra-meal/48-keywords.html) å’Œ [abstract](https://javabetter.cn/oo/abstract.html)ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/jvm/bytecode-fd434d5c-ffc6-4a24-9787-98e573035068.png)

### æ„é€ æ–¹æ³•

ä¸‹é¢è¿™éƒ¨åˆ†ä¸ºæ„é€ æ–¹æ³•ï¼Œè¿”å›ç±»å‹ä¸º voidï¼Œè®¿é—®æ ‡å¿—ä¸º publicã€‚

```java
public com.itwanger.jvm.Main();
  descriptor: ()V
  flags: (0x0001) ACC_PUBLIC
```

- å£°æ˜ï¼š`public com.itwanger.jvm.Main();` è¿™æ˜¯ Main ç±»çš„æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»º Main ç±»çš„å®ä¾‹ã€‚å®ƒæ˜¯å…¬å¼€çš„ï¼ˆpublicï¼‰ã€‚
- æè¿°ç¬¦ï¼š`descriptor: ()V`
  è¿™è¡¨ç¤ºæ„é€ æ–¹æ³•æ²¡æœ‰å‚æ•° (`()`) å¹¶ä¸”æ²¡æœ‰è¿”å›å€¼ ï¼ˆ`V`ï¼Œä»£è¡¨ `void`ï¼‰ã€‚
- è®¿é—®æ ‡å¿—ï¼š`flags: (0x0001) ACC_PUBLIC`ï¼Œè¡¨ç¤ºè¿™ä¸ªæ„é€ æ–¹æ³•æ˜¯å…¬å¼€çš„ï¼Œå¯ä»¥ä»å…¶ä»–ç±»ä¸­è®¿é—®ã€‚

æ¥è¯¦ç»†çœ‹ä¸€ä¸‹å…¶ä¸­ Code å±æ€§ã€‚

```java
Code:
  stack=2, locals=1, args_size=1
      0: aload_0
      1: invokespecial #1                  // Method java/lang/Object."<init>":()V
      4: aload_0
      5: bipush        18
      7: putfield      #2                  // Field age:I
    10: return
  LineNumberTable:
    line 6: 0
    line 7: 4
  LocalVariableTable:
    Start  Length  Slot  Name   Signature
        0      11     0  this   Lcom/itwanger/jvm/Main;
```

â‘ ã€stack ä¸ºæœ€å¤§æ“ä½œæ•°æ ˆï¼ŒJava è™šæ‹Ÿæœºåœ¨è¿è¡Œçš„æ—¶å€™ä¼šæ ¹æ®è¿™ä¸ªå€¼æ¥åˆ†é…æ ˆå¸§çš„æ“ä½œæ•°æ ˆæ·±åº¦ï¼ˆå…³äºæ“ä½œæ•°æ ˆå’Œæ ˆå¸§ï¼Œæˆ‘ä»¬ä¼šåœ¨[ä¸‹ä¸€èŠ‚](https://javabetter.cn/jvm/how-jvm-run-zijiema-zhiling.html)è¯¦ç»†è®²è§£ï¼‰ï¼Œè¿™é‡Œçš„å€¼ä¸º 2ï¼Œæ„å‘³ç€æ“ä½œæ•°æ ˆçš„æ·±åº¦ä¸º 2ã€‚

æ“ä½œæ ˆæ˜¯ä¸€ä¸ª LIFOï¼ˆåè¿›å…ˆå‡ºï¼‰æ ˆï¼Œç”¨äºå­˜æ”¾ä¸´æ—¶å˜é‡å’Œä¸­é—´ç»“æœã€‚åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œbipush å’Œ aload_0 æŒ‡ä»¤å¯èƒ½ä¼šåŒæ—¶éœ€è¦æ ˆç©ºé—´ï¼Œæ‰€ä»¥éœ€è¦ 2 ä¸ªæ“ä½œæ•°æ ˆæ·±åº¦ã€‚

â‘¡ã€locals ä¸ºå±€éƒ¨å˜é‡æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ï¼Œå•ä½ä¸ºæ§½ï¼ˆslotï¼‰ï¼Œæ–¹æ³•çš„å‚æ•°å˜é‡å’Œæ–¹æ³•å†…çš„å±€éƒ¨å˜é‡éƒ½ä¼šå­˜å‚¨åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­ã€‚

å±€éƒ¨å˜é‡è¡¨çš„å®¹é‡ä»¥å˜é‡æ§½ä¸ºæœ€å°å•ä½ï¼Œä¸€ä¸ªå˜é‡æ§½å¯ä»¥å­˜æ”¾ä¸€ä¸ª 32 ä½ä»¥å†…çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚ booleanã€byteã€charã€shortã€intã€floatã€reference å’Œ returnAddress ç±»å‹ã€‚

å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å®¹é‡å¤§å°æ˜¯åœ¨ç¼–è¯‘æœŸé—´å®Œæˆè®¡ç®—çš„ï¼Œå¤§å°ç”±ç¼–è¯‘å™¨å†³å®šï¼Œå› æ­¤ä¸åŒçš„ç¼–è¯‘å™¨ç¼–è¯‘å‡ºæ¥çš„å­—èŠ‚ç å¯èƒ½ä¼šä¸ä¸€æ ·ã€‚

locals=1ï¼Œè¿™è¡¨ç¤ºå±€éƒ¨å˜é‡è¡¨ä¸­æœ‰ 1 ä¸ªå˜é‡çš„ç©ºé—´ã€‚å¯¹äºå®ä¾‹æ–¹æ³•ï¼ˆå¦‚æ„é€ æ–¹æ³•ï¼‰ï¼Œå±€éƒ¨å˜é‡è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆç´¢å¼• 0ï¼‰æ€»æ˜¯ç”¨äºå­˜å‚¨ this å¼•ç”¨ã€‚

â‘¢ã€args_size ä¸ºæ–¹æ³•çš„å‚æ•°ä¸ªæ•°ã€‚

ä¸ºä»€ä¹ˆ stack çš„å€¼ä¸º 2ï¼Œlocals çš„å€¼ä¸º 1ï¼Œargs_size çš„å€¼ä¸º 1 å‘¢ï¼Ÿ**é»˜è®¤çš„æ„é€ æ–¹æ³•ä¸æ˜¯æ²¡æœ‰å‚æ•°å’Œå±€éƒ¨å˜é‡å—**ï¼Ÿ

è¿™æ˜¯å› ä¸ºæœ‰ä¸€ä¸ªéšè—çš„ this å˜é‡ï¼Œåªè¦ä¸æ˜¯é™æ€æ–¹æ³•ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå½“å‰ç±»çš„å¯¹è±¡ this æ‚„æ‚„çš„å­˜åœ¨ç€ã€‚

è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆ locals å’Œ args_size çš„å€¼ä¸º 1 çš„é—®é¢˜ã€‚

é‚£ä¸ºä»€ä¹ˆ stack çš„å€¼ä¸º 2 å‘¢ï¼Ÿå› ä¸ºå­—èŠ‚ç æŒ‡ä»¤ invokespecialï¼ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼‰ä¼šæ¶ˆè€—æ‰ä¸€ä¸ªå½“å‰ç±»çš„å¼•ç”¨ï¼Œæ‰€ä»¥ aload_0 æ‰§è¡Œäº† 2 æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ“ä½œæ•°æ ˆçš„å¤§å°ä¸º 2ã€‚

å…³äº[å­—èŠ‚ç æŒ‡ä»¤](https://javabetter.cn/jvm/zijiema-zhiling.html)ï¼Œæˆ‘ä»¬åé¢ä¼šè¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œåªæ˜¯ç®€å•æä¸€ä¸‹ã€‚

â‘£ã€LineNumberTableï¼Œè¯¥å±æ€§çš„ä½œç”¨æ˜¯æè¿°æºç è¡Œå·ä¸å­—èŠ‚ç è¡Œå·(å­—èŠ‚ç åç§»é‡)ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚è¿™å¯¹äºè°ƒè¯•éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸è°ƒè¯•å™¨å°†æ­£åœ¨æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ç²¾ç¡®åœ°å…³è”åˆ°æºä»£ç çš„ç‰¹å®šè¡Œã€‚

```
LineNumberTable:
  line 6: 0
  line 7: 4
```

è¿™é‡Œçš„æ„æ€æ˜¯ï¼Œç¬¬ 6 è¡Œå¯¹åº”çš„å­—èŠ‚ç è¡Œå·ä¸º 0ï¼Œç¬¬ 7 è¡Œå¯¹åº”çš„å­—èŠ‚ç è¡Œå·ä¸º 4ã€‚

åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå½“ä¸€ä¸ªæ–­ç‚¹è¢«è§¦å‘æˆ–å‡ºç°å¼‚å¸¸æ—¶ï¼Œé€šè¿‡ LineNumberTableï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™æ˜¯æºä»£ç ä¸­çš„å“ªä¸€è¡Œå¯¼è‡´çš„ã€‚

â‘£ã€LocalVariableTableï¼Œè¯¥å±æ€§çš„ä½œç”¨æ˜¯æè¿°å¸§æ ˆä¸­çš„å±€éƒ¨å˜é‡ä¸æºç ä¸­å®šä¹‰çš„å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚å¤§å®¶ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œå°±èƒ½çœ‹åˆ° this çš„å½±å­äº†ã€‚

- Start å’Œ Lengthï¼šå®šä¹‰å˜é‡åœ¨æ–¹æ³•ä¸­çš„ä½œç”¨åŸŸã€‚Start æ˜¯å˜é‡ç”Ÿæ•ˆçš„å­—èŠ‚ç åç§»é‡ï¼ŒLength æ˜¯å®ƒä¿æŒæ´»åŠ¨çš„é•¿åº¦ã€‚
- Slotï¼šå˜é‡åœ¨å±€éƒ¨å˜é‡æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚
- Nameï¼šå˜é‡çš„åç§°ï¼Œå¦‚åœ¨æºä»£ç ä¸­å®šä¹‰çš„ã€‚
- Signatureï¼šå˜é‡çš„ç±»å‹æè¿°ç¬¦ã€‚

è¿™é‡Œï¼Œåªæœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡ thisï¼Œå®ƒæŒ‡ä»£æ„é€ æ–¹æ³•æ­£åœ¨åˆå§‹åŒ–çš„å¯¹è±¡ã€‚å®ƒçš„ä½œç”¨åŸŸæ˜¯ä»æŒ‡ä»¤åç§»é‡ 0 å¼€å§‹ï¼ŒæŒç»­æ•´ä¸ªæ–¹æ³•çš„é•¿åº¦ï¼ˆé•¿åº¦ä¸º 11ï¼‰ï¼Œå¹¶ä¸”è¢«åˆ†é…åˆ°å±€éƒ¨å˜é‡è¡¨çš„ç¬¬ä¸€ä¸ªæ§½ä½ï¼ˆç´¢å¼• 0ï¼‰ã€‚`Lcom/itwanger/jvm/Main;` è¡¨æ˜è¿™ä¸ªå˜é‡çš„ç±»å‹æ˜¯ com.itwanger.jvm.Mainã€‚

### æˆå‘˜æ–¹æ³•

ä¸‹é¢è¿™éƒ¨åˆ†ä¸ºæˆå‘˜æ–¹æ³• `getAge()`ï¼Œè¿”å›ç±»å‹ä¸º intï¼Œè®¿é—®æ ‡å¿—ä¸º publicã€‚

```java
public int getAge();
  descriptor: ()I
  flags: (0x0001) ACC_PUBLIC
```

ç†è§£äº†æ„é€ æ–¹æ³•çš„ Code å±æ€§åï¼Œå†çœ‹ `getAge()` æ–¹æ³•çš„ Code å±æ€§æ—¶ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚

```java
Code:
  stack=1, locals=1, args_size=1
      0: aload_0
      1: getfield      #2                  // Field age:I
      4: ireturn
  LineNumberTable:
    line 9: 0
  LocalVariableTable:
    Start  Length  Slot  Name   Signature
        0       5     0  this   Lcom/itwanger/jvm/Main;
```

æœ€å¤§æ“ä½œæ•°æ ˆä¸º 1ï¼Œå±€éƒ¨å˜é‡æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ä¸º 1ï¼Œæ–¹æ³•çš„å‚æ•°ä¸ªæ•°ä¸º 1ï¼Œæ˜¯å› ä¸ºå±€éƒ¨å˜é‡åªæœ‰ä¸€ä¸ªéšè—çš„ thisï¼Œå¹¶ä¸”å­—èŠ‚ç æŒ‡ä»¤ä¸­åªæ‰§è¡Œäº†ä¸€æ¬¡ aload_0ã€‚

â‘ ã€å­—èŠ‚ç æŒ‡ä»¤

- aload_0: åŠ è½½ this å¼•ç”¨åˆ°æ ˆé¡¶ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥è®¿é—®å®ä¾‹å­—æ®µ ageã€‚
- `getfield #2`: è·å–å­—æ®µå€¼ã€‚è¿™æ¡æŒ‡ä»¤è¯»å– this å¯¹è±¡çš„ age å­—æ®µçš„å€¼ï¼Œå¹¶å°†å…¶æ¨é€åˆ°æ ˆé¡¶ã€‚`#2` æ˜¯å¯¹å¸¸é‡æ± ä¸­çš„å­—æ®µå¼•ç”¨ã€‚
- ireturn: è¿”å›æ ˆé¡¶æ•´å‹å€¼ã€‚è¿™é‡Œè¿”å›çš„æ˜¯ age å­—æ®µçš„å€¼ã€‚

â‘¡ã€é™„åŠ ä¿¡æ¯

LineNumberTable å’Œ LocalVariableTable åŒæ ·æä¾›äº†æºä»£ç çš„è¡Œå·å¯¹åº”å’Œå±€éƒ¨å˜é‡ä¿¡æ¯ï¼Œæœ‰åŠ©äºè°ƒè¯•å’Œç†è§£ä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚

## å°ç»“

å…¶å®å­¦ä¹ æ˜¯è¿™æ ·çš„ï¼Œå¯ä»¥æ¨ªå‘æ‰©å±•ï¼Œä¹Ÿå¯ä»¥çºµå‘æ‰©å±•ã€‚å½“æˆ‘ä»¬åˆå­¦ç¼–ç¨‹çš„æ—¶å€™ï¼Œç‰¹åˆ«æƒ³å¤šå­¦ä¸€ç‚¹ï¼Œå±äºæ¨ªå‘æ‰©å±•ï¼Œå½“æœ‰äº†ä¸€å®šçš„ç¼–ç¨‹ç»éªŒåï¼Œæƒ³æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå°±éœ€è¦çºµå‘æ‰©å±•ï¼Œä¸æ–­æ·±å…¥åœ°å­¦ï¼Œè¿æ ¹æ‹”èµ·ï¼Œä»è€Œå½¢æˆè‡ªå·±çš„çŸ¥è¯†ä½“ç³»ã€‚

æ— è®ºæ˜¯ä»åå…­è¿›åˆ¶çš„å­—èŠ‚ç è§’åº¦ï¼Œè¿˜æ˜¯ jclasslib å›¾å½¢åŒ–æŸ¥çœ‹åç¼–è¯‘åçš„å­—èŠ‚ç çš„è§’åº¦ï¼Œä¹Ÿæˆ–è€…æ˜¯ä»Šå¤©è¿™æ ·ä» javap åç¼–è¯‘åçš„è§’åº¦ï¼Œéƒ½èƒ½çª¥æ¢å‡ºä¸€äº›æ–°çš„å†…å®¹æ¥ï¼

åˆå­¦è€…ä¸€å¼€å§‹æ¥è§¦å­—èŠ‚ç çš„æ—¶å€™ä¼šæ„Ÿè§‰æ¯”è¾ƒå¤´å¤§ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘å½“åˆä¹Ÿæ˜¯è¿™æ ·ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œç»éªŒçš„ç§¯ç´¯ï¼Œæ…¢æ…¢å°±å¥½äº†ï¼Œè¶Šå¾€æ·±å¤„é’»ï¼Œå°±è¶Šèƒ½ä½“ä¼šåˆ°é‚£ç§â€œæŠ€æœ¯æˆ‘æœ‰ï¼Œé›„éœ¸å¤©ä¸‹â€çš„æ„Ÿè§‰~

---

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)
