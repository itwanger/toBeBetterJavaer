---
title: Javaé¢è¯•é¢˜ä¹‹Javaé›†åˆæ¡†æ¶ç¯‡ï¼ˆJavaå®¹å™¨ç¯‡ï¼‰ï¼Œ29é“Javaé›†åˆæ¡†æ¶å…«è‚¡æ–‡ï¼ˆ7åƒå­—38å¼ æ‰‹ç»˜å›¾ï¼‰ï¼Œé¢æ¸£é€†è¢­å¿…çœ‹ğŸ‘
shortTitle: é¢æ¸£é€†è¢­-Javaé›†åˆæ¡†æ¶
author: ä¸‰åˆ†æ¶
date: 2024-10-14
category:
  - é¢æ¸£é€†è¢­
tag:
  - é¢æ¸£é€†è¢­
description: ä¸‹è½½æ¬¡æ•°è¶… 1 ä¸‡æ¬¡ï¼Œ7200 å­— 38 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 29 é“ Java é›†åˆæ¡†æ¶é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº› Java å®¹å™¨å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚
head:
  - - meta
    - name: keywords
      content: Java,é›†åˆæ¡†æ¶,Javaå®¹å™¨,List,Map,Set,é¢è¯•é¢˜,å…«è‚¡æ–‡,java
---


![é¢æ¸£é€†è¢­é›†åˆæ¡†æ¶ç¯‡å°é¢å›¾](https://cdn.tobebetterjavaer.com/stutymore/collection-mianzhanixi-collection.jpg)

## å‰è¨€

7200 å­— 38 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 29 é“ Java é›†åˆæ¡†æ¶é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº› Java å®¹å™¨å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/ptbM0EqlnCWeWm9VdSCDLg)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/SHkQ7LEOT0itt4bXMoDBPw)ã€‚

äº®ç™½ç‰ˆæœ¬æ›´é€‚åˆæ‹¿å‡ºæ¥æ‰“å°ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šå­¦ç”Ÿå…šå–œæ¬¢çš„æ–¹å¼ï¼Œæ‰“å°å‡ºæ¥èƒŒè¯µçš„æ•ˆç‡ä¼šæ›´é«˜ã€‚


![é¢æ¸£é€†è¢­é›†åˆæ¡†æ¶ç¯‡.pdfç¬¬äºŒç‰ˆ](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108182441.png)

2024 å¹´ 12 æœˆ 30 æ—¥å¼€å§‹ç€æ‰‹ç¬¬äºŒç‰ˆæ›´æ–°ã€‚

- å¯¹äºé«˜é¢‘é¢˜ï¼Œä¼šæ ‡æ³¨åœ¨ã€Š[Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)ã€‹ä¸­å‡ºç°çš„ä½ç½®ï¼Œå“ªå®¶å…¬å¸ï¼ŒåŸé¢˜æ˜¯ä»€ä¹ˆï¼›å¦‚æœä½ æƒ³èŠ‚çœæ—¶é—´çš„è¯ï¼Œå¯ä»¥ä¼˜å…ˆèƒŒè¯µè¿™äº›é¢˜ç›®ï¼Œå°½å¿«åšåˆ°çŸ¥å½¼çŸ¥å·±ï¼Œç™¾æˆ˜ä¸æ®†ã€‚
- ç»“åˆé¡¹ç›®ï¼ˆ[æŠ€æœ¯æ´¾](https://javabetter.cn/zhishixingqiu/paicoding.html)ã€[pmhub](https://javabetter.cn/zhishixingqiu/pmhub.html)ï¼‰æ¥ç»„ç»‡è¯­è¨€ï¼Œè®©é¢è¯•å®˜æœ€å¤§ç¨‹åº¦æ„Ÿå—åˆ°ä½ çš„è¯šæ„ï¼Œè€Œä¸æ˜¯æœºæ¢°åŒ–çš„èƒŒè¯µã€‚
- ä¿®å¤ç¬¬ä¸€ç‰ˆä¸­å‡ºç°çš„é—®é¢˜ï¼ŒåŒ…æ‹¬çƒå‹ä»¬çš„ç§ä¿¡åé¦ˆï¼Œç½‘ç«™ç•™è¨€åŒºçš„è¯„è®ºï¼Œä»¥åŠ [GitHub ä»“åº“](https://github.com/itwanger/toBeBetterJavaer/issues)ä¸­çš„ issueï¼Œè®©è¿™ä»½é¢è¯•æŒ‡å—æ›´åŠ å®Œå–„ã€‚
- ä¼˜åŒ–æ’ç‰ˆï¼Œå¢åŠ æ‰‹ç»˜å›¾ï¼Œé‡æ–°ç»„ç»‡ç­”æ¡ˆï¼Œä½¿å…¶æ›´åŠ å£è¯­åŒ–ï¼Œä»è€Œæ›´è´´è¿‘é¢è¯•å®˜çš„é¢„æœŸã€‚

![é¢æ¸£é€†è¢­å·²ç»æäº¤ 1438 æ¬¡ GitHub è®°å½•](https://cdn.tobebetterjavaer.com/stutymore/javase-20241223085158.png)

ç”±äº PDF æ²¡åŠæ³•è‡ªæˆ‘æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦æœ€æ–°ç‰ˆçš„å°ä¼™ä¼´ï¼Œå¯ä»¥å¾®ä¿¡æœã€**æ²‰é»˜ç‹äºŒ**ã€‘ï¼Œæˆ–è€…æ‰«æ/é•¿æŒ‰è¯†åˆ«ä¸‹é¢çš„äºŒç»´ç ï¼Œå…³æ³¨äºŒå“¥çš„å…¬ä¼—å·ï¼Œå›å¤ã€**222**ã€‘å³å¯æ‹‰å–æœ€æ–°ç‰ˆæœ¬ã€‚

<div style="text-align: center; margin: 20px 0;">
    <img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="å¾®ä¿¡æ‰«ç æˆ–è€…é•¿æŒ‰è¯†åˆ«ï¼Œæˆ–è€…å¾®ä¿¡æœç´¢â€œæ²‰é»˜ç‹äºŒâ€" style="max-width: 100%; height: auto;  border-radius: 10px;" />
</div>


å½“ç„¶äº†ï¼Œè¯·å…è®¸æˆ‘çš„ä¸€ç‚¹ç‚¹ç§å¿ƒï¼Œé‚£å°±æ˜¯æ˜Ÿçƒçš„ PDF ç‰ˆæœ¬ä¼šæ¯”å…¬ä¼—å·æ—©ä¸€ä¸ªæœˆæ—¶é—´ï¼Œæ¯•ç«Ÿæ˜Ÿçƒç”¨æˆ·éƒ½ä»˜è´¹è¿‡äº†ï¼Œæˆ‘æœ‰å¿…è¦è®©ä»–ä»¬å…ˆäº«å—åˆ°ä¸€ç‚¹ç‚¹ç¦åˆ©ã€‚ç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½èƒ½ç†è§£ï¼Œæ¯•ç«Ÿåœ¨çº¿ç‰ˆæ˜¯å…è´¹çš„ï¼ŒCDNã€æœåŠ¡å™¨ã€åŸŸåã€OSS ç­‰ç­‰éƒ½æ˜¯éœ€è¦æˆæœ¬çš„ã€‚

æ›´åˆ«è¯´æˆ‘ä»˜å‡ºçš„æ—¶é—´å’Œç²¾åŠ›äº†ï¼Œå¤§å®¶è§‰å¾—æœ‰å¸®åŠ©è¿˜è¯·ç»™ä¸ªå£ç¢‘ï¼Œè®©ä½ èº«è¾¹çš„åŒäº‹ã€åŒå­¦éƒ½èƒ½å—ç›Šåˆ°ã€‚

![å›å¤ 222](https://cdn.tobebetterjavaer.com/stutymore/collection-20250512160410.png)

æˆ‘æŠŠäºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ã€JVM è¿›é˜¶ä¹‹è·¯ã€å¹¶å‘ç¼–ç¨‹è¿›é˜¶ä¹‹è·¯ï¼Œä»¥åŠæ‰€æœ‰é¢æ¸£é€†è¢­çš„ç‰ˆæœ¬éƒ½æ”¾è¿›æ¥äº†ï¼Œæ¶µç›– JavaåŸºç¡€ã€Javaé›†åˆã€Javaå¹¶å‘ã€JVMã€Springã€MyBatisã€è®¡ç®—æœºç½‘ç»œã€æ“ä½œç³»ç»Ÿã€MySQLã€Redisã€RocketMQã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ã€è®¾è®¡æ¨¡å¼ã€Linux ç­‰ 16 ä¸ªå¤§çš„ä¸»é¢˜ï¼Œå…±æœ‰ 40 å¤šä¸‡å­—ï¼Œ2000+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯è¯šæ„æ»¡æ»¡ã€‚

å±•ç¤ºä¸€ä¸‹æš—é»‘ç‰ˆæœ¬çš„ PDF å§ï¼Œæ’ç‰ˆæ¸…æ™°ï¼Œå­—ä½“ä¼˜é›…ï¼Œæ›´åŠ é€‚åˆå¤œæœï¼Œæ™šä¸Šçœ‹ä¼šæ›´èˆ’æœä¸€ç‚¹ã€‚

![é¢æ¸£é€†è¢­é›†åˆæ¡†æ¶ç¯‡.pdfæš—é»‘ç‰ˆ](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108182547.png)

## å¼•è¨€

### 1.è¯´è¯´æœ‰å“ªäº›å¸¸è§çš„é›†åˆæ¡†æ¶ï¼Ÿ

- æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJava é›†åˆæ¡†æ¶](https://javabetter.cn/collection/gailan.html)
- æ¨èé˜…è¯»ï¼š[é˜»å¡é˜Ÿåˆ— BlockingQueue](https://javabetter.cn/thread/BlockingQueue.html)ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJavaé›†åˆä¸»è¦å…³ç³»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/gailan-01.png)

é›†åˆæ¡†æ¶å¯ä»¥åˆ†ä¸ºä¸¤æ¡å¤§çš„æ”¯çº¿ï¼š

â‘ ã€ç¬¬ä¸€æ¡æ”¯çº¿ Collectionï¼Œä¸»è¦ç”± Listã€Setã€Queue ç»„æˆï¼š

- List ä»£è¡¨æœ‰åºã€å¯é‡å¤çš„é›†åˆï¼Œå…¸å‹ä»£è¡¨å°±æ˜¯å°è£…äº†åŠ¨æ€æ•°ç»„çš„ [ArrayList](https://javabetter.cn/collection/arraylist.html) å’Œå°è£…äº†é“¾è¡¨çš„ [LinkedList](https://javabetter.cn/collection/linkedlist.html)ï¼›
- Set ä»£è¡¨æ— åºã€ä¸å¯é‡å¤çš„é›†åˆï¼Œå…¸å‹ä»£è¡¨å°±æ˜¯ HashSet å’Œ TreeSetï¼›
- Queue ä»£è¡¨é˜Ÿåˆ—ï¼Œå…¸å‹ä»£è¡¨å°±æ˜¯åŒç«¯é˜Ÿåˆ— [ArrayDeque](https://javabetter.cn/collection/arraydeque.html)ï¼Œä»¥åŠä¼˜å…ˆçº§é˜Ÿåˆ— [PriorityQueue](https://javabetter.cn/collection/PriorityQueue.html)ã€‚

â‘¡ã€ç¬¬äºŒæ¡æ”¯çº¿ Mapï¼Œä»£è¡¨é”®å€¼å¯¹çš„é›†åˆï¼Œå…¸å‹ä»£è¡¨å°±æ˜¯ [HashMap](https://javabetter.cn/collection/hashmap.html)ã€‚


å¦å¤–ä¸€ä¸ªå›ç­”ç‰ˆæœ¬ï¼š

â‘ ã€Collection æ¥å£ï¼šæœ€åŸºæœ¬çš„é›†åˆæ¡†æ¶è¡¨ç¤ºæ–¹å¼ï¼Œæä¾›äº†æ·»åŠ ã€åˆ é™¤ã€æ¸…ç©ºç­‰åŸºæœ¬æ“ä½œï¼Œå®ƒä¸»è¦æœ‰ä¸‰ä¸ªå­æ¥å£ï¼š

- `List`ï¼šä¸€ä¸ªæœ‰åºçš„é›†åˆï¼Œå¯ä»¥åŒ…å«é‡å¤çš„å…ƒç´ ã€‚å®ç°ç±»åŒ…æ‹¬ ArrayListã€LinkedList ç­‰ã€‚
- `Set`ï¼šä¸€ä¸ªä¸åŒ…å«é‡å¤å…ƒç´ çš„é›†åˆã€‚å®ç°ç±»åŒ…æ‹¬ HashSetã€LinkedHashSetã€TreeSet ç­‰ã€‚
- `Queue`ï¼šä¸€ä¸ªç”¨äºä¿æŒå…ƒç´ é˜Ÿåˆ—çš„é›†åˆã€‚å®ç°ç±»åŒ…æ‹¬ PriorityQueueã€ArrayDeque ç­‰ã€‚

â‘¡ã€`Map` æ¥å£ï¼šè¡¨ç¤ºé”®å€¼å¯¹çš„é›†åˆï¼Œä¸€ä¸ªé”®æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚é”®ä¸èƒ½é‡å¤ï¼Œæ¯ä¸ªé”®åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼ã€‚Map æ¥å£çš„å®ç°ç±»åŒ…æ‹¬ HashMapã€LinkedHashMapã€TreeMap ç­‰ã€‚

#### é›†åˆæ¡†æ¶æœ‰å“ªå‡ ä¸ªå¸¸ç”¨å·¥å…·ç±»ï¼Ÿ

é›†åˆæ¡†æ¶ä½äº java.util åŒ…ä¸‹ï¼Œæä¾›äº†ä¸¤ä¸ªå¸¸ç”¨çš„å·¥å…·ç±»ï¼š

- [Collections](https://javabetter.cn/common-tool/collections.html)ï¼šæä¾›äº†ä¸€äº›å¯¹é›†åˆè¿›è¡Œæ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€åŒæ­¥çš„é™æ€æ–¹æ³•ã€‚
- [Arrays](https://javabetter.cn/common-tool/arrays.html)ï¼šæä¾›äº†ä¸€äº›å¯¹æ•°ç»„è¿›è¡Œæ’åºã€æ‰“å°ã€å’Œ List è¿›è¡Œè½¬æ¢çš„é™æ€æ–¹æ³•ã€‚

#### ç®€å•ä»‹ç»ä¸€ä¸‹é˜Ÿåˆ—

Java ä¸­çš„é˜Ÿåˆ—ä¸»è¦é€šè¿‡ Queue æ¥å£å’Œå¹¶å‘åŒ…ä¸‹çš„ BlockingQueue ä¸¤ä¸ªæ¥å£æ¥å®ç°ã€‚

ä¼˜å…ˆçº§é˜Ÿåˆ— PriorityQueue å®ç°äº† Queue æ¥å£ï¼Œæ˜¯ä¸€ä¸ªæ— ç•Œé˜Ÿåˆ—ï¼Œå®ƒçš„å…ƒç´ æŒ‰ç…§è‡ªç„¶é¡ºåºæ’åºæˆ–è€… Comparator æ¯”è¾ƒå™¨è¿›è¡Œæ’åºã€‚

![æè±ªï¼šä¼˜å…ˆçº§é˜Ÿåˆ—](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/PriorityQueue-8dca2f55-a7c7-49e1-95a5-df1a34f2aef5.png)

åŒç«¯é˜Ÿåˆ— ArrayDeque ä¹Ÿå®ç°äº† Queue æ¥å£ï¼Œæ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„çš„ï¼Œå¯ä»¥åœ¨ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„é˜Ÿåˆ—ã€‚

![æè±ªï¼šåŒç«¯é˜Ÿåˆ—](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/arraydeque-1e7086a3-3d31-4553-aa16-5eaf2193649e.png)

LinkedList å®ç°äº† Queue æ¥å£çš„å­ç±» Dequeï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å½“åšåŒç«¯é˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/list-war-2-02.png)

#### ç”¨è¿‡å“ªäº›é›†åˆç±»ï¼Œå®ƒä»¬çš„ä¼˜åŠ£ï¼Ÿ

æˆ‘å¸¸ç”¨çš„é›†åˆç±»æœ‰ ArrayListã€LinkedListã€HashMapã€LinkedHashMapã€‚

1. ArrayList å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶åŠ¨æ€æ‰©å®¹æ•°ç»„çš„å®¹é‡ï¼Œåªä¸è¿‡éœ€è¦å¤åˆ¶å…ƒç´ åˆ°æ–°çš„æ•°ç»„ã€‚ä¼˜ç‚¹æ˜¯è®¿é—®é€Ÿåº¦å¿«ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥æŸ¥æ‰¾åˆ°å…ƒç´ ã€‚ç¼ºç‚¹æ˜¯æ’å…¥å’Œåˆ é™¤å…ƒç´ å¯èƒ½éœ€è¦ç§»åŠ¨æˆ–è€…å¤åˆ¶å…ƒç´ ã€‚

2. LinkedList æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œé€‚åˆé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ä¼˜ç‚¹æ˜¯æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶å€™åªéœ€è¦æ”¹å˜èŠ‚ç‚¹çš„å‰åæŒ‡é’ˆï¼Œç¼ºç‚¹æ˜¯è®¿é—®å…ƒç´ æ—¶éœ€è¦éå†é“¾è¡¨ã€‚

3. HashMap æ˜¯ä¸€ä¸ªåŸºäºå“ˆå¸Œè¡¨çš„é”®å€¼å¯¹é›†åˆã€‚ä¼˜ç‚¹æ˜¯å¯ä»¥æ ¹æ®é”®çš„å“ˆå¸Œå€¼å¿«é€ŸæŸ¥æ‰¾åˆ°å€¼ï¼Œä½†æœ‰å¯èƒ½ä¼šå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œå¹¶ä¸”ä¸ä¿ç•™é”®å€¼å¯¹çš„æ’å…¥é¡ºåºã€‚

4. LinkedHashMap åœ¨ HashMap çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ä¿æŒé”®å€¼å¯¹çš„æ’å…¥é¡ºåºã€‚

#### é˜Ÿåˆ—å’Œæ ˆçš„åŒºåˆ«äº†è§£å—ï¼Ÿ

é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO, First-In-First-Outï¼‰çš„æ•°æ®ç»“æ„ï¼Œç¬¬ä¸€ä¸ªåŠ å…¥é˜Ÿåˆ—çš„å…ƒç´ ä¼šæˆä¸ºç¬¬ä¸€ä¸ªè¢«ç§»é™¤çš„å…ƒç´ ã€‚

![ç–¯ç‹‚çš„æŠ€æœ¯å®…ï¼šé˜Ÿåˆ—](https://cdn.tobebetterjavaer.com/stutymore/collection-20240412224341.png)

æ ˆæ˜¯ä¸€ç§åè¿›å…ˆå‡ºï¼ˆLIFO, Last-In-First-Outï¼‰çš„æ•°æ®ç»“æ„ï¼Œæœ€åä¸€ä¸ªåŠ å…¥æ ˆçš„å…ƒç´ ä¼šæˆä¸ºç¬¬ä¸€ä¸ªè¢«ç§»é™¤çš„å…ƒç´ ã€‚

![Wang Weiï¼šæ ˆ](https://cdn.tobebetterjavaer.com/stutymore/collection-20240412224549.png)

#### å“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„å®¹å™¨ï¼Ÿ

åƒ Vectorã€Hashtableã€ConcurrentHashMapã€CopyOnWriteArrayListã€ConcurrentLinkedQueueã€ArrayBlockingQueueã€LinkedBlockingQueue éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

#### Collection ç»§æ‰¿äº†å“ªäº›æ¥å£ï¼Ÿ

Collection ç»§æ‰¿äº† Iterable æ¥å£ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰å®ç° Collection æ¥å£çš„ç±»éƒ½å¿…é¡»å®ç° `iterator()` æ–¹æ³•ï¼Œä¹‹åå°±å¯ä»¥ä½¿ç”¨å¢å¼ºå‹ for å¾ªç¯éå†é›†åˆä¸­çš„å…ƒç´ äº†ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šCollectionæºç ](https://cdn.tobebetterjavaer.com/stutymore/collection-20240711092853.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šä½ äº†è§£å“ªäº›é›†åˆæ¡†æ¶ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºä¸€é¢åŸé¢˜ï¼šè¯´ä¸‹ Java å®¹å™¨å’Œ HashMap
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æš‘æœŸå®ä¹ åŒå­¦ E ä¸€é¢é¢è¯•åŸé¢˜ï¼šä½ äº†è§£å“ªäº›é›†åˆï¼Ÿ
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šçŸ¥é“å“ªäº›é›†åˆï¼Œè®²è®² HashMap å’Œ TreeMap çš„åŒºåˆ«ï¼Œè®²è®²ä¸¤è€…åº”ç”¨åœºæ™¯çš„åŒºåˆ«ï¼›è®²ä¸€ä¸‹æœ‰å“ªäº›é˜Ÿåˆ—ï¼Œé˜»å¡é˜Ÿåˆ—çš„é˜»å¡æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ
> 5. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å†œä¸šé“¶è¡Œé¢ç»åŒå­¦ 7 Java åç«¯é¢è¯•åŸé¢˜ï¼šç”¨è¿‡å“ªäº›é›†åˆç±»ï¼Œå®ƒä»¬çš„ä¼˜åŠ£
> 6. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸º OD é¢ç»åŒå­¦ 1 ä¸€é¢é¢è¯•åŸé¢˜ï¼šé˜Ÿåˆ—å’Œæ ˆçš„åŒºåˆ«äº†è§£å—?
> 7. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å†œä¸šé“¶è¡ŒåŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šé˜»å¡é˜Ÿåˆ—çš„å®ç°æ–¹å¼
> 8. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šJava å®¹å™¨æœ‰å“ªäº›ï¼ŸListã€Set è¿˜æœ‰ Map çš„åŒºåˆ«ï¼Ÿ
> 9. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šjava æœ‰å“ªäº›é›†åˆ
> 10. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 11 é¢è¯•åŸé¢˜ï¼šjava ä¸­çš„é›†åˆç±»å‹ï¼Ÿå“ªäº›æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ
> 11. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šJava é›†åˆæœ‰å“ªäº›ï¼Ÿ
> 12. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šé›†åˆå®¹å™¨èƒ½åˆ—ä¸¾å‡ ä¸ªå—?
> 13. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šjavaçš„é›†åˆä»‹ç»ä¸€ä¸‹
> 14. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šä»‹ç»Javaçš„é›†åˆæ¡†æ¶
> 15. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„vivo é¢ç»åŒå­¦ 10 æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šJavaä¸­çš„é›†åˆæœ‰å“ªäº›

## List

### 2.ArrayList å’Œ LinkedList æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šArrayList å’Œ LinkedList](https://javabetter.cn/collection/list-war-2.html)

ArrayList æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼ŒLinkedList æ˜¯åŸºäºé“¾è¡¨å®ç°çš„ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šArrayListå’ŒLinkedListçš„æ•°æ®ç»“æ„](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-2.png)

#### ArrayList å’Œ LinkedList çš„ç”¨é€”æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

å¤šæ•°æƒ…å†µä¸‹ï¼ŒArrayList æ›´åˆ©äºæŸ¥æ‰¾ï¼ŒLinkedList æ›´åˆ©äºå¢åˆ ã€‚

â‘ ã€ç”±äº ArrayList æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ‰€ä»¥ `get(int index)` å¯ä»¥ç›´æ¥é€šè¿‡æ•°ç»„ä¸‹æ ‡è·å–ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼›LinkedList æ˜¯åŸºäºé“¾è¡¨å®ç°çš„ï¼Œ`get(int index)` éœ€è¦éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚

å½“ç„¶ï¼Œ`get(E element)` è¿™ç§æŸ¥æ‰¾ï¼Œä¸¤ç§é›†åˆéƒ½éœ€è¦éå†é€šè¿‡ equals æ¯”è¾ƒè·å–å…ƒç´ ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(n)ã€‚

â‘¡ã€ArrayList å¦‚æœå¢åˆ çš„æ˜¯æ•°ç»„çš„å°¾éƒ¨ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼›å¦‚æœ add çš„æ—¶å€™æ¶‰åŠåˆ°æ‰©å®¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šä¸Šå‡åˆ° O(n)ã€‚

ä½†å¦‚æœæ’å…¥çš„æ˜¯ä¸­é—´çš„ä½ç½®ï¼Œå°±éœ€è¦æŠŠæ’å…¥ä½ç½®åçš„å…ƒç´ å‘å‰æˆ–è€…å‘åç§»åŠ¨ï¼Œç”šè‡³è¿˜æœ‰å¯èƒ½è§¦å‘æ‰©å®¹ï¼Œæ•ˆç‡å°±ä¼šä½å¾ˆå¤šï¼Œå˜æˆ O(n)ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šArrayListå’ŒLinkedListä¸­é—´æ’å…¥](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-3.png)

LinkedList å› ä¸ºæ˜¯é“¾è¡¨ç»“æ„ï¼Œæ’å…¥å’Œåˆ é™¤åªéœ€è¦æ”¹å˜å‰ç½®èŠ‚ç‚¹ã€åç½®èŠ‚ç‚¹å’Œæ’å…¥èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå› æ­¤ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ã€‚

å¦‚æœæ˜¯åœ¨é“¾è¡¨çš„å¤´éƒ¨æ’å…¥æˆ–è€…åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼›å¦‚æœæ˜¯åœ¨é“¾è¡¨çš„ä¸­é—´æ’å…¥æˆ–è€…åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå› ä¸ºéœ€è¦éå†é“¾è¡¨æ‰¾åˆ°æ’å…¥ä½ç½®ï¼›å¦‚æœæ˜¯åœ¨é“¾è¡¨çš„å°¾éƒ¨æ’å…¥æˆ–è€…åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚


![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šArrayListå’ŒLinkedListä¸­é—´åˆ é™¤](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-4.png)

#### ArrayList å’Œ LinkedList æ˜¯å¦æ”¯æŒéšæœºè®¿é—®ï¼Ÿ

â‘ ã€ArrayList æ˜¯åŸºäºæ•°ç»„çš„ï¼Œä¹Ÿå®ç°äº† RandomAccess æ¥å£ï¼Œæ‰€ä»¥å®ƒæ”¯æŒéšæœºè®¿é—®ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡ç›´æ¥è·å–å…ƒç´ ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šArrayList](https://cdn.tobebetterjavaer.com/stutymore/collection-20240319092907.png)

â‘¡ã€LinkedList æ˜¯åŸºäºé“¾è¡¨çš„ï¼Œæ‰€ä»¥å®ƒæ²¡æ³•æ ¹æ®ä¸‹æ ‡ç›´æ¥è·å–å…ƒç´ ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šLinkedList](https://cdn.tobebetterjavaer.com/stutymore/collection-20240319093038.png)

#### ArrayList å’Œ LinkedList å†…å­˜å ç”¨æœ‰ä½•ä¸åŒï¼Ÿ

ArrayList æ˜¯åŸºäºæ•°ç»„çš„ï¼Œæ˜¯ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥å®ƒçš„å†…å­˜å ç”¨æ˜¯æ¯”è¾ƒç´§å‡‘çš„ï¼›ä½†å¦‚æœæ¶‰åŠåˆ°æ‰©å®¹ï¼Œå°±ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œç©ºé—´æ˜¯åŸæ¥çš„ 1.5 å€ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šArrayListçš„æ‰©å®¹](https://cdn.tobebetterjavaer.com/stutymore/collection-20240319093453.png)

LinkedList æ˜¯åŸºäºé“¾è¡¨çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å’Œä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œäºæ˜¯æ¯ä¸ªèŠ‚ç‚¹å ç”¨çš„å†…å­˜ç©ºé—´æ¯” ArrayList ç¨å¾®å¤§ä¸€ç‚¹ã€‚

#### ArrayList å’Œ LinkedList çš„ä½¿ç”¨åœºæ™¯æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

ArrayList é€‚ç”¨äºï¼š

- éšæœºè®¿é—®é¢‘ç¹ï¼šéœ€è¦é¢‘ç¹é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ çš„åœºæ™¯ã€‚
- è¯»å–æ“ä½œè¿œå¤šäºå†™å…¥æ“ä½œï¼šå¦‚å­˜å‚¨ä¸ç»å¸¸æ”¹å˜çš„åˆ—è¡¨ã€‚
- æœ«å°¾æ·»åŠ å…ƒç´ ï¼šéœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´ çš„åœºæ™¯ã€‚

LinkedList é€‚ç”¨äºï¼š

- é¢‘ç¹æ’å…¥å’Œåˆ é™¤ï¼šåœ¨åˆ—è¡¨ä¸­é—´é¢‘ç¹æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„åœºæ™¯ã€‚
- ä¸éœ€è¦å¿«é€Ÿéšæœºè®¿é—®ï¼šé¡ºåºè®¿é—®å¤šäºéšæœºè®¿é—®çš„åœºæ™¯ã€‚
- é˜Ÿåˆ—å’Œæ ˆï¼šç”±äºå…¶åŒå‘é“¾è¡¨çš„ç‰¹æ€§ï¼ŒLinkedList å¯ä»¥å®ç°é˜Ÿåˆ—ï¼ˆFIFOï¼‰å’Œæ ˆï¼ˆLIFOï¼‰ã€‚

#### é“¾è¡¨å’Œæ•°ç»„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

- æ•°ç»„åœ¨å†…å­˜ä¸­å ç”¨çš„æ˜¯ä¸€å—è¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„ä¸‹æ ‡å¿«é€Ÿè®¿é—®ä»»æ„å…ƒç´ ã€‚æ•°ç»„åœ¨åˆ›å»ºæ—¶å¿…é¡»æŒ‡å®šå¤§å°ï¼Œä¸€æ—¦åˆ†é…å†…å­˜ï¼Œæ•°ç»„çš„å¤§å°å°±å›ºå®šäº†ã€‚
- é“¾è¡¨çš„å…ƒç´ å­˜å‚¨åœ¨äºå†…å­˜ä¸­çš„ä»»æ„ä½ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚

![æ•°ç»„å’Œé“¾è¡¨çš„å†…å­˜å ç”¨åŒºåˆ«](https://cdn.tobebetterjavaer.com/stutymore/collection-20241011102136.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šArrayList å’Œ LinkedList çš„æ—¶é—´å¤æ‚åº¦
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æš‘æœŸå®ä¹ åŒå­¦ E ä¸€é¢é¢è¯•åŸé¢˜ï¼šä½ äº†è§£å“ªäº›é›†åˆï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³é¢ç»åŒå­¦ F é¢è¯•åŸé¢˜ï¼šArrayListå’ŒLinkedListçš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šæ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«
> 5. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šArrayListå’ŒLinkedListåŒºåˆ«
> 6. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 9 é¢è¯•é¢˜ç›®åŸé¢˜ï¼šé›†åˆé‡Œé¢çš„arraylistå’Œlinkedlistçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä½•ä¼˜ç¼ºç‚¹ï¼Ÿ

### 3.ArrayList çš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿ

äº†è§£ã€‚å½“å¾€ ArrayList ä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœå½“å‰å®¹é‡+1 è¶…è¿‡æ•°ç»„é•¿åº¦ï¼Œå°±ä¼šè¿›è¡Œæ‰©å®¹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šArrayListæ‰©å®¹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-5.png)

æ‰©å®¹åçš„æ–°æ•°ç»„é•¿åº¦æ˜¯åŸæ¥çš„ 1.5 å€ï¼Œç„¶åå†æŠŠåŸæ•°ç»„çš„å€¼æ‹·è´åˆ°æ–°æ•°ç»„ä¸­ã€‚

```java
private void grow(int minCapacity) {
    // overflow-conscious code
    int oldCapacity = elementData.length;
    int newCapacity = oldCapacity + (oldCapacity >> 1);
    if (newCapacity - minCapacity < 0)
        newCapacity = minCapacity;
    if (newCapacity - MAX_ARRAY_SIZE > 0)
        newCapacity = hugeCapacity(minCapacity);
    // minCapacity is usually close to size, so this is a win:
    elementData = Arrays.copyOf(elementData, newCapacity);
}
```



> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è”æƒ³é¢ç»åŒå­¦ 7 é¢è¯•åŸé¢˜ï¼šJava é›†åˆç±»ä»‹ç»ï¼ŒæŒ‘ä¸€ä¸ªè®²åŸç†ã€‚


### 4.ArrayList æ€ä¹ˆåºåˆ—åŒ–çš„çŸ¥é“å—ï¼Ÿ 

åœ¨ ArrayList ä¸­ï¼ŒwriteObject æ–¹æ³•è¢«é‡å†™äº†ï¼Œç”¨äºè‡ªå®šä¹‰åºåˆ—åŒ–é€»è¾‘ï¼šåªåºåˆ—åŒ–æœ‰æ•ˆæ•°æ®ï¼Œå› ä¸º elementData æ•°ç»„çš„å®¹é‡ä¸€èˆ¬å¤§äºå®é™…çš„å…ƒç´ æ•°é‡ï¼Œå£°æ˜çš„æ—¶å€™ä¹ŸåŠ äº† transient å…³é”®å­—ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šelementData](https://cdn.tobebetterjavaer.com/stutymore/collection-20250106155608.png)

#### ä¸ºä»€ä¹ˆ ArrayList ä¸ç›´æ¥åºåˆ—åŒ–å…ƒç´ æ•°ç»„å‘¢ï¼Ÿ

å‡ºäºæ•ˆç‡çš„è€ƒè™‘ï¼Œæ•°ç»„å¯èƒ½é•¿åº¦ 100ï¼Œä½†å®é™…åªç”¨äº† 50ï¼Œå‰©ä¸‹çš„ 50 æ²¡ç”¨åˆ°ï¼Œä¹Ÿå°±ä¸éœ€è¦åºåˆ—åŒ–ã€‚

```java
private void writeObject(java.io.ObjectOutputStream s)
    throws java.io.IOException {
    // å°†å½“å‰ ArrayList çš„ç»“æ„è¿›è¡Œåºåˆ—åŒ–
    int expectedModCount = modCount;
    s.defaultWriteObject(); // åºåˆ—åŒ–é transient å­—æ®µ
    // åºåˆ—åŒ–æ•°ç»„çš„å¤§å°
    s.writeInt(size);
    // åºåˆ—åŒ–æ¯ä¸ªå…ƒç´ 
    for (int i = 0; i < size; i++) {
        s.writeObject(elementData[i]);
    }
    // æ£€æŸ¥æ˜¯å¦åœ¨åºåˆ—åŒ–æœŸé—´å‘ç”Ÿäº†å¹¶å‘ä¿®æ”¹
    if (modCount != expectedModCount) {
        throw new ConcurrentModificationException();
    }
}
```

### 5.å¿«é€Ÿå¤±è´¥fail-fastäº†è§£å—ï¼Ÿ

failâ€”fast æ˜¯ Java é›†åˆçš„ä¸€ç§é”™è¯¯æ£€æµ‹æœºåˆ¶ã€‚

åœ¨ç”¨è¿­ä»£å™¨éå†é›†åˆå¯¹è±¡æ—¶ï¼Œå¦‚æœçº¿ç¨‹ A éå†è¿‡ç¨‹ä¸­ï¼Œçº¿ç¨‹ B å¯¹é›†åˆå¯¹è±¡çš„å†…å®¹è¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šæŠ›å‡º Concurrent Modification Exceptionã€‚

è¿­ä»£å™¨åœ¨éå†æ—¶ç›´æ¥è®¿é—®é›†åˆä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”åœ¨éå†è¿‡ç¨‹ä¸­ä½¿ç”¨ä¸€ä¸ª `modCount` å˜é‡ã€‚é›†åˆåœ¨è¢«éå†æœŸé—´å¦‚æœå†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ”¹å˜`modCount`çš„å€¼ã€‚æ¯å½“è¿­ä»£å™¨ä½¿ç”¨ `hashNext()/next()`éå†ä¸‹ä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œéƒ½ä¼šæ£€æµ‹ modCount å˜é‡æ˜¯å¦ä¸º expectedmodCount å€¼ï¼Œæ˜¯çš„è¯å°±è¿”å›éå†ï¼›å¦åˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œç»ˆæ­¢éå†ã€‚

å¼‚å¸¸çš„æŠ›å‡ºæ¡ä»¶æ˜¯æ£€æµ‹åˆ° `modCountï¼=expectedmodCount` è¿™ä¸ªæ¡ä»¶ã€‚å¦‚æœé›†åˆå‘ç”Ÿå˜åŒ–æ—¶ä¿®æ”¹ modCount å€¼åˆšå¥½åˆè®¾ç½®ä¸ºäº† expectedmodCount å€¼ï¼Œåˆ™å¼‚å¸¸ä¸ä¼šæŠ›å‡ºã€‚å› æ­¤ï¼Œä¸èƒ½ä¾èµ–äºè¿™ä¸ªå¼‚å¸¸æ˜¯å¦æŠ›å‡ºè€Œè¿›è¡Œå¹¶å‘æ“ä½œçš„ç¼–ç¨‹ï¼Œè¿™ä¸ªå¼‚å¸¸åªå»ºè®®ç”¨äºæ£€æµ‹å¹¶å‘ä¿®æ”¹çš„ bugã€‚

java.util åŒ…ä¸‹çš„é›†åˆç±»éƒ½æ˜¯å¿«é€Ÿå¤±è´¥çš„ï¼Œä¸èƒ½åœ¨å¤šçº¿ç¨‹ä¸‹å‘ç”Ÿå¹¶å‘ä¿®æ”¹ï¼ˆè¿­ä»£è¿‡ç¨‹ä¸­è¢«ä¿®æ”¹ï¼‰ï¼Œæ¯”å¦‚ ArrayList ç±»ã€‚

#### ä»€ä¹ˆæ˜¯å®‰å…¨å¤±è´¥ï¼ˆfailâ€”safeï¼‰å‘¢ï¼Ÿ

é‡‡ç”¨å®‰å…¨å¤±è´¥æœºåˆ¶çš„é›†åˆå®¹å™¨ï¼Œåœ¨éå†æ—¶ä¸æ˜¯ç›´æ¥åœ¨é›†åˆå†…å®¹ä¸Šè®¿é—®çš„ï¼Œè€Œæ˜¯å…ˆå¤åˆ¶åŸæœ‰é›†åˆå†…å®¹ï¼Œåœ¨æ‹·è´çš„é›†åˆä¸Šè¿›è¡Œéå†ã€‚

åŸç†ï¼šç”±äºè¿­ä»£æ—¶æ˜¯å¯¹åŸé›†åˆçš„æ‹·è´è¿›è¡Œéå†ï¼Œæ‰€ä»¥åœ¨éå†è¿‡ç¨‹ä¸­å¯¹åŸé›†åˆæ‰€ä½œçš„ä¿®æ”¹å¹¶ä¸èƒ½è¢«è¿­ä»£å™¨æ£€æµ‹åˆ°ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘ Concurrent Modification Exceptionã€‚

ç¼ºç‚¹ï¼šåŸºäºæ‹·è´å†…å®¹çš„ä¼˜ç‚¹æ˜¯é¿å…äº† Concurrent Modification Exceptionï¼Œä½†åŒæ ·åœ°ï¼Œè¿­ä»£å™¨å¹¶ä¸èƒ½è®¿é—®åˆ°ä¿®æ”¹åçš„å†…å®¹ï¼Œå³ï¼šè¿­ä»£å™¨éå†çš„æ˜¯å¼€å§‹éå†é‚£ä¸€åˆ»æ‹¿åˆ°çš„é›†åˆæ‹·è´ï¼Œåœ¨éå†æœŸé—´åŸé›†åˆå‘ç”Ÿçš„ä¿®æ”¹è¿­ä»£å™¨æ˜¯ä¸çŸ¥é“çš„ã€‚

åœºæ™¯ï¼šjava.util.concurrent åŒ…ä¸‹çš„å®¹å™¨éƒ½æ˜¯å®‰å…¨å¤±è´¥ï¼Œå¯ä»¥åœ¨å¤šçº¿ç¨‹ä¸‹å¹¶å‘ä½¿ç”¨ï¼Œå¹¶å‘ä¿®æ”¹ï¼Œæ¯”å¦‚ CopyOnWriteArrayList ç±»ã€‚

### 6.æœ‰å“ªå‡ ç§å®ç° ArrayList çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•ï¼Ÿ

å¸¸ç”¨çš„æœ‰ä¸¤ç§ã€‚

å¯ä»¥ä½¿ç”¨ `Collections.synchronizedList()` æ–¹æ³•ï¼Œå®ƒå¯ä»¥è¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ Listã€‚

```java
SynchronizedList list = Collections.synchronizedList(new ArrayList());
```

å†…éƒ¨æ˜¯é€šè¿‡ [synchronized å…³é”®å­—](https://javabetter.cn/thread/synchronized-1.html)åŠ é”æ¥å®ç°çš„ã€‚

ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ [CopyOnWriteArrayList](https://javabetter.cn/thread/CopyOnWriteArrayList.html)ï¼Œå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ ArrayListï¼Œéµå¾ªå†™æ—¶å¤åˆ¶çš„åŸåˆ™ï¼Œæ¯å½“å¯¹åˆ—è¡¨è¿›è¡Œä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‰¯æœ¬ï¼Œè¿™ä¸ªæ–°å‰¯æœ¬ä¼šæ›¿æ¢æ—§çš„åˆ—è¡¨ï¼Œè€Œå¯¹æ—§åˆ—è¡¨çš„æ‰€æœ‰è¯»å–æ“ä½œä»ç„¶åœ¨åŸæœ‰çš„åˆ—è¡¨ä¸Šè¿›è¡Œã€‚

```java
CopyOnWriteArrayList list = new CopyOnWriteArrayList();
```

é€šä¿—çš„è®²ï¼ŒCopyOnWrite å°±æ˜¯å½“æˆ‘ä»¬å¾€ä¸€ä¸ªå®¹å™¨æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œä¸ç›´æ¥å¾€å®¹å™¨ä¸­æ·»åŠ ï¼Œè€Œæ˜¯å…ˆå¤åˆ¶å‡ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œç„¶ååœ¨æ–°çš„å®¹å™¨é‡Œæ·»åŠ å…ƒç´ ï¼Œæ·»åŠ å®Œä¹‹åï¼Œå†å°†åŸå®¹å™¨çš„å¼•ç”¨æŒ‡å‘æ–°çš„å®¹å™¨ã€‚å¤šä¸ªçº¿ç¨‹åœ¨è¯»çš„æ—¶å€™ï¼Œä¸éœ€è¦åŠ é”ï¼Œå› ä¸ºå½“å‰å®¹å™¨ä¸ä¼šæ·»åŠ ä»»ä½•å…ƒç´ ã€‚è¿™æ ·å°±å®ç°äº†çº¿ç¨‹å®‰å…¨ã€‚

#### ArrayList å’Œ Vector çš„åŒºåˆ«ï¼Ÿ

Vector å±äº JDK 1.0 æ—¶æœŸçš„é—ç•™ç±»ï¼Œä¸æ¨èä½¿ç”¨ï¼Œä»ç„¶ä¿ç•™ç€æ˜¯å› ä¸º Java å¸Œæœ›å‘åå…¼å®¹ã€‚

ArrayList æ˜¯åœ¨ JDK 1.2 æ—¶å¼•å…¥çš„ï¼Œç”¨äºæ›¿ä»£ Vector ä½œä¸ºä¸»è¦çš„éåŒæ­¥åŠ¨æ€æ•°ç»„å®ç°ã€‚å› ä¸º Vector æ‰€æœ‰çš„æ–¹æ³•éƒ½ä½¿ç”¨äº† synchronized å…³é”®å­—è¿›è¡ŒåŒæ­¥ï¼Œæ‰€ä»¥å•çº¿ç¨‹ç¯å¢ƒä¸‹æ•ˆç‡è¾ƒä½ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šVectoræºç ](https://cdn.tobebetterjavaer.com/stutymore/collection-20240619110254.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆå˜æˆçº¿ç¨‹å®‰å…¨çš„æ–¹æ³•ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ æ¯”äºšè¿ªé¢ç»åŒå­¦2é¢è¯•åŸé¢˜ï¼šArrayList å’Œ vector çš„åŒºåˆ«

### 7.CopyOnWriteArrayList äº†è§£å¤šå°‘ï¼Ÿ

CopyOnWriteArrayList å°±æ˜¯çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬çš„ ArrayListã€‚

`CopyOnWrite`â€”â€”å†™æ—¶å¤åˆ¶ï¼Œå·²ç»æ˜ç¤ºäº†å®ƒçš„åŸç†ã€‚

CopyOnWriteArrayList é‡‡ç”¨äº†ä¸€ç§è¯»å†™åˆ†ç¦»çš„å¹¶å‘ç­–ç•¥ã€‚CopyOnWriteArrayList å®¹å™¨å…è®¸å¹¶å‘è¯»ï¼Œè¯»æ“ä½œæ˜¯æ— é”çš„ã€‚è‡³äºå†™æ“ä½œï¼Œæ¯”å¦‚è¯´å‘å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œé¦–å…ˆå°†å½“å‰å®¹å™¨å¤åˆ¶ä¸€ä»½ï¼Œç„¶ååœ¨æ–°å‰¯æœ¬ä¸Šæ‰§è¡Œå†™æ“ä½œï¼Œç»“æŸä¹‹åå†å°†åŸå®¹å™¨çš„å¼•ç”¨æŒ‡å‘æ–°å®¹å™¨ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šCopyOnWriteArrayListåŸç†](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-7.png)

<MZNXQRcodeBanner />

## Map

Map ä¸­æœ€é‡è¦çš„å°±æ˜¯ HashMap äº†ï¼Œé¢è¯•åŸºæœ¬è¢«é—®å‡ºåŒ…æµ†äº†ï¼Œä¸€å®šè¦å¥½å¥½å‡†å¤‡ã€‚

### 8.èƒ½è¯´ä¸€ä¸‹ HashMap çš„åº•å±‚æ•°æ®ç»“æ„å—ï¼Ÿ

æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šè¯¦è§£ HashMap](https://javabetter.cn/collection/hashmap.html)

JDK 8 ä¸­ HashMap çš„æ•°æ®ç»“æ„æ˜¯`æ•°ç»„`+`é“¾è¡¨`+`çº¢é»‘æ ‘`ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJDK 8 HashMap æ•°æ®ç»“æ„ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-8.png)

æ•°ç»„ç”¨æ¥å­˜å‚¨é”®å€¼å¯¹ï¼Œæ¯ä¸ªé”®å€¼å¯¹å¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥æ‹¿åˆ°ï¼Œç´¢å¼•æ˜¯é€šè¿‡å¯¹é”®çš„å“ˆå¸Œå€¼è¿›è¡Œè¿›ä¸€æ­¥çš„ `hash()` å¤„ç†å¾—åˆ°çš„ã€‚

å½“å¤šä¸ªé”®ç»è¿‡å“ˆå¸Œå¤„ç†åå¾—åˆ°ç›¸åŒçš„ç´¢å¼•æ—¶ï¼Œéœ€è¦é€šè¿‡é“¾è¡¨æ¥è§£å†³å“ˆå¸Œå†²çªâ€”â€”å°†å…·æœ‰ç›¸åŒç´¢å¼•çš„é”®å€¼å¯¹é€šè¿‡é“¾è¡¨å­˜å‚¨èµ·æ¥ã€‚

ä¸è¿‡ï¼Œé“¾è¡¨è¿‡é•¿æ—¶ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¼šæ¯”è¾ƒä½ï¼Œäºæ˜¯å½“é“¾è¡¨çš„é•¿åº¦è¶…è¿‡ 8 æ—¶ï¼ˆä¸”æ•°ç»„çš„é•¿åº¦å¤§äº 64ï¼‰ï¼Œé“¾è¡¨å°±ä¼šè½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘çš„æŸ¥è¯¢æ•ˆç‡æ˜¯ O(logn)ï¼Œæ¯”é“¾è¡¨çš„ O(n) è¦å¿«ã€‚

`hash()` æ–¹æ³•çš„ç›®æ ‡æ˜¯å°½é‡å‡å°‘å“ˆå¸Œå†²çªï¼Œä¿è¯å…ƒç´ èƒ½å¤Ÿå‡åŒ€åœ°åˆ†å¸ƒåœ¨æ•°ç»„çš„æ¯ä¸ªä½ç½®ä¸Šã€‚

```java
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```

å¦‚æœé”®çš„å“ˆå¸Œå€¼å·²ç»åœ¨æ•°ç»„ä¸­å­˜åœ¨ï¼Œå…¶å¯¹åº”çš„å€¼å°†è¢«æ–°å€¼è¦†ç›–ã€‚

HashMap çš„åˆå§‹å®¹é‡æ˜¯ 16ï¼Œéšç€å…ƒç´ çš„ä¸æ–­æ·»åŠ ï¼ŒHashMap å°±éœ€è¦è¿›è¡Œæ‰©å®¹ï¼Œé˜ˆå€¼æ˜¯`capacity * loadFactor`ï¼Œcapacity ä¸ºå®¹é‡ï¼ŒloadFactor ä¸ºè´Ÿè½½å› å­ï¼Œé»˜è®¤ä¸º 0.75ã€‚

æ‰©å®¹åçš„æ•°ç»„å¤§å°æ˜¯åŸæ¥çš„ 2 å€ï¼Œç„¶åæŠŠåŸæ¥çš„å…ƒç´ é‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œæ”¾åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³ 25 å±Šæ—¥å¸¸å®ä¹ ä¸€é¢åŸé¢˜ï¼šè®²ä¸€è®² HashMap çš„åŸç†
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºä¸€é¢åŸé¢˜ï¼šè¯´ä¸‹ Java å®¹å™¨å’Œ HashMap
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºä¸€é¢åŸé¢˜ï¼šè¯´ä¸‹ Redis å’Œ HashMap çš„åŒºåˆ«
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å›½ä¼é¢è¯•åŸé¢˜ï¼šè¯´è¯´ HashMap çš„åº•å±‚æ•°æ®ç»“æ„ï¼Œé“¾è¡¨å’Œçº¢é»‘æ ‘çš„è½¬æ¢ï¼ŒHashMap çš„é•¿åº¦
> 5. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´ä¸€ä¸‹ HashMap æ•°æ®åº“ç»“æ„ å’Œ ä¸€äº›é‡è¦å‚æ•°
> 6. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap çš„åº•å±‚å®ç°ï¼Œå®ƒä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ
> 7. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 1 éƒ¨é—¨ä¸»ç«™æŠ€æœ¯éƒ¨é¢è¯•åŸé¢˜ï¼šHashMap çš„ç»“æ„ï¼Ÿ
> 8. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šhashmap çš„åº•å±‚å®ç°åŸç†ã€put()æ–¹æ³•å®ç°æµç¨‹ã€æ‰©å®¹æœºåˆ¶ï¼Ÿ
> 9. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashmapçš„åº•å±‚ï¼Ÿä¸ºä»€ä¹ˆé“¾è¡¨è¦å˜æˆçº¢é»‘æ ‘ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘ï¼Ÿ

### 9.ä½ å¯¹çº¢é»‘æ ‘äº†è§£å¤šå°‘ï¼Ÿ

çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼š

1. æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯çº¢è‰²ï¼Œè¦ä¹ˆæ˜¯é»‘è‰²ï¼›
2. æ ¹èŠ‚ç‚¹æ°¸è¿œæ˜¯é»‘è‰²ï¼›
3. æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯æ˜¯é»‘è‰²çš„ï¼ˆä¸‹å›¾ä¸­çš„ NULL èŠ‚ç‚¹ï¼‰ï¼›
4. çº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘è‰²çš„ï¼›
5. ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šçº¢é»‘æ ‘](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-9.png)

#### ä¸ºä»€ä¹ˆä¸ç”¨äºŒå‰æ ‘ï¼Ÿ

äºŒå‰æ ‘æ˜¯æœ€åŸºæœ¬çš„æ ‘ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œä½†æ˜¯äºŒå‰æ ‘å®¹æ˜“å‡ºç°æç«¯æƒ…å†µï¼Œæ¯”å¦‚æ’å…¥çš„æ•°æ®æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆäºŒå‰æ ‘å°±ä¼šé€€åŒ–æˆé“¾è¡¨ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šå˜æˆ O(n)ã€‚

#### ä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘ï¼Ÿ

å¹³è¡¡äºŒå‰æ ‘æ¯”çº¢é»‘æ ‘çš„è¦æ±‚æ›´é«˜ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦æœ€å¤šç›¸å·® 1ï¼Œè¿™ç§é«˜åº¦çš„å¹³è¡¡ä¿è¯äº†æä½³çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œä½†åœ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œå¯èƒ½éœ€è¦é¢‘ç¹åœ°è¿›è¡Œæ—‹è½¬æ¥ç»´æŒæ ‘çš„å¹³è¡¡ï¼Œç»´æŠ¤æˆæœ¬æ›´é«˜ã€‚

#### ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Ÿ

é“¾è¡¨çš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n)`ï¼Œå½“é“¾è¡¨é•¿åº¦è¾ƒé•¿æ—¶ï¼ŒæŸ¥æ‰¾æ€§èƒ½ä¼šä¸‹é™ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼ŒæŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ `O(log n)`ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æºç¨‹é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Œé“¾è¡¨è½¬æ•°æ¡ä»¶ï¼Œçº¢é»‘æ ‘æ’å…¥åˆ é™¤è§„åˆ™
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆHashMapé‡‡ç”¨çº¢é»‘æ ‘ï¼Ÿ

### 10.çº¢é»‘æ ‘æ€ä¹ˆä¿æŒå¹³è¡¡çš„ï¼Ÿ

`æ—‹è½¬`å’Œ`æŸ“è‰²`ã€‚

â‘ ã€é€šè¿‡å·¦æ—‹å’Œå³æ—‹æ¥è°ƒæ•´æ ‘çš„ç»“æ„ï¼Œé¿å…æŸä¸€ä¾§è¿‡æ·±ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå·¦æ—‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-10.png)

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå³æ—‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-11.png)

â‘¡ã€æŸ“â¾Šï¼Œä¿®å¤çº¢é»‘è§„åˆ™ï¼Œä»è€Œä¿è¯æ ‘çš„é«˜åº¦ä¸ä¼šå¤±è¡¡ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæŸ“è‰²](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-12.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æºç¨‹é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ï¼Œé“¾è¡¨è½¬æ•°æ¡ä»¶ï¼Œçº¢é»‘æ ‘æ’å…¥åˆ é™¤è§„åˆ™

memoï¼š2025 å¹´ 1 æœˆ 6 æ—¥ä¿®æ”¹åˆ°æ­¤ã€‚

### 11.HashMap çš„ put æµç¨‹çŸ¥é“å—ï¼Ÿ

å“ˆå¸Œå¯»å€ â†’ å¤„ç†å“ˆå¸Œå†²çªï¼ˆé“¾è¡¨è¿˜æ˜¯çº¢é»‘æ ‘ï¼‰â†’ åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹ â†’ æ’å…¥/è¦†ç›–èŠ‚ç‚¹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHashMapæ’å…¥æ•°æ®æµç¨‹å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-13.jpg)

è¯¦ç»†ç‰ˆï¼š

ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡ hash æ–¹æ³•è¿›ä¸€æ­¥æ‰°åŠ¨å“ˆå¸Œå€¼ï¼Œä»¥å‡å°‘å“ˆå¸Œå†²çªã€‚

```java
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```

ç¬¬äºŒæ­¥ï¼Œè¿›è¡Œç¬¬ä¸€æ¬¡çš„æ•°ç»„æ‰©å®¹ï¼›å¹¶ä½¿ç”¨å“ˆå¸Œå€¼å’Œæ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œç¡®å®šç´¢å¼•ä½ç½®ã€‚

```java
if ((tab = table) == null || (n = tab.length) == 0)
    n = (tab = resize()).length;

if ((p = tab[i = (n - 1) & hash]) == null)
    tab[i] = newNode(hash, key, value, null);
```

å¦‚æœå½“å‰ä½ç½®ä¸ºç©ºï¼Œç›´æ¥å°†é”®å€¼å¯¹æ’å…¥è¯¥ä½ç½®ï¼›å¦åˆ™åˆ¤æ–­å½“å‰ä½ç½®çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸æ–°èŠ‚ç‚¹çš„ key ç›¸åŒï¼Œå¦‚æœç›¸åŒç›´æ¥è¦†ç›– valueï¼Œå¦‚æœä¸åŒï¼Œè¯´æ˜å‘ç”Ÿå“ˆå¸Œå†²çªã€‚

å¦‚æœæ˜¯é“¾è¡¨ï¼Œå°†æ–°èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„å°¾éƒ¨ï¼›å¦‚æœé“¾è¡¨é•¿åº¦å¤§äºç­‰äº 8ï¼Œåˆ™å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚

```java
public V put(K key, V value) {
    return putVal(hash(key), key, value, false, true);
}

final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) {
    Node<K,V>[] tab; Node<K,V> p; int n, i;
    // å¦‚æœ table ä¸ºç©ºï¼Œå…ˆè¿›è¡Œåˆå§‹åŒ–
    if ((tab = table) == null || (n = tab.length) == 0)
        n = (tab = resize()).length;
    
    // è®¡ç®—ç´¢å¼•ä½ç½®ï¼Œå¹¶æ‰¾åˆ°å¯¹åº”çš„æ¡¶
    if ((p = tab[i = (n - 1) & hash]) == null)
        tab[i] = newNode(hash, key, value, null); // å¦‚æœæ¡¶ä¸ºç©ºï¼Œç›´æ¥æ’å…¥
    else {
        Node<K,V> e; K k;
        // æ£€æŸ¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦åŒ¹é…
        if (p.hash == hash && ((k = p.key) == key || (key != null && key.equals(k))))
            e = p; // è¦†ç›–
        // å¦‚æœæ˜¯æ ‘èŠ‚ç‚¹ï¼Œæ”¾å…¥æ ‘ä¸­
        else if (p instanceof TreeNode)
            e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);
        // å¦‚æœæ˜¯é“¾è¡¨ï¼Œéå†æ’å…¥åˆ°å°¾éƒ¨
        else {
            for (int binCount = 0; ; ++binCount) {
                if ((e = p.next) == null) {
                    p.next = newNode(hash, key, value, null);
                    // å¦‚æœé“¾è¡¨é•¿åº¦è¾¾åˆ°é˜ˆå€¼ï¼Œè½¬æ¢ä¸ºçº¢é»‘æ ‘
                    if (binCount >= TREEIFY_THRESHOLD - 1)
                        treeifyBin(tab, hash);
                    break;
                }
                if (e.hash == hash && ((k = e.key) == key || (key != null && key.equals(k))))
                    break; // è¦†ç›–
                p = e;
            }
        }
        if (e != null) { // å¦‚æœæ‰¾åˆ°åŒ¹é…çš„ keyï¼Œåˆ™è¦†ç›–æ—§å€¼
            V oldValue = e.value;
            if (!onlyIfAbsent || oldValue == null)
                e.value = value;
            afterNodeAccess(e);
            return oldValue;
        }
    }
    ++modCount; // ä¿®æ”¹è®¡æ•°å™¨
    if (++size > threshold)
        resize(); // æ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹
    afterNodeInsertion(evict);
    return null;
}
```

æ¯æ¬¡æ’å…¥æ–°å…ƒç´ åï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦æ‰©å®¹ï¼Œå¦‚æœå½“å‰å…ƒç´ ä¸ªæ•°å¤§äºé˜ˆå€¼ï¼ˆ`capacity * loadFactor`ï¼‰ï¼Œåˆ™è¿›è¡Œæ‰©å®¹ï¼Œæ‰©å®¹åçš„æ•°ç»„å¤§å°æ˜¯åŸæ¥çš„ 2 å€ï¼›å¹¶ä¸”é‡æ–°è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ç´¢å¼•ï¼Œè¿›è¡Œæ•°æ®é‡æ–°åˆ†å¸ƒã€‚

#### åªé‡å†™å…ƒç´ çš„ equals æ–¹æ³•æ²¡é‡å†™ hashCodeï¼Œput çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆ?

å¦‚æœåªé‡å†™ equals æ–¹æ³•ï¼Œæ²¡æœ‰é‡å†™ hashCode æ–¹æ³•ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ equals ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ï¼ŒhashCode ä¸ç›¸ç­‰ï¼Œè¿™æ ·çš„è¯ï¼Œä¸¤ä¸ªå¯¹è±¡ä¼šè¢« put åˆ°æ•°ç»„ä¸­ä¸åŒçš„ä½ç½®ï¼Œå¯¼è‡´ get çš„æ—¶å€™ï¼Œæ— æ³•è·å–åˆ°æ­£ç¡®çš„å€¼ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šhashcode å’Œ equals æ–¹æ³•åªé‡å†™ä¸€ä¸ªè¡Œä¸è¡Œï¼Œåªé‡å†™ equals æ²¡é‡å†™ hashcodeï¼Œmap put çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 1 éƒ¨é—¨ä¸»ç«™æŠ€æœ¯éƒ¨é¢è¯•åŸé¢˜ï¼šHashMap çš„ put è¿‡ç¨‹
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šhashmap çš„åº•å±‚å®ç°åŸç†ã€put()æ–¹æ³•å®ç°æµç¨‹ã€æ‰©å®¹æœºåˆ¶ï¼Ÿ
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMapå­˜æ”¾å…ƒç´ æµç¨‹

### 12.HashMap æ€ä¹ˆæŸ¥æ‰¾å…ƒç´ çš„å‘¢ï¼Ÿ

é€šè¿‡å“ˆå¸Œå€¼å®šä½ç´¢å¼• â†’ å®šä½æ¡¶ â†’ æ£€æŸ¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ â†’ éå†é“¾è¡¨æˆ–çº¢é»‘æ ‘æŸ¥æ‰¾ â†’ è¿”å›ç»“æœã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHashMapæŸ¥æ‰¾æµç¨‹å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-14.png)

### 13.HashMap çš„ hash å‡½æ•°æ˜¯æ€ä¹ˆè®¾è®¡çš„?

å…ˆæ‹¿åˆ° key çš„å“ˆå¸Œå€¼ï¼Œæ˜¯ä¸€ä¸ª 32 ä½çš„ int ç±»å‹æ•°å€¼ï¼Œç„¶åå†è®©å“ˆå¸Œå€¼çš„é«˜ 16 ä½å’Œä½ 16 ä½è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œè¿™æ ·èƒ½ä¿è¯å“ˆå¸Œåˆ†å¸ƒå‡åŒ€ã€‚

```java
static final int hash(Object key) {
    int h;
    // å¦‚æœ key ä¸º nullï¼Œè¿”å› 0ï¼›å¦åˆ™ï¼Œä½¿ç”¨ hashCode å¹¶è¿›è¡Œæ‰°åŠ¨
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```

### 14.ä¸ºä»€ä¹ˆ hash å‡½æ•°èƒ½å‡å°‘å“ˆå¸Œå†²çªï¼Ÿ

å¿«é€Ÿå›ç­”ï¼šå“ˆå¸Œè¡¨çš„ç´¢å¼•æ˜¯é€šè¿‡ `h & (n-1)` è®¡ç®—çš„ï¼Œn æ˜¯åº•å±‚æ•°ç»„çš„å®¹é‡ï¼›n-1 å’ŒæŸä¸ªå“ˆå¸Œå€¼åš `&` è¿ç®—ï¼Œç›¸å½“äºæˆªå–äº†æœ€ä½çš„å››ä½ã€‚å¦‚æœæ•°ç»„çš„å®¹é‡å¾ˆå°ï¼Œåªå– h çš„ä½ä½å¾ˆå®¹æ˜“å¯¼è‡´å“ˆå¸Œå†²çªã€‚

é€šè¿‡å¼‚æˆ–æ“ä½œå°† h çš„é«˜ä½å¼•å…¥ä½ä½ï¼Œå¯ä»¥å¢åŠ å“ˆå¸Œå€¼çš„éšæœºæ€§ï¼Œä»è€Œå‡å°‘å“ˆå¸Œå†²çªã€‚

è§£é‡Šä¸€ä¸‹ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJDK 8ä¸­çš„ hash å‡½æ•°](https://cdn.tobebetterjavaer.com/stutymore/collection-20240325100934.png)

ä»¥åˆå§‹é•¿åº¦ 16 ä¸ºä¾‹ï¼Œ16-1=15ã€‚2 è¿›åˆ¶è¡¨ç¤ºæ˜¯`0000 0000 0000 0000 0000 0000 0000 1111`ã€‚åªå–æœ€å 4 ä½ç›¸ç­‰äºå“ˆå¸Œå€¼çš„é«˜ä½éƒ½ä¸¢å¼ƒäº†ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå“ˆå¸Œ&è¿ç®—](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-15.png)

æ¯”å¦‚è¯´ 1111 1111 1111 1111 1111 1111 1111 1111ï¼Œå–æœ€å 4 ä½ï¼Œä¹Ÿå°±æ˜¯ 1111ã€‚

1110 1111 1111 1111 1111 1111 1111 1111ï¼Œå–æœ€å 4 ä½ï¼Œä¹Ÿæ˜¯ 1111ã€‚

ä¸å°±å‘ç”Ÿå“ˆå¸Œå†²çªäº†å—ï¼Ÿ

è¿™æ—¶å€™ hash å‡½æ•° `(h = key.hashCode()) ^ (h >>> 16)` å°±æ´¾ä¸Šç”¨åœºäº†ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šhash å‡½æ•°ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-16.jpg)

å°†å“ˆå¸Œå€¼æ— ç¬¦å·å³ç§» 16 ä½ï¼Œæ„å‘³ç€åŸå“ˆå¸Œå€¼çš„é«˜ 16 ä½è¢«ç§»åˆ°äº†ä½ 16 ä½çš„ä½ç½®ã€‚è¿™æ ·ï¼ŒåŸå§‹å“ˆå¸Œå€¼çš„é«˜ 16 ä½å’Œä½ 16 ä½å°±å¯ä»¥å‚ä¸åˆ°æœ€ç»ˆç”¨äºç´¢å¼•è®¡ç®—çš„ä½ä½ä¸­ã€‚

é€‰æ‹© 16 ä½æ˜¯å› ä¸ºå®ƒæ˜¯ 32 ä½æ•´æ•°çš„ä¸€åŠï¼Œè¿™æ ·å¤„ç†æ—¢è€ƒè™‘äº†é«˜ä½çš„ä¿¡æ¯ï¼Œåˆæ²¡æœ‰å®Œå…¨å¿½è§†ä½ä½åŸæœ¬çš„ä¿¡æ¯ï¼Œä»è€Œè¾¾åˆ°äº†ä¸€ç§å¾®å¦™çš„å¹³è¡¡çŠ¶æ€ã€‚

ä¸¾ä¸ªä¾‹å­ï¼ˆæ•°ç»„é•¿åº¦ä¸º 16ï¼‰ã€‚

- ç¬¬ä¸€ä¸ªé”®å€¼å¯¹çš„é”®ï¼šh1 = 0001 0010 0011 0100 0101 0110 0111 1000
- ç¬¬äºŒä¸ªé”®å€¼å¯¹çš„é”®ï¼šh2 = 0001 0010 0011 0101 0101 0110 0111 1000

å¦‚æœæ²¡æœ‰ hash å‡½æ•°ï¼Œç›´æ¥å–ä½ 4 ä½ï¼Œé‚£ä¹ˆ h1 å’Œ h2 çš„ä½ 4 ä½éƒ½æ˜¯ 1000ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªé”®å€¼å¯¹éƒ½ä¼šæ”¾åœ¨æ•°ç»„çš„ç¬¬ 8 ä¸ªä½ç½®ã€‚

æ¥çœ‹ä¸€ä¸‹ hash å‡½æ•°çš„å¤„ç†è¿‡ç¨‹ã€‚

â‘ ã€å¯¹äºç¬¬ä¸€ä¸ªé”®`h1`çš„è®¡ç®—ï¼š

```
åŸå§‹: 0001 0010 0011 0100 0101 0110 0111 1000
å³ç§»: 0000 0000 0000 0000 0001 0010 0011 0100
å¼‚æˆ–: ---------------------------------------
ç»“æœ: 0001 0010 0011 0100 0100 0100 0100 1100
```

â‘¡ã€å¯¹äºç¬¬äºŒä¸ªé”®`h2`çš„è®¡ç®—ï¼š

```
åŸå§‹: 0001 0010 0011 0101 0101 0110 0111 1000
å³ç§»: 0000 0000 0000 0000 0001 0010 0011 0101
å¼‚æˆ–: ---------------------------------------
ç»“æœ: 0001 0010 0011 0101 0100 0100 0100 1101
```

é€šè¿‡ä¸Šè¿°è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°`h1`å’Œ`h2`ç»è¿‡`h ^ (h >>> 16)`æ“ä½œåå¾—åˆ°äº†ä¸åŒçš„ç»“æœã€‚

ç°åœ¨ï¼Œè€ƒè™‘æ•°ç»„é•¿åº¦ä¸º 16 æ—¶ï¼ˆéœ€è¦æœ€ä½ 4 ä½æ¥ç¡®å®šç´¢å¼•ï¼‰ï¼š

- å¯¹äº`h1`çš„æœ€ä½ 4 ä½æ˜¯`1100`ï¼ˆåè¿›åˆ¶ä¸­ä¸º 12ï¼‰
- å¯¹äº`h2`çš„æœ€ä½ 4 ä½æ˜¯`1101`ï¼ˆåè¿›åˆ¶ä¸­ä¸º 13ï¼‰

è¿™æ ·ï¼Œ`h1`å’Œ`h2`å°±ä¼šè¢«åˆ†åˆ«æ”¾åœ¨æ•°ç»„çš„ç¬¬ 12 ä¸ªä½ç½®å’Œç¬¬ 13 ä¸ªä½ç½®ä¸Šï¼Œä»è€Œé¿å…äº†å“ˆå¸Œå†²çªã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ”¯ä»˜å®é¢ç»åŒå­¦ 2 æ˜¥æ‹›æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆè¦ç”¨é«˜ä½åšå¼‚æˆ–è¿ç®—ï¼Ÿä¸ºä»€ä¹ˆéå¾—é«˜ä½ 16 ä½å¼‚æˆ–ï¼Ÿ

### 15.ä¸ºä»€ä¹ˆ HashMap çš„å®¹é‡æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ï¼Ÿ

æ˜¯ä¸ºäº†å¿«é€Ÿå®šä½å…ƒç´ åœ¨åº•å±‚æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚

HashMap æ˜¯é€šè¿‡ `hash & (n-1)` æ¥å®šä½å…ƒç´ ä¸‹æ ‡çš„ï¼Œn ä¸ºæ•°ç»„çš„å¤§å°ï¼Œä¹Ÿå°±æ˜¯ HashMap åº•å±‚æ•°ç»„çš„å®¹é‡ã€‚

æ•°ç»„é•¿åº¦-1 æ­£å¥½ç›¸å½“äºä¸€ä¸ªâ€œä½ä½æ©ç â€â€”â€”æ©ç çš„ä½ä½æœ€å¥½å…¨æ˜¯ 1ï¼Œè¿™æ · & è¿ç®—æ‰æœ‰æ„ä¹‰ï¼Œå¦åˆ™ç»“æœä¸€å®šæ˜¯ 0ã€‚

2 å¹‚æ¬¡æ–¹åˆšå¥½æ˜¯å¶æ•°ï¼Œå¶æ•°-1 æ˜¯å¥‡æ•°ï¼Œå¥‡æ•°çš„äºŒè¿›åˆ¶æœ€åä¸€ä½æ˜¯ 1ï¼Œä¹Ÿå°±ä¿è¯äº† `hash &(length-1)` çš„æœ€åä¸€ä½å¯èƒ½ä¸º 0ï¼Œä¹Ÿå¯èƒ½ä¸º 1ï¼ˆå–å†³äº hash çš„å€¼ï¼‰ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å“ˆå¸Œå€¼çš„å‡åŒ€åˆ†å¸ƒã€‚

æ¢å¥è¯è¯´ï¼Œ& æ“ä½œçš„ç»“æœå°±æ˜¯å°†å“ˆå¸Œå€¼çš„é«˜ä½å…¨éƒ¨å½’é›¶ï¼Œåªä¿ç•™ä½ä½å€¼ã€‚

> a&b çš„ç»“æœæ˜¯ï¼šaã€b ä¸­å¯¹åº”ä½åŒæ—¶ä¸º 1ï¼Œåˆ™ç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ä¾‹å¦‚ 5&3=1ï¼Œ5 çš„äºŒè¿›åˆ¶æ˜¯ 0101ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ5&3=0001=1ã€‚

å‡è®¾æŸå“ˆå¸Œå€¼çš„äºŒè¿›åˆ¶ä¸º `10100101 11000100 00100101`ï¼Œç”¨å®ƒæ¥åš & è¿ç®—ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç»“æœã€‚

å·²çŸ¥ HashMap çš„åˆå§‹é•¿åº¦ä¸º 16ï¼Œ16-1=15ï¼ŒäºŒè¿›åˆ¶æ˜¯ `00000000 00000000 00001111`ï¼ˆé«˜ä½ç”¨ 0 æ¥è¡¥é½ï¼‰ï¼š

```
	 10100101 11000100 00100101
&	 00000000 00000000 00001111
----------------------------------
	 00000000 00000000 00000101
```

å› ä¸º 15 çš„é«˜ä½å…¨éƒ¨æ˜¯ 0ï¼Œæ‰€ä»¥ & è¿ç®—åçš„é«˜ä½ç»“æœè‚¯å®šä¹Ÿæ˜¯ 0ï¼Œåªå‰©ä¸‹ 4 ä¸ªä½ä½ `0101`ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„ 5ã€‚

è¿™æ ·ï¼Œå“ˆå¸Œå€¼ä¸º `10100101 11000100 00100101` çš„é”®å°±ä¼šæ”¾åœ¨æ•°ç»„çš„ç¬¬ 5 ä¸ªä½ç½®ä¸Šã€‚

#### å¯¹æ•°ç»„é•¿åº¦å–æ¨¡å®šä½æ•°ç»„ä¸‹æ ‡ï¼Œè¿™å—æœ‰æ²¡æœ‰ä¼˜åŒ–ç­–ç•¥ï¼Ÿ

å¿«é€Ÿå›ç­”ï¼šHashMap çš„ç­–ç•¥æ˜¯å°†å–æ¨¡è¿ç®— `hash % table.length` ä¼˜åŒ–ä¸ºä½è¿ç®— `hash & (length - 1)`ã€‚

å› ä¸ºå½“æ•°ç»„çš„é•¿åº¦æ˜¯ 2 çš„ N æ¬¡å¹‚æ—¶ï¼Œ`hash & (length - 1) = hash % length`ã€‚

æ¯”å¦‚è¯´ 9 % 4 = 1ï¼Œ9 çš„äºŒè¿›åˆ¶æ˜¯ 1001ï¼Œ4 - 1 = 3ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ9 & 3 = 1001 & 0011 = 0001 = 1ã€‚

å†æ¯”å¦‚è¯´ 10 % 4 = 2ï¼Œ10 çš„äºŒè¿›åˆ¶æ˜¯ 1010ï¼Œ4 - 1 = 3ï¼Œ3 çš„äºŒè¿›åˆ¶æ˜¯ 0011ï¼Œ10 & 3 = 1010 & 0011 = 0010 = 2ã€‚

å½“æ•°ç»„çš„é•¿åº¦ä¸æ˜¯ 2 çš„ n æ¬¡æ–¹æ—¶ï¼Œ`hash % length` å’Œ `hash & (length - 1)` çš„ç»“æœå°±ä¸ä¸€è‡´äº†ã€‚

æ¯”å¦‚è¯´ 7 % 3 = 1ï¼Œ7 çš„äºŒè¿›åˆ¶æ˜¯ 0111ï¼Œ3 - 1 = 2ï¼Œ2 çš„äºŒè¿›åˆ¶æ˜¯ 0010ï¼Œ7 & 2 = 0111 & 0010 = 0010 = 2ã€‚

ä»äºŒè¿›åˆ¶è§’åº¦æ¥çœ‹ï¼Œhash / length = hash / ${2^n}$ = hash >> nï¼Œå³æŠŠ hash å³ç§» n ä½ï¼Œæ­¤æ—¶å¾—åˆ°äº† hash / ${2^n}$ çš„å•†ã€‚

è€Œè¢«ç§»è°ƒçš„éƒ¨åˆ†ï¼Œåˆ™æ˜¯ hash % ${2^n}$ï¼Œä¹Ÿå°±æ˜¯ä½™æ•°ã€‚

${2^n}$ çš„äºŒè¿›åˆ¶å½¢å¼ä¸º 1ï¼Œåé¢è·Ÿç€ n ä¸ª 0ï¼Œé‚£ ${2^n}$ - 1 çš„äºŒè¿›åˆ¶åˆ™æ˜¯ n ä¸ª 1ã€‚ä¾‹å¦‚ 8 = ${2^3}$ï¼ŒäºŒè¿›åˆ¶æ˜¯ 1000ï¼Œ7 = ${2^3}$ - 1ï¼ŒäºŒè¿›åˆ¶ä¸º 0111ã€‚

`hash % length`çš„æ“ä½œæ˜¯æ±‚ hash é™¤ä»¥ ${2^n}$ çš„ä½™æ•°ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œè¿™ä¸ªæ“ä½œçš„ç»“æœå°±æ˜¯ hash çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ n ä½çš„å€¼ã€‚

å› ä¸ºåœ¨ ${2^n}$ å–æ¨¡çš„æ“ä½œä¸­ï¼Œé«˜äº ${2^n}$ è¡¨ç¤ºä½çš„æ‰€æœ‰æ•°å€¼å¯¹ç»“æœæ²¡æœ‰è´¡çŒ®ï¼Œåªæœ‰ä½äºè¿™ä¸ªé˜ˆå€¼çš„éƒ¨åˆ†æ‰å†³å®šä½™æ•°ã€‚

æ¯”å¦‚è¯´ 26 çš„äºŒè¿›åˆ¶æ˜¯ 11010ï¼Œè¦è®¡ç®— 26 % 8ï¼Œ8 æ˜¯ ${2^3}$ï¼Œæ‰€ä»¥æˆ‘ä»¬å…³æ³¨çš„æ˜¯ 26 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€ä½ 3 ä½ï¼š11010 çš„æœ€ä½ 3 ä½æ˜¯ 010ã€‚

010 å¯¹åº”äºåè¿›åˆ¶ä¸­çš„ 2ï¼Œ26 % 8 çš„ç»“æœæ˜¯ 2ã€‚

å½“æ‰§è¡Œ`hash & (length - 1)`æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¿ç•™ hash äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ n ä½ï¼Œå…¶ä»–é«˜ä½éƒ½è¢«æ¸…é›¶ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œhash ä¸º 14ï¼Œn ä¸º 3ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„é•¿åº¦ä¸º ${2^3}$ï¼Œä¹Ÿå°±æ˜¯ 8ã€‚

```
  1110 (hash = 14)
& 0111 (length - 1 = 7)
  ----
  0110 (ç»“æœ = 6)
```

ä¿ç•™ 14 çš„æœ€ä½ 3 ä½ï¼Œé«˜ä½è¢«æ¸…é›¶ã€‚

ä»æ­¤ï¼Œä¸¤ä¸ªè¿ç®— `hash % length` å’Œ `hash & (length - 1)` æœ‰äº†å®Œç¾çš„é—­ç¯ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œä½è¿ç®—çš„é€Ÿåº¦è¦è¿œé«˜äºå–ä½™è¿ç®—ï¼Œå› ä¸ºè®¡ç®—æœºæœ¬è´¨ä¸Šå°±æ˜¯äºŒè¿›åˆ¶å˜›ã€‚

#### è¯´è¯´ä»€ä¹ˆæ˜¯å–æ¨¡è¿ç®—ï¼Ÿ

åœ¨ Java ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ % è¿ç®—ç¬¦æ¥è¡¨ç¤ºå–ä½™ï¼Œç”¨ `Math.floorMod()` æ¥è¡¨ç¤ºå–æ¨¡ã€‚

å½“æ“ä½œæ•°éƒ½æ˜¯æ­£æ•°çš„è¯ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼›åªæœ‰æ“ä½œæ•°å‡ºç°è´Ÿæ•°çš„æƒ…å†µä¸‹ï¼Œç»“æœæ‰ä¼šä¸åŒã€‚

**å–æ¨¡è¿ç®—çš„å•†å‘è´Ÿæ— ç©·é è¿‘ï¼›å–ä½™è¿ç®—çš„å•†å‘ 0 é è¿‘**ã€‚è¿™æ˜¯å¯¼è‡´å®ƒä»¬ä¸¤ä¸ªåœ¨å¤„ç†æœ‰è´Ÿæ•°æƒ…å†µä¸‹ï¼Œç»“æœä¸åŒçš„æ ¹æœ¬åŸå› ã€‚

å½“æ•°ç»„çš„é•¿åº¦æ˜¯ 2 çš„ n æ¬¡å¹‚æ—¶ï¼Œå–æ¨¡è¿ç®—/å–ä½™è¿ç®—å¯ä»¥ç”¨ä½è¿ç®—æ¥ä»£æ›¿ï¼Œæ•ˆç‡æ›´é«˜ï¼Œæ¯•ç«Ÿè®¡ç®—æœºæœ¬èº«åªè®¤äºŒè¿›åˆ¶ã€‚

æ¯”å¦‚è¯´ï¼Œ7 å¯¹ 3 å–ä½™ï¼Œå’Œ 7 å¯¹ 3 å–æ¨¡ï¼Œç»“æœéƒ½æ˜¯ 1ã€‚å› ä¸ºä¸¤è€…éƒ½æ˜¯åŸºäºé™¤æ³•è¿ç®—çš„ï¼Œ7 / 3 çš„å•†æ˜¯ 2ï¼Œä½™æ•°æ˜¯ 1ã€‚

å¯¹äº HashMap æ¥è¯´ï¼Œå®ƒéœ€è¦é€šè¿‡ `hash % table.length` æ¥ç¡®å®šå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚

æ¯”å¦‚è¯´ï¼Œæ•°ç»„é•¿åº¦æ˜¯ 3ï¼Œhash æ˜¯ 7ï¼Œé‚£ä¹ˆ 7 % 3 çš„ç»“æœå°±æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 1 çš„ä½ç½®ã€‚

å½“ hash æ˜¯ 8ï¼Œ8 % 3 çš„ç»“æœå°±æ˜¯ 2ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 2 çš„ä½ç½®ã€‚

å½“ hash æ˜¯ 9ï¼Œ9 % 3 çš„ç»“æœå°±æ˜¯ 0ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŠŠå…ƒç´ æ”¾åœ¨ä¸‹æ ‡ä¸º 0 çš„ä½ç½®ä¸Šã€‚

æ˜¯ä¸æ˜¯å¾ˆå¥‡å¦™ï¼Œæ•°ç»„çš„å¤§å°ä¸º 3ï¼Œåˆšå¥½ 3 ä¸ªä½ç½®éƒ½åˆ©ç”¨ä¸Šäº†ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆæ˜¯ 2 æ¬¡å¹‚ åˆ°ä»€ä¹ˆæ—¶å€™å¼€å§‹æ‰©å®¹ æ‰©å®¹æœºåˆ¶æµç¨‹
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ”¯ä»˜å®é¢ç»åŒå­¦ 2 æ˜¥æ‹›æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šhashCode å¯¹æ•°ç»„é•¿åº¦å–æ¨¡å®šä½æ•°ç»„ä¸‹æ ‡ï¼Œè¿™å—æœ‰æ²¡æœ‰ä¼˜åŒ–ç­–ç•¥ï¼Ÿ

### 16.å¦‚æœåˆå§‹åŒ– HashMapï¼Œä¼ ä¸€ä¸ª 17 çš„å®¹é‡ï¼Œå®ƒä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ

HashMap ä¼šå°†å®¹é‡è°ƒæ•´åˆ°å¤§äºç­‰äº 17 çš„æœ€å°çš„ 2 çš„å¹‚æ¬¡æ–¹ï¼Œä¹Ÿå°±æ˜¯ 32ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå®¹é‡è®¡ç®—](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-18.png)

è¿™æ˜¯å› ä¸ºå“ˆå¸Œè¡¨çš„å¤§å°æœ€å¥½æ˜¯ 2 çš„ N æ¬¡å¹‚ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡ `(n - 1) & hash` é«˜æ•ˆè®¡ç®—å‡ºç´¢å¼•å€¼ã€‚

è§£é‡Šä¸€ä¸‹ã€‚

åœ¨ HashMap çš„åˆå§‹åŒ–æ„é€ æ–¹æ³•ä¸­ï¼Œæœ‰è¿™æ ·â¼€æ®µä»£ç ï¼š

```java
public HashMap(int initialCapacity, float loadFactor) {
 ...
 this.loadFactor = loadFactor;
 this.threshold = tableSizeFor(initialCapacity);
}
```

é˜€å€¼ threshold ä¼šé€šè¿‡â½…æ³•` tableSizeFor()` è¿›â¾è®¡ç®—ã€‚

```java
static final int tableSizeFor(int cap) {
    int n = cap - 1;
    n |= n >>> 1;
    n |= n >>> 2;
    n |= n >>> 4;
    n |= n >>> 8;
    n |= n >>> 16;
    return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;
}
```

â‘ ã€`int n = cap - 1;` é¿å…åˆšå¥½æ˜¯ 2 çš„å¹‚æ¬¡æ–¹æ—¶ï¼Œå®¹é‡ç›´æ¥ç¿»å€ã€‚

â‘¡ã€æ¥ä¸‹æ¥é€šè¿‡ä¸æ–­å³ç§»ï¼ˆ`>>>`ï¼‰å¹¶ä¸è‡ªèº«è¿›è¡Œæˆ–è¿ç®—ï¼ˆ`|=`ï¼‰ï¼Œå°† n çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æ‰€æœ‰ä½ä½è®¾ç½®ä¸º 1ã€‚

- `n |= n >>> 1;` å°†æœ€é«˜ä½çš„ 1 æ‰©å±•åˆ°ä¸‹ä¸€ä½ã€‚
- `n |= n >>> 2;` æ‰©å±•åˆ°åä¸¤ä½ã€‚
- ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ° `n |= n >>> 16;`ï¼Œæ‰©å±•åˆ°ååå…­ä½ï¼Œè¿™æ ·ä»æœ€é«˜ä½çš„ 1 åˆ°æœ€ä½ä½ï¼Œå°±éƒ½å˜æˆäº† 1ã€‚

â‘¢ã€å¦‚æœ n å°äº 0ï¼Œè¯´æ˜ cap æ˜¯è´Ÿæ•°ï¼Œç›´æ¥è¿”å› 1ã€‚

å¦‚æœ n å¤§äºæˆ–ç­‰äº MAXIMUM_CAPACITYï¼ˆé€šå¸¸æ˜¯$2^{30}$ï¼‰ï¼Œåˆ™è¿”å› MAXIMUM_CAPACITYã€‚

å¦åˆ™ï¼Œè¿”å› n + 1ï¼Œè¿™æ˜¯å› ä¸º n çš„æ‰€æœ‰ä½ä½éƒ½æ˜¯ 1ï¼Œæ‰€ä»¥ n + 1 å°±æ˜¯å¤§äº cap çš„æœ€å°çš„ 2 çš„å¹‚æ¬¡æ–¹ã€‚

#### åˆå§‹åŒ– HashMap çš„æ—¶å€™éœ€è¦ä¼ å…¥å®¹é‡å—ï¼Ÿ

å¦‚æœé¢„å…ˆçŸ¥é“ Map å°†å­˜å‚¨å¤§é‡é”®å€¼å¯¹ï¼Œæå‰æŒ‡å®šä¸€ä¸ªè¶³å¤Ÿå¤§çš„åˆå§‹å®¹é‡å¯ä»¥å‡å°‘å› æ‰©å®¹å¯¼è‡´çš„é‡å“ˆå¸Œæ“ä½œã€‚

å› ä¸ºæ¯æ¬¡æ‰©å®¹æ—¶ï¼ŒHashMap éœ€è¦å°†ç°æœ‰çš„å…ƒç´ æ’å…¥åˆ°æ–°çš„æ•°ç»„ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç›¸å¯¹è€—æ—¶ï¼Œå°¤å…¶æ˜¯å½“ Map ä¸­å·²æœ‰å¤§é‡æ•°æ®æ—¶ã€‚

å½“ç„¶äº†ï¼Œè¿‡å¤§çš„åˆå§‹å®¹é‡ä¼šæµªè´¹å†…å­˜ï¼Œç‰¹åˆ«æ˜¯å½“å®é™…å­˜å‚¨çš„å…ƒç´ è¿œå°‘äºåˆå§‹å®¹é‡æ—¶ã€‚å¦‚æœä¸æŒ‡å®šåˆå§‹å®¹é‡ï¼ŒHashMap å°†ä½¿ç”¨é»˜è®¤çš„åˆå§‹å®¹é‡ 16ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¥‡å®‰ä¿¡é¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šmap é›†åˆåœ¨ä½¿ç”¨æ—¶å€™ä¸€èˆ¬éƒ½éœ€è¦å†™å®¹é‡å€¼ï¼Ÿä¸ºä»€ä¹ˆè¦å†™ï¼Ÿæ‰©å®¹æœºåˆ¶ï¼Ÿ

### 17.ä½ è¿˜çŸ¥é“å“ªäº›å“ˆå¸Œå‡½æ•°çš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ

â‘ ã€**é™¤ç•™å–ä½™æ³•**ï¼š`H(key)=key%p(p<=N)`ï¼Œå…³é”®å­—é™¤ä»¥ä¸€ä¸ªä¸å¤§äºå“ˆå¸Œè¡¨é•¿åº¦çš„æ­£æ•´æ•° pï¼Œæ‰€å¾—ä½™æ•°ä¸ºåœ°å€ï¼Œå½“ç„¶ HashMap é‡Œè¿›è¡Œäº†ä¼˜åŒ–æ”¹é€ ï¼Œæ•ˆç‡æ›´é«˜ï¼Œæ•£åˆ—ä¹Ÿæ›´å‡è¡¡ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰è¿™å‡ ç§å¸¸è§çš„å“ˆå¸Œå‡½æ•°æ„é€ æ–¹æ³•ï¼š

â‘¡ã€**ç›´æ¥å®šå€æ³•**ï¼šç›´æ¥æ ¹æ®`key`æ¥æ˜ å°„åˆ°å¯¹åº”çš„æ•°ç»„ä½ç½®ï¼Œä¾‹å¦‚ 1232 æ”¾åˆ°ä¸‹æ ‡ 1232 çš„ä½ç½®ã€‚

â‘¢ã€**æ•°å­—åˆ†ææ³•**ï¼šå–`key`çš„æŸäº›æ•°å­—ï¼ˆä¾‹å¦‚åä½å’Œç™¾ä½ï¼‰ä½œä¸ºæ˜ å°„çš„ä½ç½®

â‘£ã€**å¹³æ–¹å–ä¸­æ³•**ï¼šå–`key`å¹³æ–¹çš„ä¸­é—´å‡ ä½ä½œä¸ºæ˜ å°„çš„ä½ç½®

â‘¤ã€å°†`key`åˆ†å‰²æˆä½æ•°ç›¸åŒçš„å‡ æ®µï¼Œç„¶åæŠŠå®ƒä»¬çš„å åŠ å’Œä½œä¸ºæ˜ å°„çš„ä½ç½®ã€‚

![æ•£åˆ—å‡½æ•°æ„é€ ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-19.png)

### 18.è§£å†³å“ˆå¸Œå†²çªæœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

ç®€ç‰ˆå›ç­”ï¼šæˆ‘çŸ¥é“çš„æœ‰ 3 ç§ï¼Œå†å“ˆå¸Œæ³•ã€å¼€æ”¾åœ°å€æ³•å’Œæ‹‰é“¾æ³•ã€‚

#### ä»€ä¹ˆæ˜¯å†å“ˆå¸Œæ³•ï¼Ÿ

å‡†å¤‡ä¸¤å¥—å“ˆå¸Œç®—æ³•ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªçš„æ—¶å€™ï¼Œä½¿ç”¨å¦å¤–ä¸€ç§å“ˆå¸Œç®—æ³•ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºæ§½ä¸ºæ­¢ã€‚å¯¹å“ˆå¸Œç®—æ³•çš„è®¾è®¡è¦æ±‚æ¯”è¾ƒé«˜ã€‚

#### ä»€ä¹ˆæ˜¯å¼€æ”¾åœ°å€æ³•ï¼Ÿ

é‡åˆ°å“ˆå¸Œå†²çªçš„æ—¶å€™ï¼Œå°±å»å¯»æ‰¾ä¸‹ä¸€ä¸ªç©ºçš„æ§½ã€‚æœ‰ 3 ç§æ–¹æ³•ï¼š

- çº¿æ€§æ¢æµ‹ï¼šä»å†²çªçš„ä½ç½®å¼€å§‹ï¼Œä¾æ¬¡å¾€åæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºæ§½ã€‚
- äºŒæ¬¡æ¢æµ‹ï¼šä»å†²çªçš„ä½ç½® x å¼€å§‹ï¼Œç¬¬ä¸€æ¬¡å¢åŠ  $1^2$ ä¸ªä½ç½®ï¼Œç¬¬äºŒæ¬¡å¢åŠ  $2^2$ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºæ§½ã€‚
- åŒé‡å“ˆå¸Œï¼šå’Œå†å“ˆå¸Œæ³•ç±»ä¼¼ï¼Œå‡†å¤‡å¤šä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå‘ç”Ÿå†²çªçš„æ—¶å€™ï¼Œä½¿ç”¨å¦å¤–ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‹‰é“¾æ³• VS å¼€æ”¾åœ°å€æ³•](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-20.png)

#### ä»€ä¹ˆæ˜¯æ‹‰é“¾æ³•ï¼Ÿ

ä¹Ÿå°±æ˜¯é“¾åœ°å€æ³•ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªçš„æ—¶å€™ï¼Œä½¿ç”¨é“¾è¡¨å°†å†²çªçš„å…ƒç´ ä¸²èµ·æ¥ã€‚HashMap é‡‡ç”¨çš„æ­£æ˜¯æ‹‰é“¾æ³•ã€‚

#### æ€ä¹ˆåˆ¤æ–­ key ç›¸ç­‰å‘¢ï¼Ÿ

ä¾èµ–äº`key`çš„`equals()`æ–¹æ³•å’Œ`hashCode()`æ–¹æ³•ã€‚

```java
if (e.hash == hash &&
((k = e.key) == key || (key != null && key.equals(k))))
```

â‘ ã€**hashCode()** ï¼šä½¿ç”¨`key`çš„`hashCode()`æ–¹æ³•è®¡ç®—`key`çš„å“ˆå¸Œç ã€‚

â‘¡ã€**equals()** ï¼šå½“ä¸¤ä¸ª`key`çš„å“ˆå¸Œç ç›¸åŒæ—¶ï¼Œ`HashMap`è¿˜ä¼šè°ƒç”¨`key`çš„`equals()`æ–¹æ³•è¿›è¡Œç²¾ç¡®æ¯”è¾ƒã€‚åªæœ‰å½“`equals()`æ–¹æ³•è¿”å›`true`æ—¶ï¼Œä¸¤ä¸ª`key`æ‰è¢«è®¤ä¸ºæ˜¯å®Œå…¨ç›¸åŒçš„ã€‚

å¦‚æœä¸¤ä¸ª`key`çš„å¼•ç”¨æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä»¬çš„`hashCode()`å’Œ`equals()`æ–¹æ³•éƒ½ä¼šè¿”å›`true`ï¼Œæ‰€ä»¥åœ¨ equals åˆ¤æ–­ä¹‹å‰å¯ä»¥å…ˆä½¿ç”¨`==`è¿ç®—ç¬¦åˆ¤æ–­ä¸€æ¬¡ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ”¯ä»˜å®é¢ç»åŒå­¦ 2 æ˜¥æ‹›æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap æ€ä¹ˆè§£å†³å†²çªï¼Ÿæ€ä¹ˆåˆ¤æ–­ key ç›¸ç­‰ï¼Ÿ

### 19.ä¸ºä»€ä¹ˆ HashMap é“¾è¡¨è½¬çº¢é»‘æ ‘çš„é˜ˆå€¼ä¸º 8 å‘¢ï¼Ÿ

æ ‘åŒ–å‘ç”Ÿåœ¨ table æ•°ç»„çš„é•¿åº¦å¤§äº 64ï¼Œä¸”é“¾è¡¨çš„é•¿åº¦å¤§äº 8 çš„æ—¶å€™ã€‚

ä¸ºä»€ä¹ˆæ˜¯ 8 å‘¢ï¼Ÿæºç çš„æ³¨é‡Šä¹Ÿç»™å‡ºäº†ç­”æ¡ˆã€‚

![æºç æ³¨é‡Š](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-21.png)

çº¢é»‘æ ‘èŠ‚ç‚¹çš„å¤§å°å¤§æ¦‚æ˜¯æ™®é€šèŠ‚ç‚¹å¤§å°çš„ä¸¤å€ï¼Œæ‰€ä»¥è½¬çº¢é»‘æ ‘ï¼Œç‰ºç‰²äº†ç©ºé—´æ¢æ—¶é—´ï¼Œæ›´å¤šçš„æ˜¯ä¸€ç§å…œåº•çš„ç­–ç•¥ï¼Œä¿è¯æç«¯æƒ…å†µä¸‹çš„æŸ¥æ‰¾æ•ˆç‡ã€‚

é˜ˆå€¼ä¸ºä»€ä¹ˆè¦é€‰ 8 å‘¢ï¼Ÿå’Œç»Ÿè®¡å­¦æœ‰å…³ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä½¿ç”¨éšæœºå“ˆå¸Œç ï¼Œé“¾è¡¨é‡Œçš„èŠ‚ç‚¹ç¬¦åˆæ³Šæ¾åˆ†å¸ƒï¼Œå‡ºç°èŠ‚ç‚¹ä¸ªæ•°çš„æ¦‚ç‡æ˜¯é€’å‡çš„ï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸º 8 çš„æƒ…å†µï¼Œå‘ç”Ÿæ¦‚ç‡ä»…ä¸º`0.00000006`ã€‚

è‡³äºçº¢é»‘æ ‘è½¬å›é“¾è¡¨çš„é˜ˆå€¼ä¸ºä»€ä¹ˆæ˜¯ 6ï¼Œè€Œä¸æ˜¯ 8ï¼Ÿæ˜¯å› ä¸ºå¦‚æœè¿™ä¸ªé˜ˆå€¼ä¹Ÿè®¾ç½®æˆ 8ï¼Œå‡å¦‚å‘ç”Ÿç¢°æ’ï¼ŒèŠ‚ç‚¹å¢å‡åˆšå¥½åœ¨ 8 é™„è¿‘ï¼Œä¼šå‘ç”Ÿé“¾è¡¨å’Œçº¢é»‘æ ‘çš„ä¸æ–­è½¬æ¢ï¼Œå¯¼è‡´èµ„æºæµªè´¹ã€‚

### 20.HashMapæ‰©å®¹å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™å‘¢ï¼Ÿ

å½“é”®å€¼å¯¹æ•°é‡è¶…è¿‡é˜ˆå€¼ï¼Œä¹Ÿå°±æ˜¯å®¹é‡ \* è´Ÿè½½å› å­æ—¶ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šHashMap æ‰©å®¹](https://cdn.tobebetterjavaer.com/stutymore/collection-20240323113620.png)

#### é»˜è®¤çš„è´Ÿè½½å› å­æ˜¯å¤šå°‘ï¼Ÿ

0.75ã€‚

#### åˆå§‹å®¹é‡æ˜¯å¤šå°‘ï¼Ÿ

16ã€‚

1 å·¦ç§» 4 ä½ï¼Œ`0000 0001 â†’ 0001 0000`ï¼Œä¹Ÿå°±æ˜¯ 2 çš„ 4 æ¬¡æ–¹ã€‚

```java
static final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16
```

#### ä¸ºä»€ä¹ˆä½¿ç”¨ 1 << 4 è€Œä¸æ˜¯ç›´æ¥å†™ 16ï¼Ÿ

å†™ `1<<4` ä¸»è¦æ˜¯ä¸ºäº†å¼ºè°ƒè¿™ä¸ªå€¼æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®Œå…¨éšæœºçš„é€‰æ‹©ã€‚

æ— è®º HashMap æ˜¯å¦æ‰©å®¹ï¼Œå…¶åº•å±‚çš„æ•°ç»„é•¿åº¦éƒ½åº”è¯¥æ˜¯ 2 çš„å¹‚æ¬¡æ–¹ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥é€šè¿‡ä½è¿ç®—å¿«é€Ÿè®¡ç®—å‡ºå…ƒç´ çš„ç´¢å¼•ã€‚

#### ä¸ºä»€ä¹ˆé€‰æ‹© 0.75 ä½œä¸º HashMap çš„é»˜è®¤è´Ÿè½½å› å­å‘¢ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªç»éªŒå€¼ã€‚å¦‚æœè®¾ç½®å¾—å¤ªä½ï¼Œå¦‚ 0.5ï¼Œä¼šæµªè´¹ç©ºé—´ï¼›å¦‚æœè®¾ç½®å¾—å¤ªé«˜ï¼Œå¦‚ 0.9ï¼Œä¼šå¢åŠ å“ˆå¸Œå†²çªã€‚


![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šä¸ºä»€ä¹ˆé€‰æ‹© 0.75](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108101417.png)

0.75 æ˜¯ JDK ä½œè€…ç»è¿‡å¤§é‡éªŒè¯åå¾—å‡ºçš„æœ€ä¼˜è§£ï¼Œèƒ½å¤Ÿæœ€å¤§é™åº¦å‡å°‘ rehash çš„æ¬¡æ•°ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆæ˜¯ 2 æ¬¡å¹‚ åˆ°ä»€ä¹ˆæ—¶å€™å¼€å§‹æ‰©å®¹ æ‰©å®¹æœºåˆ¶æµç¨‹

memoï¼š2025 å¹´ 1 æœˆ 7 æ—¥ç¬¬äºŒç‰ˆä¼˜åŒ–åˆ°æ­¤ã€‚

### 21.HashMapçš„æ‰©å®¹æœºåˆ¶äº†è§£å—ï¼Ÿ

æ‰©å®¹æ—¶ï¼ŒHashMap ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶å®¹é‡æ˜¯åŸæ¥çš„ä¸¤å€ã€‚ç„¶åéå†æ—§å“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ ï¼Œå°†å…¶é‡æ–°åˆ†é…åˆ°æ–°çš„å“ˆå¸Œè¡¨ä¸­ã€‚

å¦‚æœå½“å‰æ¡¶ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆç›´æ¥é€šè¿‡é”®çš„å“ˆå¸Œå€¼ä¸æ•°ç»„å¤§å°å–æ¨¡é”å®šæ–°çš„ç´¢å¼•ä½ç½®ï¼š`e.hash & (newCap - 1)`ã€‚

å¦‚æœå½“å‰æ¡¶æ˜¯çº¢é»‘æ ‘ï¼Œé‚£ä¹ˆä¼šè°ƒç”¨ `split()` æ–¹æ³•åˆ†è£‚æ ‘èŠ‚ç‚¹ï¼Œä»¥ä¿è¯æ ‘çš„å¹³è¡¡ã€‚

å¦‚æœå½“å‰æ¡¶æ˜¯é“¾è¡¨ï¼Œä¼šé€šè¿‡æ—§é”®çš„å“ˆå¸Œå€¼ä¸æ—§çš„æ•°ç»„å¤§å°å–æ¨¡ `(e.hash & oldCap) == 0` æ¥ä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œå…ƒç´ ä¿ç•™åœ¨åŸç´¢å¼•çš„ä½ç½®ï¼›å¦åˆ™å…ƒç´ ç§»åŠ¨åˆ°åŸç´¢å¼• + æ—§æ•°ç»„å¤§å°çš„ä½ç½®ã€‚

#### JDK 7 æ‰©å®¹çš„æ—¶å€™æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

JDK 7 åœ¨æ‰©å®¹çš„æ—¶å€™ä½¿ç”¨å¤´æ’æ³•æ¥é‡æ–°æ’å…¥é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿™æ ·ä¼šå¯¼è‡´é“¾è¡¨æ— æ³•ä¿æŒåŸæœ‰çš„é¡ºåºã€‚

è¯¦ç»†è§£é‡Šä¸€ä¸‹ã€‚

JDK 7 æ˜¯é€šè¿‡å“ˆå¸Œå€¼ä¸æ•°ç»„å¤§å°-1 è¿›è¡Œä¸è¿ç®—ç¡®å®šå…ƒç´ ä¸‹æ ‡çš„ã€‚

```java
static int indexFor(int h, int length) {
    return h & (length-1);
}
```

æˆ‘ä»¬æ¥å‡è®¾ï¼š

- æ•°ç»„ table çš„é•¿åº¦ä¸º 2
- é”®çš„å“ˆå¸Œå€¼ä¸º 3ã€7ã€5

å–æ¨¡è¿ç®—åï¼Œé”®å‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼Œå®ƒä»¬éƒ½éœ€è¦æ”¾åˆ° `table[1]` çš„æ¡¶ä¸Šã€‚é‚£ä¹ˆæ‰©å®¹å‰å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJDK7 æ‰©å®¹å‰](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-01.png)

å‡è®¾è´Ÿè½½å› å­ loadFactor ä¸º 1ï¼Œä¹Ÿå°±æ˜¯å½“å…ƒç´ çš„ä¸ªæ•°å¤§äº table çš„é•¿åº¦æ—¶è¿›è¡Œæ‰©å®¹ã€‚

æ‰©å®¹åçš„æ•°ç»„å®¹é‡ä¸º 4ã€‚

- key 3 å–æ¨¡ï¼ˆ3%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ `table[3]` ä¸Šã€‚
- key 7 å–æ¨¡ï¼ˆ7%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ `table[3]` ä¸Šçš„é“¾è¡¨å¤´éƒ¨ã€‚
- key 5 å–æ¨¡ï¼ˆ5%4ï¼‰åæ˜¯ 1ï¼Œæ”¾åœ¨ `table[1]` ä¸Šã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼š JDK7æ‰©å®¹å](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-02.png)

å¯ä»¥çœ‹åˆ°ï¼Œç”±äº JDK é‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼Œ7 è·‘åˆ° 3 çš„å‰é¢äº†ï¼ŒåŸæ¥çš„é¡ºåºæ˜¯ 3ã€7ã€5ï¼Œ7 åœ¨ 3 çš„åé¢ã€‚

```java
for (Entry<K,V> e : oldTable) {
    while (null != e) {
        Entry<K,V> next = e.next;
        int i = indexFor(e.hash, newCapacity);
        e.next = newTable[i];
        newTable[i] = e;
        e = next;
    }
}
```

æœ€å¥½çš„æƒ…å†µå°±æ˜¯ï¼Œæ‰©å®¹åçš„ 7 è¿˜åœ¨ 3 çš„åé¢ï¼Œä¿æŒåŸæ¥çš„é¡ºåºã€‚

#### JDK 8 æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿ

JDK 8 æ”¹ç”¨äº†å°¾æ’æ³•ï¼Œå¹¶ä¸”å½“ `(e.hash & oldCap) == 0` æ—¶ï¼Œå…ƒç´ ä¿ç•™åœ¨åŸç´¢å¼•çš„ä½ç½®ï¼›å¦åˆ™å…ƒç´ ç§»åŠ¨åˆ°åŸç´¢å¼• + æ—§æ•°ç»„å¤§å°çš„ä½ç½®ã€‚

```java
Node<K,V> loHead = null, loTail = null;
Node<K,V> hiHead = null, hiTail = null;
Node<K,V> next;
do {
    next = e.next;
    if ((e.hash & oldCap) == 0) {
        if (loTail == null)
            loHead = e;
        else
            loTail.next = e;
        loTail = e;
    }
    else {
        if (hiTail == null)
            hiHead = e;
        else
            hiTail.next = e;
        hiTail = e;
    }
} while ((e = next) != null);
if (loHead != null)
    newTab[j] = loHead;
if (hiHead != null)
    newTab[j + oldCap] = hiHead;
```

ç”±äºæ‰©å®¹æ—¶ï¼Œæ•°ç»„é•¿åº¦ä¼šç¿»å€ï¼Œä¾‹å¦‚ï¼š16 â†’ 32ï¼Œ	å› æ­¤ï¼Œæ–°æ•°ç»„çš„ç´¢å¼•èŒƒå›´æ˜¯åŸç´¢å¼•èŒƒå›´çš„ä¸¤å€ã€‚

åŸç´¢å¼• `index = (n - 1) & hash`ï¼Œæ‰©å®¹åçš„æ–°ç´¢å¼•å°±æ˜¯ `index = (2n - 1) & hash`ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ `(e.hash & oldCap) == 0`ï¼Œå…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ä¸æ—§ä½ç½®ç›¸åŒï¼›å¦åˆ™ï¼Œå…ƒç´ åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®æ˜¯æ—§ä½ç½® + æ—§æ•°ç»„å¤§å°ã€‚

å‡è®¾æ‰©å®¹å‰çš„æ•°ç»„é•¿åº¦ä¸º 16ï¼ˆn-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0000 1111ï¼Œ1X${2^0}$+1X${2^1}$+1X${2^2}$+1X${2^3}$=1+2+4+8=15ï¼‰ï¼Œkey1 ä¸º 5ï¼ˆäºŒè¿›åˆ¶ä¸º 0000 0101ï¼‰ï¼Œkey2 ä¸º 21ï¼ˆäºŒè¿›åˆ¶ä¸º 0001 0101ï¼‰ã€‚

- key1 å’Œ n-1 åš & è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ï¼›
- key2 å’Œ n-1 åš & è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ã€‚
- æ­¤æ—¶å“ˆå¸Œå†²çªäº†ï¼Œç”¨æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªã€‚

ç°åœ¨ï¼ŒHashMap è¿›è¡Œäº†æ‰©å®¹ï¼Œå®¹é‡ä¸ºåŸæ¥çš„ 2 å€ï¼Œä¹Ÿå°±æ˜¯ 32ï¼ˆn-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0001 1111ï¼Œ1X${2^0}$+1X${2^1}$+1X${2^2}$+1X${2^3}$+1X${2^4}$=1+2+4+8+16=31ï¼‰ã€‚

- key1 å’Œ n-1 åš & è¿ç®—åä¸º 0000 0101ï¼Œä¹Ÿå°±æ˜¯ 5ï¼›
- key2 å’Œ n-1 åš & è¿ç®—åä¸º 0001 0101ï¼Œä¹Ÿå°±æ˜¯ 21=5+16ï¼Œå°±æ˜¯æ•°ç»„æ‰©å®¹å‰çš„ä½ç½®+åŸæ•°ç»„çš„é•¿åº¦ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹ä½ç½®å˜åŒ–](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-26.png)

è¿™æ ·å¯ä»¥é¿å…é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å“ˆå¸Œå€¼ï¼Œåªéœ€æ£€æŸ¥é«˜ä½çš„æŸä¸€ä½ï¼Œå°±å¯ä»¥å¿«é€Ÿç¡®å®šæ–°ä½ç½®ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ‰©å®¹èŠ‚ç‚¹è¿ç§»ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-27.png)


#### æ‰©å®¹çš„æ—¶å€™æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦è¿›è¡Œä½è¿ç®—å—ï¼Ÿ

ä¸éœ€è¦ã€‚HashMap ä¼šé€šè¿‡ `(e.hash & oldCap)` æ¥åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦éœ€è¦ç§»åŠ¨ï¼Œ0 çš„è¯ä¿ç•™åŸç´¢å¼•ï¼›1 æ‰éœ€è¦ç§»åŠ¨åˆ°æ–°ç´¢å¼•ï¼ˆåŸç´¢å¼• + oldCapï¼‰ã€‚

è¿™æ ·å°±é¿å…äº† hashCode çš„é‡æ–°è®¡ç®—ï¼Œå¤§å¤§æå‡äº†æ‰©å®¹çš„æ€§èƒ½ã€‚

æ‰€ä»¥ï¼Œå“ªæ€•æœ‰å‡ åä¸‡æ¡æ•°æ®ï¼Œå¯èƒ½åªæœ‰ä¸€åŠçš„æ•°æ®æ‰éœ€è¦ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚å¦å¤–ï¼Œä½è¿ç®—çš„è®¡ç®—é€Ÿåº¦éå¸¸å¿«ï¼Œå› æ­¤ï¼Œå°½ç®¡æ‰©å®¹æ“ä½œæ¶‰åŠåˆ°éå†æ•´ä¸ªå“ˆå¸Œè¡¨å¹¶å¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ï¼Œä½†è¿™éƒ¨åˆ†æ“ä½œçš„è®¡ç®—æˆæœ¬æ˜¯ç›¸å¯¹è¾ƒä½çš„ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆæ˜¯ 2 æ¬¡å¹‚ åˆ°ä»€ä¹ˆæ—¶å€™å¼€å§‹æ‰©å®¹ æ‰©å®¹æœºåˆ¶æµç¨‹
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æš‘æœŸå®ä¹ åŒå­¦ E ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ HashMap çš„æ‰©å®¹æœºåˆ¶ï¼Œ1.8 æ‰©å®¹å…·ä½“å®ç°
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¥‡å®‰ä¿¡é¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šmap é›†åˆåœ¨ä½¿ç”¨æ—¶å€™ä¸€èˆ¬éƒ½éœ€è¦å†™å®¹é‡å€¼ï¼Ÿä¸ºä»€ä¹ˆè¦å†™ï¼Ÿæ‰©å®¹æœºåˆ¶ï¼Ÿ
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šhashmap çš„åº•å±‚å®ç°åŸç†ã€put()æ–¹æ³•å®ç°æµç¨‹ã€æ‰©å®¹æœºåˆ¶ï¼Ÿ

### 22.JDK 8 å¯¹ HashMap åšäº†å“ªäº›ä¼˜åŒ–å‘¢ï¼Ÿ

â‘ ã€åº•å±‚æ•°æ®ç»“æ„ç”±æ•°ç»„ + é“¾è¡¨æ”¹æˆäº†æ•°ç»„ + é“¾è¡¨æˆ–çº¢é»‘æ ‘çš„ç»“æ„ã€‚

å¦‚æœå¤šä¸ªé”®æ˜ å°„åˆ°äº†åŒä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œé“¾è¡¨ä¼šå˜å¾—å¾ˆé•¿ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå½“æ‰€æœ‰çš„é”®éƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶ä¸­æ—¶ï¼Œæ€§èƒ½ä¼šé€€åŒ–åˆ° O(n)ï¼Œè€Œçº¢é»‘æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)ã€‚

â‘¡ã€é“¾è¡¨çš„æ’å…¥æ–¹å¼ç”±å¤´æ’æ³•æ”¹ä¸ºäº†å°¾æ’æ³•ã€‚å¤´æ’æ³•åœ¨æ‰©å®¹åå®¹æ˜“æ”¹å˜åŸæ¥é“¾è¡¨çš„é¡ºåºã€‚

â‘¢ã€æ‰©å®¹çš„æ—¶æœºç”±æ’å…¥æ—¶åˆ¤æ–­æ”¹ä¸ºæ’å…¥ååˆ¤æ–­ï¼Œè¿™æ ·å¯ä»¥é¿å…åœ¨æ¯æ¬¡æ’å…¥æ—¶éƒ½è¿›è¡Œä¸å¿…è¦çš„æ‰©å®¹æ£€æŸ¥ï¼Œå› ä¸ºæœ‰å¯èƒ½æ’å…¥åä»ç„¶ä¸éœ€è¦æ‰©å®¹ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJDK7 JDK8 æ‰©å®¹æ—¶æœºçš„ä¸åŒ](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108174154.png)


â‘£ã€å“ˆå¸Œæ‰°åŠ¨ç®—æ³•ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ã€‚JDK 7 æ˜¯é€šè¿‡å¤šæ¬¡ç§»ä½å’Œå¼‚æˆ–è¿ç®—æ¥å®ç°çš„ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJDK 7 çš„ hash æ–¹æ³•](https://cdn.tobebetterjavaer.com/stutymore/collection-20240512093223.png)

JDK 8 è®© hash å€¼çš„é«˜ 16 ä½å’Œä½ 16 ä½è¿›è¡Œäº†å¼‚æˆ–è¿ç®—ï¼Œè®©é«˜ä½çš„ä¿¡æ¯ä¹Ÿèƒ½å‚ä¸åˆ°ä½ä½çš„è®¡ç®—ä¸­ï¼Œè¿™æ ·å¯ä»¥æå¤§ç¨‹åº¦ä¸Šå‡å°‘å“ˆå¸Œç¢°æ’ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJDK 8 çš„ hash æ–¹æ³•](https://cdn.tobebetterjavaer.com/stutymore/collection-20240512093327.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šHashMap çš„å†…éƒ¨ç»“æ„ï¼Œ1.7 å’Œ 1.8 çš„åŒºåˆ«ï¼Œæœ‰ä»€ä¹ˆæ”¹è¿›

### 23.ä½ èƒ½è‡ªå·±è®¾è®¡å®ç°ä¸€ä¸ª HashMap å—ï¼Ÿ

>è¿™é“é¢˜**å¿«æ‰‹**å¸¸è€ƒã€‚çº¢é»‘æ ‘ç‰ˆå’±ä»¬å¤šåŠæ˜¯å†™ä¸å‡ºæ¥çš„ï¼Œä½†æ˜¯æ•°ç»„+é“¾è¡¨ç‰ˆè¿˜æ˜¯é—®é¢˜ä¸å¤§ï¼Œè¯¦ç»†å¯è§ï¼š [æ‰‹å†™ HashMapï¼Œå¿«æ‰‹é¢è¯•å®˜ç›´å‘¼å†…è¡Œï¼](https://mp.weixin.qq.com/s/Z9yoRZW5itrtgbS-cj0bUg)ã€‚

å¯ä»¥ï¼Œæˆ‘å…ˆè¯´ä¸€ä¸‹æ•´ä½“çš„è®¾è®¡æ€è·¯ï¼š

- ç¬¬ä¸€æ­¥ï¼Œå®ç°ä¸€ä¸ª hash å‡½æ•°ï¼Œå¯¹é”®çš„ hashCode è¿›è¡Œæ‰°åŠ¨
- ç¬¬äºŒæ­¥ï¼Œå®ç°ä¸€ä¸ªæ‹‰é“¾æ³•çš„æ–¹æ³•æ¥è§£å†³å“ˆå¸Œå†²çª
- ç¬¬ä¸‰æ­¥ï¼Œæ‰©å®¹åï¼Œé‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œå°†å…ƒç´ æ”¾åˆ°æ–°çš„æ•°ç»„ä¸­

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè‡ªå®šä¹‰HashMapæ•´ä½“ç»“æ„](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-29.png)

å®Œæ•´ä»£ç ï¼š

![å®Œæ•´ä»£ç ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-30.png)

### 24.HashMap æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ

æ¨èé˜…è¯»ï¼š[HashMap è¯¦è§£](https://javabetter.cn/collection/hashmap.html#_04%E3%80%81%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8)

HashMap ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š

â‘ ã€å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯ã€‚JDK7 ä¸­çš„ HashMap ä½¿ç”¨çš„æ˜¯å¤´æ’æ³•æ¥å¤„ç†é“¾è¡¨ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ‰©å®¹ä¼šå‡ºç°ç¯å½¢é“¾è¡¨ï¼Œé€ æˆæ­»å¾ªç¯ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç¯å½¢é“¾è¡¨](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-07.png)

ä¸è¿‡ï¼ŒJDK 8 æ—¶é€šè¿‡å°¾æ’æ³•ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰©å®¹æ—¶ä¼šä¿æŒé“¾è¡¨åŸæ¥çš„é¡ºåºã€‚

â‘¡ã€å¤šçº¿ç¨‹åœ¨è¿›è¡Œ put å…ƒç´ çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±ã€‚å› ä¸ºè®¡ç®—å‡ºæ¥çš„ä½ç½®å¯èƒ½ä¼šè¢«å…¶ä»–çº¿ç¨‹è¦†ç›–æ‰ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªå¿åŸ put 3 çš„æ—¶å€™ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹ put äº† 7ï¼Œå°±æŠŠ 3 ç»™å¼„ä¸¢äº†ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-10.png)

â‘¢ã€put å’Œ get å¹¶å‘æ—¶ï¼Œå¯èƒ½å¯¼è‡´ get ä¸º nullã€‚çº¿ç¨‹ 1 æ‰§è¡Œ put æ—¶ï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°è¶…å‡ºé˜ˆå€¼è€Œæ‰©å®¹ï¼Œçº¿ç¨‹ 2 æ­¤æ—¶æ‰§è¡Œ getï¼Œå°±æœ‰å¯èƒ½å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šget åˆ° null](https://cdn.tobebetterjavaer.com/stutymore/collection-20240326085630.png)

å› ä¸ºçº¿ç¨‹ 1 æ‰§è¡Œå®Œ table = newTab ä¹‹åï¼Œçº¿ç¨‹ 2 ä¸­çš„ table å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œæ¯”å¦‚è¯´ç´¢å¼• 3 çš„é”®å€¼å¯¹ç§»åŠ¨åˆ°äº†ç´¢å¼• 7 çš„ä½ç½®ï¼Œæ­¤æ—¶çº¿ç¨‹ 2 å» get ç´¢å¼• 3 çš„å…ƒç´ å°± get ä¸åˆ°äº†ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸º OD åŸé¢˜ï¼šHashMap æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šHashMap æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 9 é£ä¹¦åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap ä¸ºä»€ä¹ˆä¸å®‰å…¨ï¼Œå¦‚ä½•æ”¹è¿›ï¼Œä»¥åŠ ConcurrentHashMap
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap çš„åº•å±‚å®ç°ï¼Œå®ƒä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Ÿ
> 5. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 4 äº‘å®ä¹ é¢è¯•åŸé¢˜ï¼šhashmapæ˜¯ä¼šæ­»é”çš„, ä½ çŸ¥é“å—
> 6. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šmapçš„åŒæ­¥å’ŒéåŒæ­¥
> 7. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆHashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ


### 25.æ€ä¹ˆè§£å†³ HashMap çº¿ç¨‹ä¸å®‰å…¨çš„é—®é¢˜å‘¢ï¼Ÿ

åœ¨æ—©æœŸçš„ JDK ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ç”¨ Hashtable æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚Hashtable åœ¨æ–¹æ³•ä¸ŠåŠ äº† [synchronized å…³é”®å­—](https://javabetter.cn/thread/synchronized-1.html)ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šHashtable](https://cdn.tobebetterjavaer.com/stutymore/collection-20240323125211.png)

å¦å¤–ï¼Œå¯ä»¥é€šè¿‡ `Collections.synchronizedMap` æ–¹æ³•è¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ Mapï¼Œå†…éƒ¨æ˜¯é€šè¿‡ synchronized å¯¹è±¡é”æ¥ä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ¯”åœ¨æ–¹æ³•ä¸Šç›´æ¥åŠ  synchronized å…³é”®å­—æ›´è½»é‡çº§ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šCollections.synchronizedMap](https://cdn.tobebetterjavaer.com/stutymore/collection-20240323125418.png)

æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¹¶å‘å·¥å…·åŒ…ä¸‹çš„ [ConcurrentHashMap](https://javabetter.cn/thread/ConcurrentHashMap.html)ï¼Œä½¿ç”¨äº†[CAS](https://javabetter.cn/thread/cas.html)+ [synchronized å…³é”®å­—](https://javabetter.cn/thread/synchronized-1.html)æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚

![åˆå¿µåˆæ‹ï¼šConcurrentHashMap 8 ä¸­çš„å®ç°](https://cdn.tobebetterjavaer.com/stutymore/map-20230816155924.png)


> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šæœ‰å“ªäº›çº¿ç¨‹å®‰å…¨çš„ mapï¼ŒConcurrentHashMap æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸ºä»€ä¹ˆæ¯” hashTable æ•ˆç‡å¥½
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šJava ä¸­çš„çº¿ç¨‹å®‰å…¨çš„é›†åˆæ˜¯ä»€ä¹ˆï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 9 é£ä¹¦åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMap ä¸ºä»€ä¹ˆä¸å®‰å…¨ï¼Œå¦‚ä½•æ”¹è¿›ï¼Œä»¥åŠ ConcurrentHashMap
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šçŸ¥é“å“ªäº›çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»å‹ï¼Ÿ
> 5. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆå˜æˆçº¿ç¨‹å®‰å…¨çš„æ–¹æ³•ï¼Ÿ
> 6. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 8 é¢è¯•åŸé¢˜ï¼šhashMapå’ŒhashTableçš„åŒºåˆ« 
> 8. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šå’ŒConcurrentHashMapçš„å·®å¼‚
> 9. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashTableäº†è§£å—ï¼ŸHashmapèƒ½ä¿è¯å¹¶å‘å®‰å…¨å—ï¼ŸConcurrentHashMapæ˜¯æ€ä¹ˆä¿è¯çš„ï¼Ÿ
> 10. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦19ç•ªèŒ„å°è¯´ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashtableä¸HashMap


### 26.HashMap å†…éƒ¨èŠ‚ç‚¹æ˜¯æœ‰åºçš„å—ï¼Ÿ

æ— åºçš„ï¼Œæ ¹æ® hash å€¼éšæœºæ’å…¥ã€‚

### 27.è®²è®² LinkedHashMap æ€ä¹ˆå®ç°æœ‰åºçš„ï¼Ÿ

LinkedHashMap åœ¨ HashMap çš„åŸºç¡€ä¸Šç»´æŠ¤äº†ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œé€šè¿‡ before å’Œ after æ ‡è¯†å‰ç½®èŠ‚ç‚¹å’Œåç½®èŠ‚ç‚¹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šEntryèŠ‚ç‚¹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-33.png)

ä»è€Œå®ç°æ’å…¥çš„é¡ºåºæˆ–è®¿é—®é¡ºåºã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šLinkedHashMapå®ç°åŸç†](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-34.png)

### 28.è®²è®² TreeMap æ€ä¹ˆå®ç°æœ‰åºçš„ï¼Ÿ

TreeMap é€šè¿‡ key çš„æ¯”è¾ƒå™¨æ¥å†³å®šå…ƒç´ çš„é¡ºåºï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ¯”è¾ƒå™¨ï¼Œé‚£ä¹ˆ key å¿…é¡»å®ç° [Comparable æ¥å£](https://javabetter.cn/collection/comparable-omparator.html)ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šTreeMapæºç ](https://cdn.tobebetterjavaer.com/stutymore/collection-20240330124711.png)

TreeMap çš„åº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œçº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¤§äºå…¶å·¦å­æ ‘ä¸­çš„ä»»ä½•èŠ‚ç‚¹ï¼Œå°äºå…¶å³å­èŠ‚ç‚¹æ ‘ç§çš„ä»»ä½•èŠ‚ç‚¹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šTreeMap](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-35.png)

æ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ æ—¶é€šè¿‡æ—‹è½¬å’ŒæŸ“è‰²æ¥ä¿æŒæ ‘çš„å¹³è¡¡ã€‚

æŸ¥æ‰¾çš„æ—¶å€™ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œåˆ©ç”¨äºŒå‰æŸ¥æ‰¾æ ‘çš„ç‰¹ç‚¹ï¼Œé€æ­¥å‘å·¦å­æ ‘æˆ–è€…å³å­æ ‘é€’å½’æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡å…ƒç´ ã€‚

### 29.TreeMap å’Œ HashMap çš„åŒºåˆ«

â‘ ã€HashMap æ˜¯åŸºäºæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°çš„ï¼Œput å…ƒç´ çš„æ—¶å€™ä¼šå…ˆè®¡ç®— key çš„å“ˆå¸Œå€¼ï¼Œç„¶åé€šè¿‡å“ˆå¸Œå€¼è®¡ç®—å‡ºå…ƒç´ åœ¨æ•°ç»„ä¸­çš„å­˜æ”¾ä¸‹æ ‡ï¼Œç„¶åå°†å…ƒç´ æ’å…¥åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œå¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œä¼šä½¿ç”¨é“¾è¡¨æ¥è§£å†³ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦å¤§äº 8ï¼Œä¼šè½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚

â‘¡ã€TreeMap æ˜¯åŸºäºçº¢é»‘æ ‘å®ç°çš„ï¼Œput å…ƒç´ çš„æ—¶å€™ä¼šå…ˆåˆ¤æ–­æ ¹èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œç›´æ¥æ’å…¥åˆ°æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œä¼šé€šè¿‡ key çš„æ¯”è¾ƒå™¨æ¥åˆ¤æ–­å…ƒç´ åº”è¯¥æ’å…¥åˆ°å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ã€‚

åœ¨æ²¡æœ‰å‘ç”Ÿå“ˆå¸Œå†²çªçš„æƒ…å†µä¸‹ï¼ŒHashMap çš„æŸ¥æ‰¾æ•ˆç‡æ˜¯ `O(1)`ã€‚é€‚ç”¨äºæŸ¥æ‰¾æ“ä½œæ¯”è¾ƒé¢‘ç¹çš„åœºæ™¯ã€‚

TreeMap çš„æŸ¥æ‰¾æ•ˆç‡æ˜¯ `O(logn)`ã€‚å¹¶ä¸”ä¿è¯äº†å…ƒç´ çš„é¡ºåºï¼Œå› æ­¤é€‚ç”¨äºéœ€è¦å¤§é‡èŒƒå›´æŸ¥æ‰¾æˆ–è€…æœ‰åºéå†çš„åœºæ™¯ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šçŸ¥é“å“ªäº›é›†åˆï¼Œè®²è®² HashMap å’Œ TreeMap çš„åŒºåˆ«ï¼Œè®²è®²ä¸¤è€…åº”ç”¨åœºæ™¯çš„åŒºåˆ«
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šHashMapå’ŒTreeMapåŒºåˆ«

## Set

### 30.è®²è®² HashSet çš„åº•å±‚å®ç°ï¼Ÿ

HashSet æ˜¯ç”± HashMap å®ç°çš„ï¼Œåªä¸è¿‡å€¼ç”±ä¸€ä¸ªå›ºå®šçš„ Object å¯¹è±¡å¡«å……ï¼Œè€Œé”®ç”¨äºæ“ä½œã€‚

```java
public class HashSet<E>
    extends AbstractSet<E>
    implements Set<E>, Cloneable, java.io.Serializable
{
    static final long serialVersionUID = -5024744406713321676L;
    private transient HashMap<E,Object> map;
    // Dummy value to associate with an Object in the backing Map
    private static final Object PRESENT = new Object();
    // â€¦â€¦
}
```

å®é™…å¼€å‘ä¸­ï¼ŒHashSet å¹¶ä¸å¸¸ç”¨ï¼Œæ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŒ‰ç…§é¡ºåºå­˜å‚¨ä¸€ç»„å…ƒç´ ï¼Œé‚£ä¹ˆ ArrayList å’Œ LinkedList æ›´é€‚åˆï¼›å¦‚æœæˆ‘ä»¬éœ€è¦å­˜å‚¨é”®å€¼å¯¹å¹¶æ ¹æ®é”®è¿›è¡ŒæŸ¥æ‰¾ï¼Œé‚£ä¹ˆ HashMap å¯èƒ½æ›´é€‚åˆã€‚

HashSet ä¸»è¦ç”¨äºå»é‡ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ç»Ÿè®¡ä¸€ç¯‡æ–‡ç« ä¸­æœ‰å¤šå°‘ä¸ªä¸é‡å¤çš„å•è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ HashSet æ¥å®ç°ã€‚

```java
// åˆ›å»ºä¸€ä¸ª HashSet å¯¹è±¡
HashSet<String> set = new HashSet<>();

// æ·»åŠ å…ƒç´ 
set.add("æ²‰é»˜");
set.add("ç‹äºŒ");
set.add("é™ˆæ¸…æ‰¬");
set.add("æ²‰é»˜");

// è¾“å‡º HashSet çš„å…ƒç´ ä¸ªæ•°
System.out.println("HashSet size: " + set.size()); // output: 3

// éå† HashSet
for (String s : set) {
    System.out.println(s);
}
```

HashSet ä¼šè‡ªåŠ¨å»é‡ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨ HashMap å®ç°çš„ï¼ŒHashMap çš„é”®æ˜¯å”¯ä¸€çš„ï¼Œç›¸åŒé”®ä¼šè¦†ç›–æ‰åŸæ¥çš„é”®ï¼Œäºæ˜¯ç¬¬äºŒæ¬¡ add ä¸€ä¸ªç›¸åŒé”®çš„å…ƒç´ ä¼šç›´æ¥è¦†ç›–æ‰ç¬¬ä¸€æ¬¡çš„é”®ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHashSetå¥—å¨ƒ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-36.png)

#### HashSet å’Œ ArrayList çš„åŒºåˆ«

- ArrayList æ˜¯åŸºäºåŠ¨æ€æ•°ç»„å®ç°çš„ï¼ŒHashSet æ˜¯åŸºäº HashMap å®ç°çš„ã€‚
- ArrayList å…è®¸é‡å¤å…ƒç´ å’Œ null å€¼ï¼Œå¯ä»¥æœ‰å¤šä¸ªç›¸åŒçš„å…ƒç´ ï¼›HashSet ä¿è¯æ¯ä¸ªå…ƒç´ å”¯ä¸€ï¼Œä¸å…è®¸é‡å¤å…ƒç´ ï¼ŒåŸºäºå…ƒç´ çš„ hashCode å’Œ equals æ–¹æ³•æ¥ç¡®å®šå…ƒç´ çš„å”¯ä¸€æ€§ã€‚
- ArrayList ä¿æŒå…ƒç´ çš„æ’å…¥é¡ºåºï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ï¼›HashSet ä¸ä¿è¯å…ƒç´ çš„é¡ºåºï¼Œå…ƒç´ çš„å­˜å‚¨é¡ºåºä¾èµ–äºå“ˆå¸Œç®—æ³•ï¼Œå¹¶ä¸”å¯èƒ½éšç€å…ƒç´ çš„æ·»åŠ æˆ–åˆ é™¤è€Œæ”¹å˜ã€‚

#### HashSet æ€ä¹ˆåˆ¤æ–­å…ƒç´ é‡å¤ï¼Œé‡å¤äº†æ˜¯å¦ put

HashSet çš„ add æ–¹æ³•æ˜¯é€šè¿‡è°ƒç”¨ HashMap çš„ put æ–¹æ³•å®ç°çš„ï¼š

```java
public boolean add(E e) {
    return map.put(e, PRESENT)==null;
}
```

æ‰€ä»¥ HashSet åˆ¤æ–­å…ƒç´ é‡å¤çš„é€»è¾‘åº•å±‚ä¾ç„¶æ˜¯ HashMap çš„åº•å±‚é€»è¾‘ï¼š

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHashMapæ’å…¥æ•°æ®æµç¨‹å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/collection-13.jpg)

HashMap åœ¨æ’å…¥å…ƒç´ æ—¶ï¼Œé€šå¸¸éœ€è¦ä¸‰æ­¥ï¼š

ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡ hash æ–¹æ³•è®¡ç®— key çš„å“ˆå¸Œå€¼ã€‚

```java
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```

ç¬¬äºŒæ­¥ï¼Œæ•°ç»„è¿›è¡Œç¬¬ä¸€æ¬¡æ‰©å®¹ã€‚

```java
if ((tab = table) == null || (n = tab.length) == 0)
    n = (tab = resize()).length;
```

ç¬¬ä¸‰æ­¥ï¼Œæ ¹æ®å“ˆå¸Œå€¼è®¡ç®— key åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå¦‚æœå¯¹åº”ä¸‹æ ‡æ­£å¥½æ²¡æœ‰å­˜æ”¾æ•°æ®ï¼Œåˆ™ç›´æ¥æ’å…¥ã€‚

```java
if ((p = tab[i = (n - 1) & hash]) == null)
    tab[i] = newNode(hash, key, value, null);
```

å¦‚æœå¯¹åº”ä¸‹æ ‡å·²ç»æœ‰æ•°æ®äº†ï¼Œå°±éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºç›¸åŒçš„ keyï¼Œæ˜¯åˆ™è¦†ç›– valueï¼Œå¦åˆ™éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºæ ‘èŠ‚ç‚¹ï¼Œæ˜¯åˆ™å‘æ ‘ä¸­æ’å…¥èŠ‚ç‚¹ï¼Œå¦åˆ™å‘é“¾è¡¨ä¸­æ’å…¥æ•°æ®ã€‚

```java
else {
    Node<K,V> e; K k;
    if (p.hash == hash &&
        ((k = p.key) == key || (key != null && key.equals(k))))
        e = p;
    else if (p instanceof TreeNode)
        e = ((TreeNode<K,V>)p).putTreeVal(this, tab, hash, key, value);
    else {
        for (int binCount = 0; ; ++binCount) {
            if ((e = p.next) == null) {
                p.next = newNode(hash, key, value, null);
                if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st
                    treeifyBin(tab, hash);
                break;
            }
            if (e.hash == hash &&
                ((k = e.key) == key || (key != null && key.equals(k))))
                break;
            p = e;
        }
    }
}
```

ä¹Ÿå°±æ˜¯è¯´ï¼ŒHashSet é€šè¿‡å…ƒç´ çš„å“ˆå¸Œå€¼æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦é‡å¤ï¼Œå¦‚æœé‡å¤äº†ï¼Œä¼šè¦†ç›–åŸæ¥çš„å€¼ã€‚

```java
if (e != null) { // existing mapping for key
    V oldValue = e.value;
    if (!onlyIfAbsent || oldValue == null)
        e.value = value;
    afterNodeAccess(e);
    return oldValue;
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šHashSet å’Œ ArrayList çš„åŒºåˆ«
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šHashSet æ€ä¹ˆåˆ¤æ–­å…ƒç´ é‡å¤ï¼Œé‡å¤äº†æ˜¯å¦ put


è¯´ä¸€ç‚¹å¿ƒé‡Œè¯ã€‚

ç½‘ä¸Šçš„å…«è‚¡å…¶å®ä¸å°‘ï¼Œè¿™æ ·å¯ä»¥ç»™å¤§å®¶æä¾›æ›´å¤šçš„é€‰æ‹©ã€‚

é¢æ¸£é€†è¢­ç¬¬äºŒç‰ˆæ˜¯åœ¨æ˜Ÿçƒå˜‰å®¾ä¸‰åˆ†æ¶çš„åˆç‰ˆåŸºç¡€ä¸Šï¼ŒåŠ å…¥äº†äºŒå“¥è‡ªå·±çš„æ€è€ƒï¼ŒåŠ å…¥äº† 1000 å¤šä»½çœŸå®é¢ç»ä¹‹åçš„ç»“æœï¼Œå¹¶ä¸”ä»ä» 24 å±Šåˆ° 25 å±Šï¼Œå¸®åŠ©äº†å¾ˆå¤šå°ä¼™ä¼´ã€‚æœªæ¥çš„ 26ã€27 å±Šï¼Œä¹Ÿå°†å› æ­¤å—ç›Šï¼Œä»è€Œæ‹¿åˆ°å¿ƒä»ªçš„ offerã€‚

èƒ½å¸®åŠ©åˆ°å¤§å®¶ï¼Œæˆ‘å¾ˆæ¬£æ…°ï¼Œå¹¶ä¸”åœ¨é‡åˆ¶é¢æ¸£é€†è¢­çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿæˆé•¿äº†å¾ˆå¤šï¼Œå¾ˆå¤šè–„å¼±çš„åŸºç¡€ç¯èŠ‚éƒ½å¾—åˆ°äº†åŠ å¼ºã€‚

![è¿™æ˜¯æˆ‘åœ¨ç‰›å®¢ä¸Šçœ‹åˆ°çš„](https://cdn.tobebetterjavaer.com/stutymore/javase-20241230165717.png)

![æˆ‘è§‰å¾—éƒ½æ˜¯è›®ä¸­è‚¯çš„è¯„ä»·](https://cdn.tobebetterjavaer.com/stutymore/javase-20241230165749.png)

![åŒéç¡•æµ‹å¼€å¯¹äºŒå“¥å…«è‚¡çš„è®¤å¯](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108181632.png)

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªä½›ç³»çš„äººï¼Œä¸æ„¿æ„å’Œåˆ«äººäº‰ä¸ªé«˜ä½ï¼Œä¹Ÿä¸æ„¿æ„å»åˆ»æ„å®£ä¼ è‡ªå·±çš„ä½œå“ã€‚

æˆ‘å–œæ¬¢é™å¾…èŠ±å¼€ã€‚

å¦‚æœä½ è§‰å¾—é¢æ¸£é€†è¢­è¿˜ä¸é”™ï¼Œå¯ä»¥å‘Šè¯‰å­¦å¼Ÿå­¦å¦¹ä»¬æœ‰è¿™æ ·ä¸€ä»½å…è´¹çš„å­¦ä¹ èµ„æ–™ã€‚

æˆ‘è¿˜ä¼šç»§ç»­ä¼˜åŒ–ï¼Œä¹Ÿä¸ç¡®å®šç¬¬ä¸‰ç‰ˆä»€ä¹ˆæ—¶å€™ä¼šæ¥ï¼Œä½†æˆ‘ä¼šå°½åŠ›ã€‚

æ„¿å¤§å®¶éƒ½æœ‰ä¸€ä¸ªå…‰æ˜çš„æœªæ¥ã€‚

è¿™æ¬¡ä»ç„¶æ˜¯ä¸‰ä¸ªç‰ˆæœ¬ï¼Œäº®ç™½ã€æš—é»‘å’Œ epub ç‰ˆæœ¬ã€‚ç»™å¤§å®¶å±•ç¤ºå…¶ä¸­ä¸€ä¸ª epub ç‰ˆæœ¬å§ï¼Œæœ‰äº›å°ä¼™ä¼´å¾ˆæ€¥éœ€è¿™ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¹Ÿæ»¡è¶³å¤§å®¶äº†ã€‚

![é¢æ¸£é€†è¢­é›†åˆæ¡†æ¶ç¯‡ï¼šepub ç‰ˆæœ¬](https://cdn.tobebetterjavaer.com/stutymore/collection-20250108182335.png)

ç”±äº PDF æ²¡åŠæ³•è‡ªæˆ‘æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦æœ€æ–°ç‰ˆçš„å°ä¼™ä¼´ï¼Œå¯ä»¥å¾®ä¿¡æœã€**æ²‰é»˜ç‹äºŒ**ã€‘ï¼Œæˆ–è€…æ‰«æ/é•¿æŒ‰è¯†åˆ«ä¸‹é¢çš„äºŒç»´ç ï¼Œå…³æ³¨äºŒå“¥çš„å…¬ä¼—å·ï¼Œå›å¤ã€**222**ã€‘å³å¯æ‹‰å–æœ€æ–°ç‰ˆæœ¬ã€‚

<div style="text-align: center; margin: 20px 0;">
    <img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="å¾®ä¿¡æ‰«ç æˆ–è€…é•¿æŒ‰è¯†åˆ«ï¼Œæˆ–è€…å¾®ä¿¡æœç´¢â€œæ²‰é»˜ç‹äºŒâ€" style="max-width: 100%; height: auto;  border-radius: 10px;" />
</div>

å½“ç„¶äº†ï¼Œè¯·å…è®¸æˆ‘çš„ä¸€ç‚¹ç‚¹ç§å¿ƒï¼Œé‚£å°±æ˜¯æ˜Ÿçƒçš„ PDF ç‰ˆæœ¬ä¼šæ¯”å…¬ä¼—å·æ—©ä¸€ä¸ªæœˆæ—¶é—´ï¼Œæ¯•ç«Ÿæ˜Ÿçƒç”¨æˆ·éƒ½ä»˜è´¹è¿‡äº†ï¼Œæˆ‘æœ‰å¿…è¦è®©ä»–ä»¬å…ˆäº«å—åˆ°ä¸€ç‚¹ç‚¹ç¦åˆ©ã€‚ç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½èƒ½ç†è§£ï¼Œæ¯•ç«Ÿåœ¨çº¿ç‰ˆæ˜¯å…è´¹çš„ï¼ŒCDNã€æœåŠ¡å™¨ã€åŸŸåã€OSS ç­‰ç­‰éƒ½æ˜¯éœ€è¦æˆæœ¬çš„ã€‚

æ›´åˆ«è¯´æˆ‘ä»˜å‡ºçš„æ—¶é—´å’Œç²¾åŠ›äº†ï¼Œå¤§å®¶è§‰å¾—æœ‰å¸®åŠ©è¿˜è¯·ç»™ä¸ªå£ç¢‘ï¼Œè®©ä½ èº«è¾¹çš„åŒäº‹ã€åŒå­¦éƒ½èƒ½å—ç›Šåˆ°ã€‚

![å›å¤ 222](https://cdn.tobebetterjavaer.com/stutymore/collection-20250512160410.png)

æˆ‘æŠŠäºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ã€JVM è¿›é˜¶ä¹‹è·¯ã€å¹¶å‘ç¼–ç¨‹è¿›é˜¶ä¹‹è·¯ï¼Œä»¥åŠæ‰€æœ‰é¢æ¸£é€†è¢­çš„ç‰ˆæœ¬éƒ½æ”¾è¿›æ¥äº†ï¼Œæ¶µç›– JavaåŸºç¡€ã€Javaé›†åˆã€Javaå¹¶å‘ã€JVMã€Springã€MyBatisã€è®¡ç®—æœºç½‘ç»œã€æ“ä½œç³»ç»Ÿã€MySQLã€Redisã€RocketMQã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ã€è®¾è®¡æ¨¡å¼ã€Linux ç­‰ 16 ä¸ªå¤§çš„ä¸»é¢˜ï¼Œå…±æœ‰ 40 å¤šä¸‡å­—ï¼Œ2000+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯è¯šæ„æ»¡æ»¡ã€‚

---

å›¾æ–‡è¯¦è§£ 29 é“ Java é›†åˆæ¡†æ¶é¢è¯•é«˜é¢‘é¢˜ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/ptbM0EqlnCWeWm9VdSCDLg)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/SHkQ7LEOT0itt4bXMoDBPw)ã€‚



_æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ_ã€‚

**ç³»åˆ—å†…å®¹**ï¼š

- [é¢æ¸£é€†è¢­ Java SE ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javase.html)
- [é¢æ¸£é€†è¢­ Java é›†åˆæ¡†æ¶ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javathread.html)
- [é¢æ¸£é€†è¢­ Java å¹¶å‘ç¼–ç¨‹ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/collection.html)
- [é¢æ¸£é€†è¢­ JVM ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/jvm.html)
- [é¢æ¸£é€†è¢­ Spring ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/spring.html)
- [é¢æ¸£é€†è¢­ Redis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/redis.html)
- [é¢æ¸£é€†è¢­ MyBatis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mybatis.html)
- [é¢æ¸£é€†è¢­ MySQL ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mysql.html)
- [é¢æ¸£é€†è¢­æ“ä½œç³»ç»Ÿç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/os.html)
- [é¢æ¸£é€†è¢­è®¡ç®—æœºç½‘ç»œç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/network.html)
- [é¢æ¸£é€†è¢­ RocketMQ ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/rocketmq.html)
- [é¢æ¸£é€†è¢­åˆ†å¸ƒå¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/fenbushi.html)
- [é¢æ¸£é€†è¢­å¾®æœåŠ¡ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/weifuwu.html)
- [é¢æ¸£é€†è¢­è®¾è®¡æ¨¡å¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/shejimoshi.html)
- [é¢æ¸£é€†è¢­ Linux ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/linux.html)