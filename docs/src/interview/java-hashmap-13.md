---
title: 13 é“ Java HashMap ç²¾é€‰é¢è¯•é¢˜ğŸ‘
shortTitle: 13é“HashMapç²¾é€‰é¢è¯•é¢˜ğŸ‘
category:
  - æ±‚èŒé¢è¯•
tag:
  - é¢è¯•é¢˜&å…«è‚¡æ–‡
description: äºŒå“¥çš„Javaè¿›é˜¶ä¹‹è·¯ï¼Œå°ç™½çš„é›¶åŸºç¡€Javaæ•™ç¨‹ï¼Œ13 é“ Java HashMap ç²¾é€‰é¢è¯•é¢˜ğŸ‘
head:
  - - meta
    - name: keywords
      content: Java,java,hashmap,é¢è¯•é¢˜,å…«è‚¡æ–‡
---

# Java HashMapç²¾é€‰é¢è¯•é¢˜


å¯¹äº Java æ±‚èŒè€…æ¥è¯´ï¼ŒHashMap å¯è°“æ˜¯é‡ä¸­ä¹‹é‡ï¼Œæ˜¯é¢è¯•çš„å¿…è€ƒç‚¹ã€‚ç„¶è€Œ HashMap çš„çŸ¥è¯†ç‚¹éå¸¸å¤šï¼Œå¤ä¹ èµ·æ¥èŠ±è´¹ç²¾åŠ›å¾ˆå¤§ã€‚



### 01ã€HashMapçš„åº•å±‚æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿ

JDK 7 ä¸­ï¼ŒHashMap ç”±â€œæ•°ç»„+é“¾è¡¨â€ç»„æˆï¼Œæ•°ç»„æ˜¯ HashMap çš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ã€‚

åœ¨ JDK 8 ä¸­ï¼ŒHashMap ç”±â€œæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘â€ç»„æˆã€‚é“¾è¡¨è¿‡é•¿ï¼Œä¼šä¸¥é‡å½±å“ HashMap çš„æ€§èƒ½ï¼Œè€Œçº¢é»‘æ ‘æœç´¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)ï¼Œè€Œé“¾è¡¨æ˜¯ç³Ÿç³•çš„ O(n)ã€‚å› æ­¤ï¼ŒJDK 8 å¯¹æ•°æ®ç»“æ„åšäº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œå¼•å…¥äº†çº¢é»‘æ ‘ï¼Œé“¾è¡¨å’Œçº¢é»‘æ ‘åœ¨è¾¾åˆ°ä¸€å®šæ¡ä»¶ä¼šè¿›è¡Œè½¬æ¢ï¼š

- å½“é“¾è¡¨è¶…è¿‡ 8 ä¸”æ•°æ®æ€»é‡è¶…è¿‡ 64 æ—¶ä¼šè½¬çº¢é»‘æ ‘ã€‚
- å°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘å‰ä¼šåˆ¤æ–­ï¼Œå¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦å°äº 64ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©å…ˆè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œè€Œä¸æ˜¯è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚

é“¾è¡¨é•¿åº¦è¶…è¿‡ 8 ä½“ç°åœ¨ putVal æ–¹æ³•ä¸­çš„è¿™æ®µä»£ç ï¼š

```java
//é“¾è¡¨é•¿åº¦å¤§äº8è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç†
if (binCount >= TREEIFY_THRESHOLD - 1) // -1 for 1st
    treeifyBin(tab, hash);
```

 table é•¿åº¦ä¸º 64 ä½“ç°åœ¨ treeifyBin æ–¹æ³•ä¸­çš„è¿™æ®µä»£ç ï¼šï¼š

```java
final void treeifyBin(Node<K,V>[] tab, int hash) {
    int n, index; Node<K,V> e;
    if (tab == null || (n = tab.length) < MIN_TREEIFY_CAPACITY)
        resize();
}
```

MIN_TREEIFY_CAPACITY çš„å€¼æ­£å¥½ä¸º 64ã€‚

```java
static final int MIN_TREEIFY_CAPACITY = 64;
```

JDK 8 ä¸­ HashMap çš„ç»“æ„ç¤ºæ„å›¾ï¼š


![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-interview-01.png)

### 02ã€ä¸ºä»€ä¹ˆé“¾è¡¨æ”¹ä¸ºçº¢é»‘æ ‘çš„é˜ˆå€¼æ˜¯ 8?

å› ä¸ºæ³Šæ¾åˆ†å¸ƒï¼Œæˆ‘ä»¬æ¥çœ‹ä½œè€…åœ¨æºç ä¸­çš„æ³¨é‡Šï¼š

>Because TreeNodes are about twice the size of regular nodes, we
 use them only when bins contain enough nodes to warrant use
 (see TREEIFY_THRESHOLD). And when they become too small (due to
 removal or resizing) they are converted back to plain bins.  In
 usages with well-distributed user hashCodes, tree bins are
 rarely used.  Ideally, under random hashCodes, the frequency of
 nodes in bins follows a Poisson distribution
 (http://en.wikipedia.org/wiki/Poisson_distribution) with a
 parameter of about 0.5 on average for the default resizing
 threshold of 0.75, although with a large variance because of
 resizing granularity. Ignoring variance, the expected
 occurrences of list size k are (exp(-0.5) pow(0.5, k) /
 factorial(k)). The first values are:
 0:    0.60653066<br>
 1:    0.30326533<br>
 2:    0.07581633<br>
 3:    0.01263606<br>
 4:    0.00157952<br>
 5:    0.00015795<br>
 6:    0.00001316<br>
 7:    0.00000094<br>
 8:    0.00000006<br>
 more: less than 1 in ten million

ç¿»è¯‘è¿‡æ¥å¤§æ¦‚çš„æ„æ€æ˜¯ï¼šç†æƒ³æƒ…å†µä¸‹ä½¿ç”¨éšæœºçš„å“ˆå¸Œç ï¼Œå®¹å™¨ä¸­èŠ‚ç‚¹åˆ†å¸ƒåœ¨ hash æ¡¶ä¸­çš„é¢‘ç‡éµå¾ªæ³Šæ¾åˆ†å¸ƒï¼ŒæŒ‰ç…§æ³Šæ¾åˆ†å¸ƒçš„è®¡ç®—å…¬å¼è®¡ç®—å‡ºäº†æ¡¶ä¸­å…ƒç´ ä¸ªæ•°å’Œæ¦‚ç‡çš„å¯¹ç…§è¡¨ï¼Œå¯ä»¥çœ‹åˆ°é“¾è¡¨ä¸­å…ƒç´ ä¸ªæ•°ä¸º 8 æ—¶çš„æ¦‚ç‡å·²ç»éå¸¸å°ï¼Œå†å¤šçš„å°±æ›´å°‘äº†ï¼Œæ‰€ä»¥åŸä½œè€…åœ¨é€‰æ‹©é“¾è¡¨å…ƒç´ ä¸ªæ•°æ—¶é€‰æ‹©äº† 8ï¼Œæ˜¯æ ¹æ®æ¦‚ç‡ç»Ÿè®¡è€Œé€‰æ‹©çš„ã€‚

### 03ã€è§£å†³hashå†²çªçš„åŠæ³•æœ‰å“ªäº›ï¼ŸHashMapç”¨çš„å“ªç§ï¼Ÿ

è§£å†³Hashå†²çªæ–¹æ³•æœ‰ï¼š

- å¼€æ”¾å®šå€æ³•ï¼šä¹Ÿç§°ä¸ºå†æ•£åˆ—æ³•ï¼ŒåŸºæœ¬æ€æƒ³å°±æ˜¯ï¼Œå¦‚æœp=H(key)å‡ºç°å†²çªæ—¶ï¼Œåˆ™ä»¥pä¸ºåŸºç¡€ï¼Œå†æ¬¡hashï¼Œp1=H(p),å¦‚æœp1å†æ¬¡å‡ºç°å†²çªï¼Œåˆ™ä»¥p1ä¸ºåŸºç¡€ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªä¸å†²çªçš„å“ˆå¸Œåœ°å€piã€‚å› æ­¤å¼€æ”¾å®šå€æ³•æ‰€éœ€è¦çš„hashè¡¨çš„é•¿åº¦è¦å¤§äºç­‰äºæ‰€éœ€è¦å­˜æ”¾çš„å…ƒç´ ï¼Œè€Œä¸”å› ä¸ºå­˜åœ¨å†æ¬¡hashï¼Œæ‰€ä»¥åªèƒ½åœ¨åˆ é™¤çš„èŠ‚ç‚¹ä¸Šåšæ ‡è®°ï¼Œè€Œä¸èƒ½çœŸæ­£åˆ é™¤èŠ‚ç‚¹ã€‚
- å†å“ˆå¸Œæ³•ï¼šåŒé‡æ•£åˆ—ï¼Œå¤šé‡æ•£åˆ—ï¼Œæä¾›å¤šä¸ªä¸åŒçš„hashå‡½æ•°ï¼Œå½“R1=H1(key1)å‘ç”Ÿå†²çªæ—¶ï¼Œå†è®¡ç®—R2=H2(key1)ï¼Œç›´åˆ°æ²¡æœ‰å†²çªä¸ºæ­¢ã€‚è¿™æ ·åšè™½ç„¶ä¸æ˜“äº§ç”Ÿå †é›†ï¼Œä½†å¢åŠ äº†è®¡ç®—çš„æ—¶é—´ã€‚
- é“¾åœ°å€æ³•ï¼šæ‹‰é“¾æ³•ï¼Œå°†å“ˆå¸Œå€¼ç›¸åŒçš„å…ƒç´ æ„æˆä¸€ä¸ªåŒä¹‰è¯çš„å•é“¾è¡¨ï¼Œå¹¶å°†å•é“¾è¡¨çš„å¤´æŒ‡é’ˆå­˜æ”¾åœ¨å“ˆå¸Œè¡¨çš„ç¬¬iä¸ªå•å…ƒä¸­ï¼ŒæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ä¸»è¦åœ¨åŒä¹‰è¯é“¾è¡¨ä¸­è¿›è¡Œã€‚é“¾è¡¨æ³•é€‚ç”¨äºç»å¸¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„æƒ…å†µã€‚
- å»ºç«‹å…¬å…±æº¢å‡ºåŒºï¼šå°†å“ˆå¸Œè¡¨åˆ†ä¸ºå…¬å…±è¡¨å’Œæº¢å‡ºè¡¨ï¼Œå½“æº¢å‡ºå‘ç”Ÿæ—¶ï¼Œå°†æ‰€æœ‰æº¢å‡ºæ•°æ®ç»Ÿä¸€æ”¾åˆ°æº¢å‡ºåŒºã€‚

HashMapä¸­é‡‡ç”¨çš„æ˜¯é“¾åœ°å€æ³• ã€‚

### 04ã€ä¸ºä»€ä¹ˆåœ¨è§£å†³ hash å†²çªçš„æ—¶å€™ï¼Œä¸ç›´æ¥ç”¨çº¢é»‘æ ‘ï¼Ÿè€Œé€‰æ‹©å…ˆç”¨é“¾è¡¨ï¼Œå†è½¬çº¢é»‘æ ‘?

å› ä¸ºçº¢é»‘æ ‘éœ€è¦è¿›è¡Œå·¦æ—‹ï¼Œå³æ—‹ï¼Œå˜è‰²è¿™äº›æ“ä½œæ¥ä¿æŒå¹³è¡¡ï¼Œè€Œå•é“¾è¡¨ä¸éœ€è¦ã€‚

å½“å…ƒç´ å°äº 8 ä¸ªçš„æ—¶å€™ï¼Œæ­¤æ—¶åšæŸ¥è¯¢æ“ä½œï¼Œé“¾è¡¨ç»“æ„å·²ç»èƒ½ä¿è¯æŸ¥è¯¢æ€§èƒ½ã€‚å½“å…ƒç´ å¤§äº 8 ä¸ªçš„æ—¶å€™ï¼Œ çº¢é»‘æ ‘æœç´¢æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)ï¼Œè€Œé“¾è¡¨æ˜¯ O(n)ï¼Œæ­¤æ—¶éœ€è¦çº¢é»‘æ ‘æ¥åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†æ˜¯æ–°å¢èŠ‚ç‚¹çš„æ•ˆç‡å˜æ…¢äº†ã€‚

å› æ­¤ï¼Œå¦‚æœä¸€å¼€å§‹å°±ç”¨çº¢é»‘æ ‘ç»“æ„ï¼Œå…ƒç´ å¤ªå°‘ï¼Œæ–°å¢æ•ˆç‡åˆæ¯”è¾ƒæ…¢ï¼Œæ— ç–‘è¿™æ˜¯æµªè´¹æ€§èƒ½çš„ã€‚

### 05ã€HashMapé»˜è®¤åŠ è½½å› å­æ˜¯å¤šå°‘ï¼Ÿä¸ºä»€ä¹ˆæ˜¯ 0.75ï¼Œä¸æ˜¯ 0.6 æˆ–è€… 0.8 ï¼Ÿ

ä½œä¸ºä¸€èˆ¬è§„åˆ™ï¼Œé»˜è®¤è´Ÿè½½å› å­ï¼ˆ0.75ï¼‰åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¸Šæä¾›äº†å¾ˆå¥½çš„æŠ˜è¡·ã€‚

[è¯¦æƒ…å‚ç…§è¿™ç¯‡](https://mp.weixin.qq.com/s/a3qfatEWizKK1CpYaxVBbA)

### 06ã€HashMap ä¸­  key çš„å­˜å‚¨ç´¢å¼•æ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Ÿ

é¦–å…ˆæ ¹æ®keyçš„å€¼è®¡ç®—å‡ºhashcodeçš„å€¼ï¼Œç„¶åæ ¹æ®hashcodeè®¡ç®—å‡ºhashå€¼ï¼Œæœ€åé€šè¿‡hash&ï¼ˆlength-1ï¼‰è®¡ç®—å¾—åˆ°å­˜å‚¨çš„ä½ç½®ã€‚


[è¯¦æƒ…å‚ç…§è¿™ç¯‡](https://mp.weixin.qq.com/s/aS2dg4Dj1Efwujmv-6YTBg)

### 07ã€JDK 8 ä¸ºä»€ä¹ˆè¦ hashcode å¼‚æˆ–å…¶å³ç§»åå…­ä½çš„å€¼ï¼Ÿ

å› ä¸ºåœ¨JDK 7 ä¸­æ‰°åŠ¨äº† 4 æ¬¡ï¼Œè®¡ç®— hash å€¼çš„æ€§èƒ½ä¼šç¨å·®ä¸€ç‚¹ç‚¹ã€‚ 

ä»é€Ÿåº¦ã€åŠŸæ•ˆã€è´¨é‡æ¥è€ƒè™‘ï¼ŒJDK 8 ä¼˜åŒ–äº†é«˜ä½è¿ç®—çš„ç®—æ³•ï¼Œé€šè¿‡hashCode()çš„é«˜16ä½å¼‚æˆ–ä½16ä½å®ç°ï¼š`(h = k.hashCode()) ^ (h >>> 16)`ã€‚

è¿™ä¹ˆåšå¯ä»¥åœ¨æ•°ç»„ table çš„ length æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œä¹Ÿèƒ½ä¿è¯è€ƒè™‘åˆ°é«˜ä½Bitéƒ½å‚ä¸åˆ°Hashçš„è®¡ç®—ä¸­ï¼ŒåŒæ—¶ä¸ä¼šæœ‰å¤ªå¤§çš„å¼€é”€ã€‚

### 08ã€ä¸ºä»€ä¹ˆ hash å€¼è¦ä¸length-1ç›¸ä¸ï¼Ÿ

- æŠŠ hash å€¼å¯¹æ•°ç»„é•¿åº¦å–æ¨¡è¿ç®—ï¼Œæ¨¡è¿ç®—çš„æ¶ˆè€—å¾ˆå¤§ï¼Œæ²¡æœ‰ä½è¿ç®—å¿«ã€‚
- å½“ length æ€»æ˜¯ 2 çš„næ¬¡æ–¹æ—¶ï¼Œ`h& (length-1) `è¿ç®—ç­‰ä»·äºå¯¹lengthå–æ¨¡ï¼Œä¹Ÿå°±æ˜¯ h%lengthï¼Œä½†æ˜¯ & æ¯” % å…·æœ‰æ›´é«˜çš„æ•ˆç‡ã€‚

### 09ã€HashMapæ•°ç»„çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹ï¼Ÿ

2 çš„ N æ¬¡å¹‚æœ‰åŠ©äºå‡å°‘ç¢°æ’çš„å‡ ç‡ã€‚å¦‚æœ length ä¸º2çš„å¹‚æ¬¡æ–¹ï¼Œåˆ™ length-1 è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å¿…å®šæ˜¯11111â€¦â€¦çš„å½¢å¼ï¼Œåœ¨ä¸hçš„äºŒè¿›åˆ¶ä¸æ“ä½œæ•ˆç‡ä¼šéå¸¸çš„å¿«ï¼Œè€Œä¸”ç©ºé—´ä¸æµªè´¹ã€‚æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œçœ‹ä¸‹å›¾ï¼š


![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-interview-02.png)

å½“ length =15æ—¶ï¼Œ6 å’Œ 7 çš„ç»“æœä¸€æ ·ï¼Œè¿™æ ·è¡¨ç¤ºä»–ä»¬åœ¨ table å­˜å‚¨çš„ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯äº§ç”Ÿäº†ç¢°æ’ï¼Œ6ã€7å°±ä¼šåœ¨ä¸€ä¸ªä½ç½®å½¢æˆé“¾è¡¨ï¼Œ4å’Œ5çš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æŸ¥è¯¢é€Ÿåº¦é™ä½ã€‚

å¦‚æœæˆ‘ä»¬è¿›ä¸€æ­¥åˆ†æï¼Œè¿˜ä¼šå‘ç°ç©ºé—´æµªè´¹éå¸¸å¤§ï¼Œä»¥ length=15 ä¸ºä¾‹ï¼Œåœ¨ 1ã€3ã€5ã€7ã€9ã€11ã€13ã€15 è¿™å…«å¤„æ²¡æœ‰å­˜æ”¾æ•°æ®ã€‚å› ä¸ºhashå€¼åœ¨ä¸14ï¼ˆå³ 1110ï¼‰è¿›è¡Œ&è¿ç®—æ—¶ï¼Œå¾—åˆ°çš„ç»“æœæœ€åä¸€ä½æ°¸è¿œéƒ½æ˜¯0ï¼Œå³ 0001ã€0011ã€0101ã€0111ã€1001ã€1011ã€1101ã€1111ä½ç½®å¤„æ˜¯ä¸å¯èƒ½å­˜å‚¨æ•°æ®çš„ã€‚

**å†è¡¥å……æ•°ç»„å®¹é‡è®¡ç®—çš„å°å¥¥ç§˜ã€‚**

HashMap æ„é€ å‡½æ•°å…è®¸ç”¨æˆ·ä¼ å…¥çš„å®¹é‡ä¸æ˜¯ 2 çš„ n æ¬¡æ–¹ï¼Œå› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨åœ°å°†ä¼ å…¥çš„å®¹é‡è½¬æ¢ä¸º 2 çš„ n æ¬¡æ–¹ã€‚ä¼šå–å¤§äºæˆ–ç­‰äºè¿™ä¸ªæ•°çš„ ä¸”æœ€è¿‘çš„2æ¬¡å¹‚ä½œä¸º table æ•°ç»„çš„åˆå§‹å®¹é‡ï¼Œä½¿ç”¨tableSizeFor(int)æ–¹æ³•ï¼Œå¦‚ tableSizeFor(10) = 16ï¼ˆ2 çš„ 4 æ¬¡å¹‚ï¼‰ï¼ŒtableSizeFor(20) = 32ï¼ˆ2 çš„ 5 æ¬¡å¹‚ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ table æ•°ç»„çš„é•¿åº¦æ€»æ˜¯ 2 çš„æ¬¡å¹‚ã€‚JDK 8 æºç å¦‚ä¸‹ï¼š

```java
static final int tableSizeFor(int cap) {
        int n = cap - 1;
        n |= n >>> 1;
        n |= n >>> 2;
        n |= n >>> 4;
        n |= n >>> 8;
        n |= n >>> 16;
        return (n < 0) ? 1 : (n >= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1;
    }
```

è®©cap-1å†èµ‹å€¼ç»™nçš„ç›®çš„æ˜¯å¦æ‰¾åˆ°çš„ç›®æ ‡å€¼å¤§äºæˆ–ç­‰äºåŸå€¼ã€‚ä¾‹å¦‚äºŒè¿›åˆ¶1000ï¼Œåè¿›åˆ¶æ•°å€¼ä¸º8ã€‚å¦‚æœä¸å¯¹å®ƒå‡1è€Œç›´æ¥æ“ä½œï¼Œå°†å¾—åˆ°ç­”æ¡ˆ10000ï¼Œå³16ã€‚æ˜¾ç„¶ä¸æ˜¯ç»“æœã€‚å‡1åäºŒè¿›åˆ¶ä¸º111ï¼Œå†è¿›è¡Œæ“ä½œåˆ™ä¼šå¾—åˆ°åŸæ¥çš„æ•°å€¼1000ï¼Œå³8ã€‚

### 10ã€HashMap çš„putæ–¹æ³•æµç¨‹ï¼Ÿ

ä»¥JDK 8ä¸ºä¾‹ï¼Œç®€è¦æµç¨‹å¦‚ä¸‹ï¼š

1ã€é¦–å…ˆæ ¹æ® key çš„å€¼è®¡ç®— hash å€¼ï¼Œæ‰¾åˆ°è¯¥å…ƒç´ åœ¨æ•°ç»„ä¸­å­˜å‚¨çš„ä¸‹æ ‡ï¼›

2ã€å¦‚æœæ•°ç»„æ˜¯ç©ºçš„ï¼Œåˆ™è°ƒç”¨ resize è¿›è¡Œåˆå§‹åŒ–ï¼›

3ã€å¦‚æœæ²¡æœ‰å“ˆå¸Œå†²çªç›´æ¥æ”¾åœ¨å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡é‡Œï¼›

4ã€å¦‚æœå†²çªäº†ï¼Œä¸” key å·²ç»å­˜åœ¨ï¼Œå°±è¦†ç›–æ‰ valueï¼›

5ã€å¦‚æœå†²çªåï¼Œå‘ç°è¯¥èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘ï¼Œå°±å°†è¿™ä¸ªèŠ‚ç‚¹æŒ‚åœ¨æ ‘ä¸Šï¼›

6ã€å¦‚æœå†²çªåæ˜¯é“¾è¡¨ï¼Œåˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦å¤§äº 8 ï¼Œå¦‚æœå¤§äº 8 å¹¶ä¸”æ•°ç»„å®¹é‡å°äº 64ï¼Œå°±è¿›è¡Œæ‰©å®¹ï¼›å¦‚æœé“¾è¡¨èŠ‚ç‚¹å¤§äº 8 å¹¶ä¸”æ•°ç»„çš„å®¹é‡å¤§äº 64ï¼Œåˆ™å°†è¿™ä¸ªç»“æ„è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼›å¦åˆ™ï¼Œé“¾è¡¨æ’å…¥é”®å€¼å¯¹ï¼Œè‹¥ key å­˜åœ¨ï¼Œå°±è¦†ç›–æ‰ valueã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-interview-03.png)

### 11ã€HashMap çš„æ‰©å®¹æ–¹å¼ï¼Ÿ

HashMap åœ¨å®¹é‡è¶…è¿‡è´Ÿè½½å› å­æ‰€å®šä¹‰çš„å®¹é‡ä¹‹åï¼Œå°±ä¼šæ‰©å®¹ã€‚

[è¯¦æƒ…å‚ç…§è¿™ç¯‡](https://mp.weixin.qq.com/s/0KSpdBJMfXSVH63XadVdmw)

### 12ã€ä¸€èˆ¬ç”¨ä»€ä¹ˆä½œä¸ºHashMapçš„key?

ä¸€èˆ¬ç”¨Integerã€String è¿™ç§ä¸å¯å˜ç±»å½“ä½œ HashMap çš„ keyï¼ŒString æœ€ä¸ºå¸¸è§ã€‚

- å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åœ¨å®ƒåˆ›å»ºçš„æ—¶å€™ hashcode å°±è¢«ç¼“å­˜äº†ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—ã€‚
- å› ä¸ºè·å–å¯¹è±¡çš„æ—¶å€™è¦ç”¨åˆ° equals() å’Œ hashCode() æ–¹æ³•ï¼Œé‚£ä¹ˆé”®å¯¹è±¡æ­£ç¡®çš„é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯éå¸¸é‡è¦çš„ã€‚Integerã€String è¿™äº›ç±»å·²ç»å¾ˆè§„èŒƒçš„é‡å†™äº† hashCode() ä»¥åŠ equals() æ–¹æ³•ã€‚

### 13ã€HashMapä¸ºä»€ä¹ˆçº¿ç¨‹ä¸å®‰å…¨ï¼Ÿ

- JDK 7 æ—¶å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šé€ æˆæ­»å¾ªç¯ã€‚
- å¤šçº¿ç¨‹çš„putå¯èƒ½å¯¼è‡´å…ƒç´ çš„ä¸¢å¤±ã€‚
- putå’Œgetå¹¶å‘æ—¶ï¼Œå¯èƒ½å¯¼è‡´getä¸ºnullã€‚

[è¯¦æƒ…å‚ç…§è¿™ç¯‡](https://mp.weixin.qq.com/s/qk_neCdzM3aB6pVWVTHhNw)



>å‚è€ƒé“¾æ¥ï¼š[https://zhuanlan.zhihu.com/p/362214327](https://zhuanlan.zhihu.com/p/362214327)

---------

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬JavaåŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVMç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)


å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚


![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

