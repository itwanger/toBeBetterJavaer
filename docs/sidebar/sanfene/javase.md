---
title: Javaé¢è¯•é¢˜ä¹‹JavaåŸºç¡€ç¯‡ï¼Œ55é“JavaåŸºç¡€å…«è‚¡æ–‡ï¼ˆ1.3ä¸‡å­—44å¼ æ‰‹ç»˜å›¾ï¼‰ï¼Œé¢æ¸£é€†è¢­å¿…çœ‹ğŸ‘
shortTitle: é¢æ¸£é€†è¢­-Java SE
author: ä¸‰åˆ†æ¶
category:
  - é¢æ¸£é€†è¢­
tag:
  - é¢æ¸£é€†è¢­
description: ä¸‹è½½æ¬¡æ•°è¶… 1 ä¸‡æ¬¡ï¼Œ1.3 ä¸‡å­— 44 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£55é“JavaåŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº›å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚
head:
  - - meta
    - name: keywords
      content: Java,Java SE,é¢è¯•é¢˜,JavaåŸºç¡€é¢è¯•é¢˜,Javaé¢è¯•é¢˜,å…«è‚¡æ–‡,java,é¢è¯•,javaé¢è¯•
---

1.3 ä¸‡å­— 44 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 55 é“ Java åŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº›å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/t7EYyF0VGEg1rAZut9dwSw)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/M-6RSRcRd3X93cR7VXpanw)ã€‚

## Java æ¦‚è¿°

### 1.ä»€ä¹ˆæ˜¯ Javaï¼Ÿ

![è©¹å§†æ–¯é«˜æ–¯æ—-ä¸‹è¾ˆå­è¿˜å­¦ Javaï¼Œè¿˜å¤´ç§ƒ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/overview/one-01.png)

Java æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œç”± Sun å…¬å¸çš„è©¹å§†æ–¯é«˜æ–¯æ—ï¼ˆJames Goslingï¼‰å›¢é˜Ÿäº 1995 å¹´æ¨å‡ºã€‚å¸æ”¶äº† C++ è¯­è¨€ä¸­å¤§é‡çš„ä¼˜ç‚¹ï¼Œä½†åˆæŠ›å¼ƒäº† C++ ä¸­å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œå¦‚åƒåœ¾å›æ”¶ã€‚

åŒæ—¶ï¼ŒJava åˆæ˜¯ä¸€é—¨å¹³å°æ— å…³çš„ç¼–ç¨‹è¯­è¨€ï¼Œå³ä¸€æ¬¡ç¼–è¯‘ï¼Œå¤„å¤„è¿è¡Œï¼ˆWrite Onceï¼ŒRun Anywhereï¼‰ï¼Œå¯ä»¥åœ¨ Windowsã€macOSã€Linux å¹³å°ä¸Šè¿è¡Œï¼Œåªéœ€è¦å®‰è£…ä¸€ä¸ª Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ã€‚

#### å¤šä¹…å¼€å§‹å­¦ Java çš„ï¼Ÿ

æˆ‘æ˜¯ä»å¤§ä¸€ä¸‹å­¦æœŸå¼€å§‹å­¦ä¹  Java çš„ï¼Œå½“æ—¶å·²ç»å­¦å®Œäº† C è¯­è¨€ï¼Œä½†è‹¦äº C è¯­è¨€æ²¡æœ‰å¾ˆå¥½çš„åº”ç”¨æ–¹å‘ï¼Œå°±å¼€å§‹å­¦ä¹  Java äº†ï¼Œå› ä¸ºæˆ‘äº†è§£åˆ°ï¼Œç»å¤§å¤šæ•°çš„äº’è”ç½‘å…¬å¸åç«¯æœåŠ¡éƒ½æ˜¯ç”¨ Java å¼€å‘çš„ï¼Œå¦å¤–å°±æ˜¯å­¦ä¹ èµ„æ–™ä¹Ÿéå¸¸ä¸°å¯Œï¼Œå°±ä¸šå²—ä½å’Œè–ªèµ„å¾…é‡éƒ½æ¯”è¾ƒç†æƒ³ã€‚

äºæ˜¯å°±æƒ³ç€ä¸€è¾¹å­¦ï¼Œä¸€è¾¹å®æˆ˜ï¼Œåé¢æˆ‘åˆæ¥è§¦åˆ°äº† Spring Bootã€MyBatis-Plusã€MySQLã€Redisã€ElasticSearchã€MongoDBã€Dockerã€RabbitMQ ç­‰ä¸€ç³»åˆ— Java æŠ€æœ¯æ ˆï¼Œè®©æˆ‘çš„ç¼–ç¨‹èƒ½åŠ›æœ‰äº†å¾ˆå¤§çš„æå‡ã€‚åæ¥å°±æœ‰äº†[æŠ€æœ¯æ´¾](https://javabetter.cn/zhishixingqiu/paicoding.html)è¿™ä¸ªç¤¾åŒºé¡¹ç›®ã€‚

![æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®](https://cdn.tobebetterjavaer.com/paicoding/bdfa153fc82310f9ab862a1b3db0d0d7.png)

è¿™æ ·æˆ‘å°±å¯ä»¥ä½œä¸ºåˆ›ä½œè€…æŠŠè‡ªå·±åœ¨å­¦ä¹  Java è¿‡ç¨‹ä¸­çš„ç»éªŒå¿ƒå¾—é€šè¿‡æ–‡ç« /æ•™ç¨‹çš„å½¢å¼å‘å¸ƒå‡ºæ¥ï¼ŒåŒæ—¶è¯»è€…è¿˜å¯ä»¥é€šè¿‡è¯„è®ºã€ç‚¹èµã€æ”¶è—çš„å½¢å¼å’Œæˆ‘è¿›è¡Œäº’åŠ¨ã€‚

#### å¹³å¸¸ç”¨ä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Ÿ

å¤§ä¸€ä¸Šå…ˆå­¦ä¹ çš„ C è¯­è¨€ï¼Œå¤§ä¸€ä¸‹åŠå­¦æœŸå¼€å§‹å­¦ä¹  Javaï¼Œä¸­é—´è¿˜å­¦è¿‡ä¸€äº› Python å’Œ JavaScriptï¼Œä½†æ•´ä½“çš„æ„Ÿå—ä¸Šæ¥è¯´è¿˜æ˜¯æœ€å–œæ¬¢ Javaã€‚

å› ä¸ºå®ƒå¯ä»¥åšçš„äº‹æƒ…å¤ªå¤šäº†ï¼Œæ—¢å¯ä»¥ç”¨å®ƒæ¥çˆ¬ä¸€äº›æ•°æ®åšæµ‹è¯•ï¼Œè¿˜å¯ä»¥ç”¨å®ƒæ¥å†™ Web åç«¯æœåŠ¡ï¼Œå°±è¿ä¸€äº›è½®å­ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥é€ ï¼Œæ¯”å¦‚è¯´æˆ‘ä¹‹å‰å†™è¿‡ä¸€ä¸ª MYDB çš„è½®å­ï¼Œå°±æ˜¯ç”¨çš„ Javaã€‚

#### å¹³æ—¶æ˜¯æ€ä¹ˆå­¦ Java çš„ï¼Ÿ

ä¸€å¼€å§‹ï¼Œä¸»è¦æ˜¯è·Ÿç€å­¦æ ¡çš„è¯¾ç¨‹å­¦ä¹ ï¼Œåæ¥å…¥é—¨åæˆ‘æ„Ÿè§‰ Java è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå°¤å…¶æ˜¯ JVM å’Œå¹¶å‘ç¼–ç¨‹è¿™å—è¿˜æ˜¯è›®æœ‰æ·±åº¦çš„ï¼Œäºæ˜¯æˆ‘å°±å¼€å§‹åœ¨ Bç«™å’Œ GitHub ä¸Šæ‰¾ä¸€äº›ä¼˜è´¨çš„è§†é¢‘èµ„æºå’Œå¼€æºçŸ¥è¯†åº“ã€‚

åƒä¸€ä¸ªåšä¸»çš„ã€ŠJava è¿›é˜¶ä¹‹è·¯ã€‹å°±è›®é€‚åˆæˆ‘çš„ï¼Œä» Java çš„è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œéƒ½æœ‰è¯¦ç»†çš„è®²è§£ï¼Œè¿˜æœ‰å¾ˆå¤šæ‰‹ç»˜å›¾å’Œä»£ç å®ä¾‹ï¼Œæˆ‘éƒ½è·Ÿç€åŠ¨æ‰‹ä¸€æ­¥æ­¥å®ç°äº†ï¼Œæ„Ÿè§‰æ”¶è·å¾ˆå¤§ã€‚

åæ¥åˆè¯»äº†ä¸€éã€ŠJava ç¼–ç¨‹æ€æƒ³ã€‹ã€ã€ŠEffective Javaã€‹ï¼Œä»¥åŠ JDK çš„ä¸€äº›æºç ï¼Œæ¯”å¦‚è¯´ Stringã€HashMapï¼Œè¿˜æœ‰å­—èŠ‚ç çš„ä¸€äº›çŸ¥è¯†ï¼Œç®—æ˜¯å¯¹ Java æœ‰æ¯”è¾ƒæ·±å…¥çš„ç†è§£äº†ã€‚

å†åæ¥å°±å¼€å§‹åšå®æˆ˜é¡¹ç›® MYDB å’ŒæŠ€æœ¯æ´¾ï¼Œç®—æ˜¯å½»åº•æŒæ¡ Java é¡¹ç›®çš„å¼€å‘æµç¨‹äº†ã€‚

#### Javaè¯­è¨€å’ŒCè¯­è¨€æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ

Java æ˜¯ä¸€ç§è·¨å¹³å°çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€šè¿‡åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸Šå®‰è£…å¯¹åº”çš„ JVM ä»¥å®ç°â€œä¸€æ¬¡ç¼–è¯‘ï¼Œå¤„å¤„è¿è¡Œâ€çš„ç›®çš„ã€‚è€Œ Cè¯­è¨€éœ€è¦åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šé‡æ–°ç¼–è¯‘ã€‚

Java å¯ä»¥å®ç°è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œé€šè¿‡ GC åƒåœ¾æ”¶é›†å™¨æ¥å®ç°ï¼Œè€Œ Cè¯­è¨€éœ€è¦ä½¿ç”¨ malloc å’Œ free æ¥æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æºç¨‹é¢ç»åŒå­¦ 10 Java æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¤šä¹…å¼€å§‹å­¦ java çš„
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ å°å…¬å¸é¢ç»åˆé›†å¥½æœªæ¥æµ‹å¼€é¢ç»åŒå­¦ 3 æµ‹å¼€ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¹³å¸¸ç”¨ä»€ä¹ˆç¼–ç¨‹è¯­è¨€
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å›½ä¼é›¶ç¢é¢ç»åŒå­¦ 9 é¢è¯•åŸé¢˜ï¼šå¹³æ—¶æ˜¯æ€ä¹ˆå­¦Javaçš„ï¼Ÿ

### 2.Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ

Java è¯­è¨€æœ‰å¾ˆå¤šä¼˜ç§€ï¼ˆå¯å¹ï¼‰çš„ç‰¹ç‚¹ï¼Œä»¥ä¸‹å‡ ä¸ªæ˜¯æ¯”è¾ƒçªå‡ºçš„ï¼š

![Javaè¯­è¨€ç‰¹ç‚¹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-2.png)

â‘ ã€é¢å‘å¯¹è±¡ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ï¼›

â‘¡ã€å¹³å°æ— å…³æ€§ï¼Œå¹³å°æ— å…³æ€§çš„å…·ä½“è¡¨ç°åœ¨äºï¼ŒJava æ˜¯â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œï¼ˆWrite Onceï¼ŒRun any Whereï¼‰â€çš„è¯­è¨€ï¼Œå› æ­¤é‡‡ç”¨ Java è¯­è¨€ç¼–å†™çš„ç¨‹åºå…·æœ‰å¾ˆå¥½çš„å¯ç§»æ¤æ€§ï¼Œè€Œä¿è¯è¿™ä¸€ç‚¹çš„æ­£æ˜¯ Java çš„è™šæ‹Ÿæœºæœºåˆ¶ã€‚åœ¨å¼•å…¥è™šæ‹Ÿæœºä¹‹åï¼ŒJava è¯­è¨€åœ¨ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ã€‚

â‘¢ã€æ”¯æŒå¤šçº¿ç¨‹ã€‚C++ è¯­è¨€æ²¡æœ‰å†…ç½®çš„å¤šçº¿ç¨‹æœºåˆ¶ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å¤šçº¿ç¨‹åŠŸèƒ½æ¥è¿›è¡Œå¤šçº¿ç¨‹ç¨‹åºè®¾è®¡ï¼Œè€Œ Java è¯­è¨€å´æä¾›äº†å¤šçº¿ç¨‹æ”¯æŒï¼›

â‘£ã€æ”¯æŒ JIT ç¼–è¯‘ã€‚JIT æ˜¯ Just-In-Time çš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯å³æ—¶ç¼–è¯‘å™¨ï¼Œå®ƒå¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å°†å­—èŠ‚ç è½¬æ¢ä¸ºæœ¬åœ°æœºå™¨ç æ¥æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚


### 3.JVMã€JDK å’Œ JRE æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**JVM**ï¼šJava Virtual Machineï¼Œä¹Ÿå°±æ˜¯ Java è™šæ‹Ÿæœºï¼Œæ˜¯ Java å®ç°è·¨å¹³å°çš„å…³é”®æ‰€åœ¨ï¼Œé’ˆå¯¹ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œæœ‰ä¸åŒçš„ JVM å®ç°ã€‚JVM è´Ÿè´£å°† Java å­—èŠ‚ç è½¬æ¢ä¸ºç‰¹å®šå¹³å°çš„æœºå™¨ç ï¼Œå¹¶æ‰§è¡Œã€‚

**JRE**ï¼šJava Runtime Environmentï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…å«äº†è¿è¡Œ Java ç¨‹åºæ‰€å¿…éœ€çš„åº“ï¼Œä»¥åŠ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ã€‚

**JDK**ï¼šJava Development Kitï¼Œæ˜¯ä¸€å¥—å®Œæ•´çš„ Java SDKï¼ˆè½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰ï¼ŒåŒ…æ‹¬äº† JRE ä»¥åŠç¼–è¯‘å™¨ï¼ˆjavacï¼‰ã€Java æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼ˆJavadocï¼‰ã€Java è°ƒè¯•å™¨ç­‰å¼€å‘å·¥å…·ã€‚ä¸ºå¼€å‘è€…æä¾›äº†å¼€å‘ã€ç¼–è¯‘ã€è°ƒè¯• Java ç¨‹åºçš„ä¸€æ•´å¥—ç¯å¢ƒã€‚

ç®€å•æ¥è¯´ï¼ŒJDK åŒ…å« JREï¼ŒJRE åŒ…å« JVMã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJDKã€JREã€JVMå…³ç³»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-3.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 9 Java é€šç”¨è½¯ä»¶å¼€å‘ä¸€é¢é¢è¯•åŸé¢˜ï¼šJRE ä¸ JDK çš„åŒºåˆ«ï¼ŒJDK å¤šäº†å“ªäº›ä¸œè¥¿ï¼Œæ—¢å®‰è£…äº† JRE åˆå®‰è£…äº† JDKï¼Œå¯ä»¥åˆ©ç”¨ JDK åšä»€ä¹ˆäº‹æƒ…ï¼Ÿ

### 4.è¯´è¯´ä»€ä¹ˆæ˜¯è·¨å¹³å°æ€§ï¼ŸåŸç†æ˜¯ä»€ä¹ˆ

æ‰€è°“è·¨å¹³å°æ€§ï¼Œæ˜¯æŒ‡ Java è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œä¸€æ¬¡ç¼–è¯‘åï¼Œå¯ä»¥åœ¨å¤šä¸ªç³»ç»Ÿå¹³å°ä¸Šè¿è¡Œã€‚

å®ç°åŸç†ï¼šJava ç¨‹åºæ˜¯é€šè¿‡ Java è™šæ‹Ÿæœºåœ¨ç³»ç»Ÿå¹³å°ä¸Šè¿è¡Œçš„ï¼Œåªè¦è¯¥ç³»ç»Ÿå¯ä»¥å®‰è£…ç›¸åº”çš„ Java è™šæ‹Ÿæœºï¼Œè¯¥ç³»ç»Ÿå°±å¯ä»¥è¿è¡Œ java ç¨‹åºã€‚

### 5.ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Ÿé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„æ˜¯ä»€ä¹ˆ?

æ‰€è°“çš„å­—èŠ‚ç ï¼Œå°±æ˜¯ Java ç¨‹åºç»è¿‡ç¼–è¯‘ä¹‹ç±»äº§ç”Ÿçš„.class æ–‡ä»¶ï¼Œå­—èŠ‚ç èƒ½å¤Ÿè¢«è™šæ‹Ÿæœºè¯†åˆ«ï¼Œä»è€Œå®ç° Java ç¨‹åºçš„è·¨å¹³å°æ€§ã€‚

**Java** ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸»è¦æœ‰ä¸‰æ­¥ï¼š

- **ç¼–è¯‘**ï¼šå°†æˆ‘ä»¬çš„ä»£ç ï¼ˆ.javaï¼‰ç¼–è¯‘æˆè™šæ‹Ÿæœºå¯ä»¥è¯†åˆ«ç†è§£çš„å­—èŠ‚ç (.class)
- **è§£é‡Š**ï¼šè™šæ‹Ÿæœºæ‰§è¡Œ Java å­—èŠ‚ç ï¼Œå°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨èƒ½è¯†åˆ«çš„æœºå™¨ç 
- **æ‰§è¡Œ**ï¼šå¯¹åº”çš„æœºå™¨æ‰§è¡ŒäºŒè¿›åˆ¶æœºå™¨ç 

![Javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-4.png)

åªéœ€è¦æŠŠ Java ç¨‹åºç¼–è¯‘æˆ Java è™šæ‹Ÿæœºèƒ½è¯†åˆ«çš„ Java å­—èŠ‚ç ï¼Œä¸åŒçš„å¹³å°å®‰è£…å¯¹åº”çš„ Java è™šæ‹Ÿæœºï¼Œè¿™æ ·å°±å¯ä»¥å¯ä»¥å®ç° Java è¯­è¨€çš„å¹³å°æ— å…³æ€§ã€‚

### 6.ä¸ºä»€ä¹ˆè¯´ Java è¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ

é«˜çº§ç¼–ç¨‹è¯­è¨€æŒ‰ç…§ç¨‹åºçš„æ‰§è¡Œæ–¹å¼åˆ†ä¸º**ç¼–è¯‘å‹**å’Œ**è§£é‡Šå‹**ä¸¤ç§ã€‚

ç®€å•æ¥è¯´ï¼Œç¼–è¯‘å‹è¯­è¨€æ˜¯æŒ‡ç¼–è¯‘å™¨é’ˆå¯¹ç‰¹å®šçš„æ“ä½œç³»ç»Ÿå°†æºä»£ç ä¸€æ¬¡æ€§ç¿»è¯‘æˆå¯è¢«è¯¥å¹³å°æ‰§è¡Œçš„æœºå™¨ç ï¼›è§£é‡Šå‹è¯­è¨€æ˜¯æŒ‡è§£é‡Šå™¨å¯¹æºç¨‹åºé€è¡Œè§£é‡Šæˆç‰¹å®šå¹³å°çš„æœºå™¨ç å¹¶ç«‹å³æ‰§è¡Œã€‚

æ¯”å¦‚ï¼Œä½ æƒ³è¯»ä¸€æœ¬å¤–å›½çš„å°è¯´ï¼Œä½ å¯ä»¥æ‰¾ä¸€ä¸ªç¿»è¯‘äººå‘˜å¸®åŠ©ä½ ç¿»è¯‘ï¼Œæœ‰ä¸¤ç§é€‰æ‹©æ–¹å¼ï¼Œä½ å¯ä»¥å…ˆç­‰ç¿»è¯‘äººå‘˜å°†å…¨æœ¬çš„å°è¯´ï¼ˆä¹Ÿå°±æ˜¯æºç ï¼‰éƒ½ç¿»è¯‘æˆæ±‰è¯­ï¼Œå†å»é˜…è¯»ï¼Œä¹Ÿå¯ä»¥è®©ç¿»è¯‘äººå‘˜ç¿»è¯‘ä¸€æ®µï¼Œä½ åœ¨æ—è¾¹é˜…è¯»ä¸€æ®µï¼Œæ…¢æ…¢æŠŠä¹¦è¯»å®Œã€‚

Java è¯­è¨€æ—¢å…·æœ‰ç¼–è¯‘å‹è¯­è¨€çš„ç‰¹å¾ï¼Œä¹Ÿå…·æœ‰è§£é‡Šå‹è¯­è¨€çš„ç‰¹å¾ï¼Œå› ä¸º Java ç¨‹åºè¦ç»è¿‡å…ˆç¼–è¯‘ï¼Œåè§£é‡Šä¸¤ä¸ªæ­¥éª¤ï¼Œç”± Java ç¼–å†™çš„ç¨‹åºéœ€è¦å…ˆç»è¿‡ç¼–è¯‘æ­¥éª¤ï¼Œç”Ÿæˆå­—èŠ‚ç ï¼ˆ`\*.class` æ–‡ä»¶ï¼‰ï¼Œè¿™ç§å­—èŠ‚ç å¿…é¡»å†ç»è¿‡ JVMï¼Œè§£é‡Šæˆæ“ä½œç³»ç»Ÿèƒ½è¯†åˆ«çš„æœºå™¨ç ï¼Œåœ¨ç”±æ“ä½œç³»ç»Ÿæ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸º Java è¯­è¨€**ç¼–è¯‘**ä¸**è§£é‡Š**å¹¶å­˜ã€‚

![ç¼–è¯‘ä¸è§£é‡Š](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-5.png)

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## åŸºç¡€è¯­æ³•

### 7.Java æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ

> æ¨èé˜…è¯»1ï¼š[Java çš„æ•°æ®ç±»å‹](https://javabetter.cn/basic-grammar/basic-data-type.html)
> æ¨èé˜…è¯» 2ï¼š[é¢è¯•å®˜ç«Ÿç„¶é—®æˆ‘è¿™ä¹ˆç®€å•çš„é¢˜ç›®ï¼šJava ä¸­ boolean å å¤šå°‘å­—èŠ‚ï¼Ÿ](https://mp.weixin.qq.com/s/KMDlAf5sXQCn8LJz-RJRgA)

Java çš„æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼š**åŸºæœ¬æ•°æ®ç±»å‹**å’Œ**å¼•ç”¨æ•°æ®ç±»å‹**ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJavaæ•°æ®ç±»å‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/core-grammar/nine-01.png)

#### åŸºæœ¬æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ

- æ•°å€¼å‹
  - æ•´æ•°ç±»å‹ï¼ˆbyteã€shortã€intã€longï¼‰
  - æµ®ç‚¹ç±»å‹ï¼ˆfloatã€doubleï¼‰
- å­—ç¬¦å‹ï¼ˆcharï¼‰
- å¸ƒå°”å‹ï¼ˆbooleanï¼‰

Java åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼å’Œå ç”¨å¤§å°ï¼š

| æ•°æ®ç±»å‹ | é»˜è®¤å€¼   | å¤§å°   |
| -------- | -------- | ------ |
| boolean  | false    | 1å­—èŠ‚æˆ– 4 å­—èŠ‚ |
| char     | '\u0000' | 2 å­—èŠ‚ |
| byte     | 0        | 1 å­—èŠ‚ |
| short    | 0        | 2 å­—èŠ‚ |
| int      | 0        | 4 å­—èŠ‚ |
| long     | 0L       | 8 å­—èŠ‚ |
| float    | 0.0f     | 4 å­—èŠ‚ |
| double   | 0.0      | 8 å­—èŠ‚ |

#### å¼•ç”¨æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ

- [ç±»](https://javabetter.cn/oo/object-class.html)ï¼ˆclassï¼‰
- [æ¥å£](https://javabetter.cn/oo/interface.html)ï¼ˆinterfaceï¼‰
- [æ•°ç»„](https://javabetter.cn/array/array.html)ï¼ˆ`[]`ï¼‰

#### boolean ç±»å‹å®é™…å ç”¨å‡ ä¸ªå­—èŠ‚ï¼Ÿ

æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šåŸºæœ¬æ•°æ®ç±»å‹ç¯‡](https://javabetter.cn/basic-grammar/basic-data-type.html)

è¿™è¦ä¾æ®å…·ä½“çš„ JVM å®ç°ç»†èŠ‚ï¼Œä½†æ˜¯åœ¨ Java è™šæ‹Ÿæœºè§„èŒƒä¸­ï¼Œå¹¶æ²¡æœ‰æ˜ç¡®è§„å®š boolean ç±»å‹çš„å¤§å°ï¼Œåªæ˜¯è§„å®š boolean ç±»å‹åªèƒ½å– true æˆ– false ä¸¤ä¸ªå€¼ã€‚

>boolean: The boolean data type has only two possible values: true and false. Use this data type for simple flags that track true/false conditions. This data type represents one bit of information, but its "size" isn't something that's precisely defined.

æˆ‘æœ¬æœºçš„ 64 ä½ JDK ä¸­ï¼Œé€šè¿‡ JOL å·¥å…·æŸ¥çœ‹å•ç‹¬çš„ boolean ç±»å‹ï¼Œä»¥åŠ boolean æ•°ç»„ï¼Œæ‰€å ç”¨çš„ç©ºé—´éƒ½æ˜¯ 1 ä¸ªå­—èŠ‚ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šJava æœ‰å“ªäº›åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 1 éƒ¨é—¨ä¸»ç«™æŠ€æœ¯éƒ¨é¢è¯•åŸé¢˜ï¼šJava çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«å å¤šå°‘å­—èŠ‚
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šjava çš„åŸºæœ¬ç±»å‹
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šè¯´è¯´ 8 å¤§æ•°æ®ç±»å‹?

### 8.è‡ªåŠ¨ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Ÿçœ‹çœ‹è¿™å‡ è¡Œä»£ç ï¼Ÿ

Java æ‰€æœ‰çš„æ•°å€¼å‹å˜é‡å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå½“æŠŠä¸€ä¸ªè¡¨æ•°èŒƒå›´å°çš„æ•°å€¼æˆ–å˜é‡ç›´æ¥èµ‹ç»™å¦ä¸€ä¸ªè¡¨æ•°èŒƒå›´å¤§çš„å˜é‡æ—¶ï¼Œå¯ä»¥è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼›åä¹‹ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ã€‚

![Javaè‡ªåŠ¨ç±»å‹è½¬æ¢æ–¹å‘](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-7.png)

è¿™å°±å¥½åƒï¼Œå°æ¯é‡Œçš„æ°´å€’è¿›å¤§æ¯æ²¡é—®é¢˜ï¼Œä½†å¤§æ¯çš„æ°´å€’è¿›å°æ¯å°±ä¸è¡Œäº†ï¼Œå¯èƒ½ä¼šæº¢å‡ºã€‚

> `float f=3.4`ï¼Œå¯¹å—ï¼Ÿ

ä¸æ­£ç¡®ã€‚3.4 æ˜¯åŒç²¾åº¦æ•°ï¼Œå°†åŒç²¾åº¦å‹ï¼ˆdoubleï¼‰èµ‹å€¼ç»™æµ®ç‚¹å‹ï¼ˆfloatï¼‰å±äºä¸‹è½¬å‹ï¼ˆdown-castingï¼Œä¹Ÿç§°ä¸ºçª„åŒ–ï¼‰ä¼šé€ æˆç²¾åº¦æŸå¤±ï¼Œå› æ­¤éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢`float f =(float)3.4;`æˆ–è€…å†™æˆ`float f =3.4F`

> `short s1 = 1; s1 = s1 + 1ï¼›`å¯¹å—ï¼Ÿ`short s1 = 1; s1 += 1;`å¯¹å—ï¼Ÿ

å¯¹äº short s1 = 1; s1 = s1 + 1;ç¼–è¯‘å‡ºé”™ï¼Œç”±äº 1 æ˜¯ int ç±»å‹ï¼Œå› æ­¤ s1+1 è¿ç®—ç»“æœä¹Ÿæ˜¯ int å‹ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ç±»å‹æ‰èƒ½èµ‹å€¼ç»™ short å‹ã€‚

è€Œ short s1 = 1; s1 += 1;å¯ä»¥æ­£ç¡®ç¼–è¯‘ï¼Œå› ä¸º s1+= 1;ç›¸å½“äº s1 = (short(s1 + 1);å…¶ä¸­æœ‰éšå«çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚

### 9.ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†ç®±/è£…ç®±ï¼Ÿ

- **è£…ç®±**ï¼šå°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»å‹ï¼ˆByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Characterã€Booleanï¼‰ã€‚
- **æ‹†ç®±**ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­:è£…ç®±å’Œæ‹†ç®±](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-8.png)

ä¸¾ä¾‹ï¼š

```java
Integer i = 10;  //è£…ç®±
int n = i;   //æ‹†ç®±
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šå¯¹åº”æœ‰å“ªäº›åŒ…è£…å™¨ç±»ï¼Ÿ

### 10.&å’Œ&&æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

&è¿ç®—ç¬¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š`çŸ­è·¯ä¸`ã€`é€»è¾‘ä¸`ã€‚

&&è¿ç®—ç¬¦æ˜¯çŸ­è·¯ä¸è¿ç®—ã€‚é€»è¾‘ä¸è·ŸçŸ­è·¯ä¸çš„å·®åˆ«æ˜¯éå¸¸å·¨å¤§çš„ï¼Œè™½ç„¶äºŒè€…éƒ½è¦æ±‚è¿ç®—ç¬¦å·¦å³ä¸¤ç«¯çš„å¸ƒå°”å€¼éƒ½æ˜¯ true æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼æ‰æ˜¯ trueã€‚

&&ä¹‹æ‰€ä»¥ç§°ä¸ºçŸ­è·¯è¿ç®—æ˜¯å› ä¸ºï¼Œå¦‚æœ&&å·¦è¾¹çš„è¡¨è¾¾å¼çš„å€¼æ˜¯ falseï¼Œå³è¾¹çš„è¡¨è¾¾å¼ä¼šè¢«ç›´æ¥çŸ­è·¯æ‰ï¼Œä¸ä¼šè¿›è¡Œè¿ç®—ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯èƒ½éƒ½éœ€è¦ç”¨&&è€Œä¸æ˜¯&ã€‚

ä¾‹å¦‚åœ¨éªŒè¯ç”¨æˆ·ç™»å½•æ—¶åˆ¤å®šç”¨æˆ·åä¸æ˜¯ null è€Œä¸”ä¸æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåº”å½“å†™ä¸º`username != null &&!username.equals("")`ï¼ŒäºŒè€…çš„é¡ºåºä¸èƒ½äº¤æ¢ï¼Œæ›´ä¸èƒ½ç”¨&è¿ç®—ç¬¦ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ¡ä»¶å¦‚æœä¸æˆç«‹ï¼Œæ ¹æœ¬ä¸èƒ½è¿›è¡Œå­—ç¬¦ä¸²çš„ equals æ¯”è¾ƒï¼Œå¦åˆ™ä¼šäº§ç”Ÿ NullPointerException å¼‚å¸¸ã€‚

**æ³¨æ„**ï¼šé€»è¾‘æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰å’ŒçŸ­è·¯æˆ–è¿ç®—ç¬¦ï¼ˆ||ï¼‰çš„å·®åˆ«ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

### 11.switch æ˜¯å¦èƒ½ä½œç”¨åœ¨ byte/long/String ä¸Šï¼Ÿ

Java5 ä»¥å‰ switch(expr)ä¸­ï¼Œexpr åªèƒ½æ˜¯ byteã€shortã€charã€intã€‚

ä» Java 5 å¼€å§‹ï¼ŒJava ä¸­å¼•å…¥äº†æšä¸¾ç±»å‹ï¼Œ expr ä¹Ÿå¯ä»¥æ˜¯ enum ç±»å‹ã€‚

ä» Java 7 å¼€å§‹ï¼Œexpr è¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²(String)ï¼Œä½†æ˜¯é•¿æ•´å‹(long)åœ¨ç›®å‰æ‰€æœ‰çš„ç‰ˆæœ¬ä¸­éƒ½æ˜¯ä¸å¯ä»¥çš„ã€‚

### 12.break ,continue ,return çš„åŒºåˆ«åŠä½œç”¨ï¼Ÿ

- break è·³å‡ºæ•´ä¸ªå¾ªç¯ï¼Œä¸å†æ‰§è¡Œå¾ªç¯(**ç»“æŸå½“å‰çš„å¾ªç¯ä½“**)
- continue è·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹æ¬¡å¾ªç¯(**ç»“æŸæ­£åœ¨æ‰§è¡Œçš„å¾ªç¯ è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯æ¡ä»¶**)
- return ç¨‹åºè¿”å›ï¼Œä¸å†æ‰§è¡Œä¸‹é¢çš„ä»£ç (**ç»“æŸå½“å‰çš„æ–¹æ³• ç›´æ¥è¿”å›**)

![break ã€continue ã€return](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-9.png)

### 13.ç”¨æœ€æœ‰æ•ˆç‡çš„æ–¹æ³•è®¡ç®— 2 ä¹˜ä»¥ 8ï¼Ÿ

2 << 3ã€‚**ä½è¿ç®—**ï¼Œæ•°å­—çš„äºŒè¿›åˆ¶ä½å·¦ç§»ä¸‰ä½ç›¸å½“äºä¹˜ä»¥ 2 çš„ä¸‰æ¬¡æ–¹ã€‚

### 14.è¯´è¯´è‡ªå¢è‡ªå‡è¿ç®—ï¼Ÿçœ‹ä¸‹è¿™å‡ ä¸ªä»£ç è¿è¡Œç»“æœï¼Ÿ

åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸è§çš„ä¸€ç§æƒ…å†µæ˜¯éœ€è¦æŸä¸ªæ•´æ•°ç±»å‹å˜é‡å¢åŠ  1 æˆ–å‡å°‘ 1ï¼ŒJava æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼Œç”¨äºè¿™ç§è¡¨è¾¾å¼ï¼Œå«åšè‡ªå¢è¿ç®—ç¬¦ï¼ˆ++)å’Œè‡ªå‡è¿ç®—ç¬¦ï¼ˆ--ï¼‰ã€‚

++å’Œ--è¿ç®—ç¬¦å¯ä»¥æ”¾åœ¨å˜é‡ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å˜é‡ä¹‹åã€‚

å½“è¿ç®—ç¬¦æ”¾åœ¨å˜é‡ä¹‹å‰æ—¶(å‰ç¼€)ï¼Œå…ˆè‡ªå¢/å‡ï¼Œå†èµ‹å€¼ï¼›å½“è¿ç®—ç¬¦æ”¾åœ¨å˜é‡ä¹‹åæ—¶(åç¼€)ï¼Œå…ˆèµ‹å€¼ï¼Œå†è‡ªå¢/å‡ã€‚

ä¾‹å¦‚ï¼Œå½“ `b = ++a` æ—¶ï¼Œå…ˆè‡ªå¢ï¼ˆè‡ªå·±å¢åŠ  1ï¼‰ï¼Œå†èµ‹å€¼ï¼ˆèµ‹å€¼ç»™ bï¼‰ï¼›å½“ `b = a++` æ—¶ï¼Œå…ˆèµ‹å€¼(èµ‹å€¼ç»™ b)ï¼Œå†è‡ªå¢ï¼ˆè‡ªå·±å¢åŠ  1ï¼‰ã€‚ä¹Ÿå°±æ˜¯ï¼Œ++a è¾“å‡ºçš„æ˜¯ a+1 çš„å€¼ï¼Œa++è¾“å‡ºçš„æ˜¯ a å€¼ã€‚

ç”¨ä¸€å¥å£è¯€å°±æ˜¯ï¼šâ€œç¬¦å·åœ¨å‰å°±å…ˆåŠ /å‡ï¼Œç¬¦å·åœ¨åå°±ååŠ /å‡â€ã€‚

> çœ‹ä¸€ä¸‹è¿™æ®µä»£ç è¿è¡Œç»“æœï¼Ÿ

```java
int i  = 1;
i = i++;
System.out.println(i);
```

ç­”æ¡ˆæ˜¯ 1ã€‚æœ‰ç‚¹ç¦»è°±å¯¹ä¸å¯¹ã€‚

å¯¹äº JVM è€Œè¨€ï¼Œå®ƒå¯¹è‡ªå¢è¿ç®—çš„å¤„ç†ï¼Œæ˜¯ä¼šå…ˆå®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡æ¥æ¥æ”¶ i çš„å€¼ï¼Œç„¶åè¿›è¡Œè‡ªå¢è¿ç®—ï¼Œæœ€ååˆå°†ä¸´æ—¶å˜é‡èµ‹ç»™äº†å€¼ä¸º 2 çš„ iï¼Œæ‰€ä»¥æœ€åçš„ç»“æœä¸º 1ã€‚

ç›¸å½“äºè¿™æ ·çš„ä»£ç ï¼š

```java
int i = 1ï¼›
int temp = i;
i++ï¼›
i = temp;
System.out.println(i);
```

> è¿™æ®µä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ

```java
int count = 0;
for(int i = 0;i < 100;i++)
{
    count = count++;
}
System.out.println("count = "+count);
```

ç­”æ¡ˆæ˜¯ 0ã€‚

å’Œä¸Šé¢çš„é¢˜ç›®ä¸€æ ·çš„é“ç†ï¼ŒåŒæ ·æ˜¯ç”¨äº†ä¸´æ—¶å˜é‡ï¼Œcount å®é™…æ˜¯ç­‰äºä¸´æ—¶å˜é‡çš„å€¼ã€‚

```java
int autoAdd(int count)
{
    int temp = count;
    count = count + 1;
    return temp;
}
```

### 54.float æ˜¯æ€ä¹ˆè¡¨ç¤ºå°æ•°çš„ï¼Ÿï¼ˆè¡¥å……ï¼‰

> 2024 å¹´ 04 æœˆ 21 æ—¥å¢è¡¥

æ¨èé˜…è¯»ï¼š[è®¡ç®—æœºç³»ç»ŸåŸºç¡€ï¼ˆå››ï¼‰æµ®ç‚¹æ•°](http://kaito-kidd.com/2018/08/08/computer-system-float-point/)

`float`ç±»å‹çš„å°æ•°åœ¨è®¡ç®—æœºä¸­æ˜¯é€šè¿‡ IEEE 754 æ ‡å‡†çš„å•ç²¾åº¦æµ®ç‚¹æ•°æ ¼å¼æ¥è¡¨ç¤ºçš„ã€‚

```
V = (-1)^S * M * R^E
```

- Sï¼šç¬¦å·ä½ï¼Œ0 ä»£è¡¨æ­£æ•°ï¼Œ1 ä»£è¡¨è´Ÿæ•°ï¼›
- Mï¼šå°¾æ•°éƒ¨åˆ†ï¼Œç”¨äºè¡¨ç¤ºæ•°å€¼çš„ç²¾åº¦ï¼›æ¯”å¦‚è¯´ `1.25 * 2^2`ï¼›1.25 å°±æ˜¯å°¾æ•°ï¼›
- Rï¼šåŸºæ•°ï¼Œåè¿›åˆ¶ä¸­çš„åŸºæ•°æ˜¯ 10ï¼ŒäºŒè¿›åˆ¶ä¸­çš„åŸºæ•°æ˜¯ 2ï¼›
- Eï¼šæŒ‡æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ 10^-1 ä¸­çš„ -1 å°±æ˜¯æŒ‡æ•°ã€‚

è¿™ç§è¡¨ç¤ºæ–¹æ³•å¯ä»¥å°†éå¸¸å¤§æˆ–éå¸¸å°çš„æ•°å€¼ç”¨æœ‰é™çš„ä½æ•°è¡¨ç¤ºå‡ºæ¥ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€å¯èƒ½ä¼šæœ‰ç²¾åº¦ä¸Šçš„æŸå¤±ã€‚

å•ç²¾åº¦æµ®ç‚¹æ•°å ç”¨ 4 å­—èŠ‚ï¼ˆ32 ä½ï¼‰ï¼Œè¿™ 32 ä½è¢«åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šç¬¦å·ä½ã€æŒ‡æ•°éƒ¨åˆ†å’Œå°¾æ•°éƒ¨åˆ†ã€‚

![kaitoï¼šæµ®ç‚¹æ•°](https://cdn.tobebetterjavaer.com/stutymore/javase-20240321112428.png)

1. **ç¬¦å·ä½ï¼ˆSign bitï¼‰**ï¼š1 ä½
2. **æŒ‡æ•°éƒ¨åˆ†ï¼ˆExponentï¼‰**ï¼š10 ä½
3. **å°¾æ•°éƒ¨åˆ†ï¼ˆMantissaï¼Œæˆ– Fractionï¼‰**ï¼š21 ä½

æŒ‰ç…§è¿™ä¸ªè§„åˆ™ï¼Œå°†åè¿›åˆ¶æ•° 25.125 è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œè½¬æ¢è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š

1. æ•´æ•°éƒ¨åˆ†ï¼š25 è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ˜¯ 11001ï¼›
2. å°æ•°éƒ¨åˆ†ï¼š0.125 è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ˜¯ 0.001ï¼›
3. ç”¨äºŒè¿›åˆ¶ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼š\(25.125 = 1.001001 \times 2^4\)ï¼›

ç¬¦å·ä½ S æ˜¯ 0ï¼Œè¡¨ç¤ºæ­£æ•°ï¼›æŒ‡æ•°éƒ¨åˆ† E æ˜¯ 4ï¼Œè½¬æ¢ä¸ºäºŒè¿›åˆ¶æ˜¯ 100ï¼›å°¾æ•°éƒ¨åˆ† M æ˜¯ 1.001001ã€‚

![kaitoï¼š25.125](https://cdn.tobebetterjavaer.com/stutymore/javase-20240321113232.png)

ä½¿ç”¨æµ®ç‚¹æ•°æ—¶éœ€è¦æ³¨æ„ï¼Œç”±äºç²¾åº¦çš„é™åˆ¶ï¼Œè¿›è¡Œæ•°å­¦è¿ç®—æ—¶å¯èƒ½ä¼šé‡åˆ°èˆå…¥è¯¯å·®ï¼Œç‰¹åˆ«æ˜¯è¿ç»­è¿ç®—ç´¯ç§¯è¯¯å·®å¯èƒ½ä¼šå˜å¾—æ˜¾è‘—ã€‚

å¯¹äºéœ€è¦é«˜ç²¾åº¦è®¡ç®—çš„åœºæ™¯ï¼ˆå¦‚é‡‘èè®¡ç®—ï¼‰ï¼Œå¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨`BigDecimal`ç±»æ¥é¿å…è¿™ç§è¯¯å·®ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¸†è½¯åŒå­¦ 3 Java åç«¯ä¸€é¢çš„åŸé¢˜ï¼šfloat æ˜¯æ€ä¹ˆè¡¨ç¤ºå°æ•°çš„

### 55.è®²ä¸€ä¸‹æ•°æ®å‡†ç¡®æ€§é«˜æ˜¯æ€ä¹ˆä¿è¯çš„ï¼Ÿï¼ˆè¡¥å……ï¼‰

> 2024 å¹´ 04 æœˆ 21 æ—¥å¢è¡¥

åœ¨é‡‘èè®¡ç®—ä¸­ï¼Œä¿è¯æ•°æ®å‡†ç¡®æ€§æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§ä½¿ç”¨ `BigDecimal`ï¼Œä¸€ç§å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•° int è¿›è¡Œè®¡ç®—ã€‚

è‚¯å®šä¸èƒ½ä½¿ç”¨ `float` å’Œ `double` ç±»å‹ï¼Œå®ƒä»¬æ— æ³•é¿å…æµ®ç‚¹æ•°è¿ç®—ä¸­å¸¸è§çš„ç²¾åº¦é—®é¢˜ï¼Œå› ä¸ºè¿™äº›æ•°æ®ç±»å‹é‡‡ç”¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°æ¥è¡¨ç¤ºï¼Œæ— æ³•å‡†ç¡®åœ°è¡¨ç¤ºï¼Œä¾‹å¦‚ `0.1`ã€‚

```java
BigDecimal num1 = new BigDecimal("0.1");
BigDecimal num2 = new BigDecimal("0.2");
BigDecimal sum = num1.add(num2);
System.out.println("Sum of 0.1 and 0.2 using BigDecimal: " + sum);  // è¾“å‡º 0.3ï¼Œç²¾ç¡®è®¡ç®—
```

åœ¨å¤„ç†å°é¢æ”¯ä»˜æˆ–è®¡ç®—æ—¶ï¼Œé€šè¿‡è½¬æ¢ä¸ºè¾ƒå°çš„è´§å¸å•ä½ï¼ˆå¦‚åˆ†ï¼‰ï¼Œè¿™æ ·ä¸ä»…æé«˜äº†è¿ç®—é€Ÿåº¦ï¼Œè¿˜ä¿è¯äº†è®¡ç®—çš„å‡†ç¡®æ€§ã€‚

```java
int priceInCents = 199;  // å•†å“ä»·æ ¼199åˆ†
int quantity = 3;
int totalInCents = priceInCents * quantity;  // è®¡ç®—æ€»ä»·
System.out.println("Total price in cents: " + totalInCents);  // è¾“å‡º597åˆ†
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨åŒå­¦ 7 Java åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šè®²ä¸€ä¸‹æ•°æ®å‡†ç¡®æ€§é«˜æ˜¯æ€ä¹ˆä¿è¯çš„ï¼Ÿ

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## é¢å‘å¯¹è±¡

### 15.â¾¯å‘å¯¹è±¡å’Œâ¾¯å‘è¿‡ç¨‹çš„åŒºåˆ«?

- **â¾¯å‘è¿‡ç¨‹** ï¼šé¢å‘è¿‡ç¨‹å°±æ˜¯åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™å†ä¸€ä¸ªä¸€ä¸ªçš„ä¸€æ¬¡è°ƒç”¨å°±å¯ä»¥ã€‚
- **â¾¯å‘å¯¹è±¡** ï¼šé¢å‘å¯¹è±¡ï¼ŒæŠŠæ„æˆé—®é¢˜çš„äº‹åŠ¡åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ä»¶åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹æ‰€å‘ç”Ÿçš„è¡Œä¸ºã€‚ ç›®çš„æ˜¯ä¸ºäº†å†™å‡ºé€šç”¨çš„ä»£ç ï¼ŒåŠ å¼ºä»£ç çš„é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚

ç”¨ä¸€ä¸ªæ¯”å–»ï¼šé¢å‘è¿‡ç¨‹æ˜¯ç¼–å¹´ä½“ï¼›é¢å‘å¯¹è±¡æ˜¯çºªä¼ ä½“ã€‚

![é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-10.png)

### 16.é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ

æ¨èé˜…è¯»ï¼š[æ·±å…¥ç†è§£ Java ä¸‰å¤§ç‰¹æ€§](https://javabetter.cn/oo/encapsulation-inheritance-polymorphism.html)

é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå°è£…ç»§æ‰¿å¤šæ€](https://cdn.tobebetterjavaer.com/stutymore/javase-20240330115129.png)

#### å°è£…æ˜¯ä»€ä¹ˆï¼Ÿ

å°è£…æ˜¯æŒ‡å°†æ•°æ®ï¼ˆå±æ€§ï¼Œæˆ–è€…å«å­—æ®µï¼‰å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ï¼ˆè¡Œä¸ºï¼‰æ†ç»‘åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼ˆç±»çš„å®ä¾‹ï¼‰ã€‚

```java
class Nvshen {
    private String name;
    private int age;

    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setAge(int age) {
        this.age = age;
    }
}
```

å¯ä»¥çœ‹å¾—å‡ºï¼Œå¥³ç¥ç±»å¯¹å¤–æ²¡æœ‰æä¾› age çš„ getter æ–¹æ³•ï¼Œå› ä¸ºå¥³ç¥çš„å¹´é¾„è¦ä¿å¯†ã€‚

æ‰€ä»¥ï¼Œå°è£…æ˜¯æŠŠä¸€ä¸ªå¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ŒåŒæ—¶æä¾›ä¸€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„æ–¹æ³•ã€‚

#### ç»§æ‰¿æ˜¯ä»€ä¹ˆï¼Ÿ

ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»ï¼‰ç»§æ‰¿ç°æœ‰ç±»ï¼ˆçˆ¶ç±»æˆ–è€…åŸºç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ä»¥æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œå»ºç«‹ç±»ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚

åŒæ—¶ï¼Œå­ç±»è¿˜å¯ä»¥é‡å†™æˆ–è€…æ‰©å±•ä»çˆ¶ç±»ç»§æ‰¿æ¥çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°å¤šæ€ã€‚

```java
class Person {
    protected String name;
    protected int age;

    public void eat() {
        System.out.println("åƒé¥­");
    }
}

class Student extends Person {
    private String school;

    public void study() {
        System.out.println("å­¦ä¹ ");
    }
}
```

Student ç±»ç»§æ‰¿äº† Person ç±»çš„å±æ€§ï¼ˆnameã€ageï¼‰å’Œæ–¹æ³•ï¼ˆeatï¼‰ï¼ŒåŒæ—¶è¿˜æœ‰è‡ªå·±çš„å±æ€§ï¼ˆschoolï¼‰å’Œæ–¹æ³•ï¼ˆstudyï¼‰ã€‚

#### ä»€ä¹ˆæ˜¯å¤šæ€ï¼Ÿ

å¤šæ€å…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯åšå‡ºå“åº”ï¼Œä½†è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼ˆå³æ–¹æ³•çš„å¤šæ ·æ€§ï¼‰ã€‚

å¤šæ€å…¶å®æ˜¯ä¸€ç§èƒ½åŠ›â€”â€”åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰ä¸åŒçš„è¡¨ç°å½¢å¼ï¼›æ¢å¥è¯è¯´å°±æ˜¯ï¼Œæ‰§è¡Œä¸€æ®µä»£ç ï¼ŒJava åœ¨è¿è¡Œæ—¶èƒ½æ ¹æ®å¯¹è±¡ç±»å‹çš„ä¸åŒäº§ç”Ÿä¸åŒçš„ç»“æœã€‚

å¤šæ€çš„å‰ç½®æ¡ä»¶æœ‰ä¸‰ä¸ªï¼š

- å­ç±»ç»§æ‰¿çˆ¶ç±»
- å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•
- çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡

```java
//å­ç±»ç»§æ‰¿çˆ¶ç±»
class Wangxiaoer extends Wanger {
    public void write() { // å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•
        System.out.println("è®°ä½ä»‡æ¨ï¼Œè¡¨æ˜æˆ‘ä»¬è¦å¥‹å‘å›¾å¼ºçš„å¿ƒæ™º");
    }

    public static void main(String[] args) {
        // çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡
        Wanger wanger = new Wangxiaoer();
        wanger.write();
    }
}

class Wanger {
    public void write() {
        System.out.println("æ²‰é»˜ç‹äºŒæ˜¯æ²™é›•");
    }
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å›½ä¼é›¶ç¢é¢ç»åŒå­¦ 9 é¢è¯•åŸé¢˜ï¼šJavaé¢å‘å¯¹è±¡çš„ç‰¹æ€§ï¼Œåˆ†åˆ«æ€ä¹ˆç†è§£çš„

### 17.å¤šæ€è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿï¼ˆè¡¥å……ï¼‰

> 2024 å¹´ 03 æœˆ 26 æ—¥å¢è¡¥

å¤šæ€çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼Œä½¿å¾—ä»£ç æ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚æ¯”å¦‚è¯´åŠ¨æ€ç»‘å®šï¼Œå…è®¸åœ¨ç¨‹åºåœ¨è¿è¡Œæ—¶å†ç¡®å®šè°ƒç”¨çš„æ˜¯å­ç±»è¿˜æ˜¯çˆ¶ç±»çš„æ–¹æ³•ã€‚

ç°åœ¨æœ‰ä¸€ä¸ªçˆ¶ç±» Wangerï¼Œä¸€ä¸ªå­ç±» Wangxiaoerï¼Œéƒ½æœ‰ä¸€ä¸ª write æ–¹æ³•ã€‚å¼•ç”¨ wanger çš„ç±»å‹æ˜¯çˆ¶ç±»çš„ Wangerï¼Œé‚£åœ¨æ‰§è¡Œ `wanger.write()` æ—¶ï¼Œç©¶ç«Ÿè¯¥è°ƒç”¨çˆ¶ç±» Wanger çš„ `write()` æ–¹æ³•ï¼Œè¿˜æ˜¯å­ç±» Wangxiaoer çš„ `write()` æ–¹æ³•å‘¢ï¼Ÿ

```java
//å­ç±»ç»§æ‰¿çˆ¶ç±»
public class Wangxiaoer extends Wanger {
    public void write() { // å­ç±»è¦†ç›–çˆ¶ç±»æ–¹æ³•
        System.out.println("è®°ä½ä»‡æ¨ï¼Œè¡¨æ˜æˆ‘ä»¬è¦å¥‹å‘å›¾å¼ºçš„å¿ƒæ™º");
    }

    public static void main(String[] args) {
        // çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡
        Wanger[] wangers = { new Wanger(), new Wangxiaoer() };

        for (Wanger wanger : wangers) {
            // å¯¹è±¡æ˜¯ç‹äºŒçš„æ—¶å€™è¾“å‡ºï¼šå‹¿å¿˜å›½è€»
            // å¯¹è±¡æ˜¯ç‹å°äºŒçš„æ—¶å€™è¾“å‡ºï¼šè®°ä½ä»‡æ¨ï¼Œè¡¨æ˜æˆ‘ä»¬è¦å¥‹å‘å›¾å¼ºçš„å¿ƒæ™º
            wanger.write();
        }
    }
}

class Wanger {
    public void write() {
        System.out.println("å‹¿å¿˜å›½è€»");
    }
}
```

ç­”æ¡ˆæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹è¿›è¡ŒåæœŸç»‘å®šï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µå¹¶ä¸çŸ¥é“å¯¹è±¡çš„ç±»å‹ï¼Œä½†æ˜¯ Java çš„æ–¹æ³•è°ƒç”¨æœºåˆ¶èƒ½æ‰¾åˆ°æ­£ç¡®çš„æ–¹æ³•ä½“ï¼Œç„¶åæ‰§è¡Œï¼Œå¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚

![bigsaiï¼šå°è£…ç»§æ‰¿å¤šæ€](http://cdn.tobebetterjavaer.com/tobebetterjavaer/images/oo/extends-bigsai-2bf1876f-0c1c-4e83-8721-e6f48d6451c0.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šå¤šæ€çš„ç›®çš„ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯·è¯´è¯´å¤šæ€ã€é‡è½½å’Œé‡å†™

### 18.é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼Ÿ

æ¨èé˜…è¯»ï¼š[æ–¹æ³•é‡å†™ Override å’Œæ–¹æ³•é‡è½½ Overload æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://javabetter.cn/basic-extra-meal/override-overload.html)

å¦‚æœä¸€ä¸ªç±»æœ‰å¤šä¸ªåå­—ç›¸åŒä½†å‚æ•°ä¸ªæ•°ä¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬é€šå¸¸ç§°è¿™äº›æ–¹æ³•ä¸ºæ–¹æ³•é‡è½½ï¼ˆoverloadï¼‰ã€‚å¦‚æœæ–¹æ³•çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†å‚æ•°ä¸åŒï¼Œä½¿ç”¨ç›¸åŒçš„åå­—å¯ä»¥æé«˜ç¨‹åºçš„å¯è¯»æ€§ã€‚

å¦‚æœå­ç±»å…·æœ‰å’Œçˆ¶ç±»ä¸€æ ·çš„æ–¹æ³•ï¼ˆå‚æ•°ç›¸åŒã€è¿”å›ç±»å‹ç›¸åŒã€æ–¹æ³•åç›¸åŒï¼Œä½†æ–¹æ³•ä½“å¯èƒ½ä¸åŒï¼‰ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ–¹æ³•é‡å†™ï¼ˆoverrideï¼‰ã€‚æ–¹æ³•é‡å†™ç”¨äºæä¾›çˆ¶ç±»å·²ç»å£°æ˜çš„æ–¹æ³•çš„ç‰¹æ®Šå®ç°ï¼Œæ˜¯å®ç°å¤šæ€çš„åŸºç¡€æ¡ä»¶ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/core-points/21-01.png)

- æ–¹æ³•é‡è½½å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼ŒåŒåçš„æ–¹æ³•å¦‚æœæœ‰ä¸åŒçš„å‚æ•°ï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒæˆ–è€…äºŒè€…éƒ½ä¸åŒï¼‰ã€‚
- æ–¹æ³•é‡å†™å‘ç”Ÿåœ¨å­ç±»ä¸çˆ¶ç±»ä¹‹é—´ï¼Œè¦æ±‚å­ç±»ä¸çˆ¶ç±»å…·æœ‰ç›¸åŒçš„è¿”å›ç±»å‹ï¼Œæ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨ï¼Œå¹¶ä¸”ä¸èƒ½æ¯”çˆ¶ç±»çš„æ–¹æ³•å£°æ˜æ›´å¤šçš„å¼‚å¸¸ï¼Œéµå®ˆé‡Œæ°ä»£æ¢åŸåˆ™ã€‚

#### ä»€ä¹ˆæ˜¯é‡Œæ°ä»£æ¢åŸåˆ™ï¼Ÿ

é‡Œæ°ä»£æ¢åŸåˆ™ä¹Ÿè¢«ç§°ä¸ºææ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principle, LSPï¼‰ï¼Œå…¶è§„å®šï¼Œä»»ä½•çˆ¶ç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¹Ÿä¸€å®šå¯ä»¥å‡ºç°ã€‚

![é‡Œæ°æ›¿æ¢åŸåˆ™ç”±èŠ­èŠ­æ‹‰Â·åˆ©æ–¯ç§‘å¤«æå‡ºï¼Œç…§ç‰‡æ‘„äº2010å¹´](https://cdn.tobebetterjavaer.com/stutymore/javase-20240321103119.png)

LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“å­ç±»å¯ä»¥æ›¿æ¢æ‰çˆ¶ç±»ï¼Œè½¯ä»¶çš„å•ä½åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼Œçˆ¶ç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œå­ç±»ä¹Ÿèƒ½å¤Ÿåœ¨çˆ¶ç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚

è¿™æ„å‘³ç€å­ç±»åœ¨æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½æ—¶ï¼Œä¸åº”æ”¹å˜çˆ¶ç±»åŸæœ‰çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆä¼ å…¥è¯¥æ–¹æ³•çš„ä»»ä½•å­ç±»å¯¹è±¡ä¹Ÿéƒ½åº”è¯¥èƒ½ä½¿å¾—æ–¹æ³•æ­£å¸¸å·¥ä½œã€‚

```java
class Bird {
    void fly() {
        System.out.println("é¸Ÿæ­£åœ¨é£");
    }
}

class Duck extends Bird {
    @Override
    void fly() {
        System.out.println("é¸­å­æ­£åœ¨é£");
    }
}

class Ostrich extends Bird {
    // Ostrichè¿åäº†LSPï¼Œå› ä¸ºé¸µé¸Ÿä¸ä¼šé£ï¼Œä½†å´ç»§æ‰¿äº†ä¼šé£çš„é¸Ÿç±»
    @Override
    void fly() {
        throw new UnsupportedOperationException("é¸µé¸Ÿä¸ä¼šé£");
    }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒOstrichï¼ˆé¸µé¸Ÿï¼‰ç±»è¿åäº† LSP åŸåˆ™ï¼Œå› ä¸ºå®ƒæ”¹å˜äº†çˆ¶ç±» Bird çš„è¡Œä¸ºï¼ˆå³é£è¡Œï¼‰ã€‚è®¾è®¡æ—¶åº”è¯¥æ›´åŠ è°¨æ…åœ°ä½¿ç”¨ç»§æ‰¿å…³ç³»ï¼Œç¡®ä¿éµå®ˆ LSP åŸåˆ™ã€‚

é™¤äº†ææ°æ›¿æ¢åŸåˆ™å¤–ï¼Œè¿˜æœ‰å…¶ä»–å‡ ä¸ªé‡è¦çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼Œå®ƒä»¬å…±åŒæ„æˆäº† SOLID åŸåˆ™ï¼Œåˆ†åˆ«æ˜¯ï¼š

â‘ ã€å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle, SRPï¼‰ï¼ŒæŒ‡ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼Œå³ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä½¿ç±»æ›´åŠ æ¸…æ™°ï¼Œæ›´å®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚

â‘¡ã€å¼€é—­åŸåˆ™ï¼ˆOpen-Closed Principle, OCPï¼‰ï¼ŒæŒ‡è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€æ–¹æ³•ç­‰ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚è¿™æ„å‘³ç€è®¾è®¡æ—¶åº”è¯¥æ˜“äºæ‰©å±•ï¼Œæ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œå°½é‡ä¸ä¿®æ”¹ç°æœ‰ä»£ç ï¼Œè€Œæ˜¯é€šè¿‡æ·»åŠ æ–°ä»£ç æ¥å®ç°ã€‚

â‘¢ã€æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principle, ISPï¼‰ï¼ŒæŒ‡å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚è¿™æ„å‘³ç€è®¾è®¡æ¥å£æ—¶åº”è¯¥å°½é‡ç²¾ç®€ï¼Œä¸åº”è¯¥è®¾è®¡è‡ƒè‚¿åºå¤§çš„æ¥å£ã€‚

â‘£ã€ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principle, DIPï¼‰ï¼ŒæŒ‡é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚è¿™æ„å‘³ç€è®¾è®¡æ—¶åº”è¯¥å°½é‡ä¾èµ–æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œè€Œä¸æ˜¯å®ç°ç±»ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¸†è½¯åŒå­¦ 3 Java åç«¯ä¸€é¢çš„åŸé¢˜ï¼šè®¾è®¡æ–¹æ³•ï¼Œææ°åŸåˆ™ï¼Œè¿˜äº†è§£å“ªäº›è®¾è®¡åŸåˆ™
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯·è¯´è¯´å¤šæ€ã€é‡è½½å’Œé‡å†™

### 19.è®¿é—®ä¿®é¥°ç¬¦ publicã€privateã€protectedã€ä»¥åŠä¸å†™ï¼ˆé»˜è®¤ï¼‰æ—¶çš„åŒºåˆ«ï¼Ÿ

Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®æ§åˆ¶ç¬¦æ¥ä¿æŠ¤å¯¹ç±»ã€å˜é‡ã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„è®¿é—®ã€‚Java æ”¯æŒ 4 ç§ä¸åŒçš„è®¿é—®æƒé™ã€‚

- **default** ï¼ˆå³é»˜è®¤ï¼Œä»€ä¹ˆä¹Ÿä¸å†™ï¼‰: åœ¨åŒä¸€åŒ…å†…å¯è§ï¼Œä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ã€‚å¯ä»¥ä¿®é¥°åœ¨ç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚
- **private** : åœ¨åŒä¸€ç±»å†…å¯è§ã€‚å¯ä»¥ä¿®é¥°å˜é‡ã€æ–¹æ³•ã€‚**æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰**
- **public** : å¯¹æ‰€æœ‰ç±»å¯è§ã€‚å¯ä»¥ä¿®é¥°ç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•
- **protected** : å¯¹åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§ã€‚å¯ä»¥ä¿®é¥°å˜é‡ã€æ–¹æ³•ã€‚**æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰**ã€‚

![è®¿é—®ä¿®é¥°ç¬¦å’Œå¯è§æ€§](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-12.png)

### 20.this å…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

this æ˜¯è‡ªèº«çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š**æŒ‡å‘å¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªæŒ‡é’ˆ**ã€‚

this çš„ç”¨æ³•åœ¨ Java ä¸­å¤§ä½“å¯ä»¥åˆ†ä¸º 3 ç§ï¼š

1. æ™®é€šçš„ç›´æ¥å¼•ç”¨ï¼Œthis ç›¸å½“äºæ˜¯æŒ‡å‘å½“å‰å¯¹è±¡æœ¬èº«

2. å½¢å‚ä¸æˆå‘˜å˜é‡åå­—é‡åï¼Œç”¨ this æ¥åŒºåˆ†ï¼š

```java
public Person(String name,int age){
    this.name=name;
    this.age=age;
}
```

3. å¼•ç”¨æœ¬ç±»çš„æ„é€ æ–¹æ³•

### 21.æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼›ä½†ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨æ–°å»ºçº¿ç¨‹ç±»çš„æ—¶å€™ä¸€èˆ¬æ¨èä½¿ç”¨å®ç° Runnable æ¥å£çš„æ–¹å¼ï¼Œè¿™æ ·çº¿ç¨‹ç±»è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œè€Œä¸å•å•æ˜¯ Thread ç±»ã€‚

æŠ½è±¡ç±»ç¬¦åˆ is-a çš„å…³ç³»ï¼Œè€Œæ¥å£æ›´åƒæ˜¯ has-a çš„å…³ç³»ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªç±»å¯ä»¥åºåˆ—åŒ–çš„æ—¶å€™ï¼Œå®ƒåªéœ€è¦å®ç° Serializable æ¥å£å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å»ç»§æ‰¿ä¸€ä¸ªåºåˆ—åŒ–ç±»ã€‚

æŠ½è±¡ç±»æ›´å¤šåœ°æ˜¯ç”¨æ¥ä¸ºå¤šä¸ªç›¸å…³çš„ç±»æä¾›ä¸€ä¸ªå…±åŒçš„åŸºç¡€æ¡†æ¶ï¼ŒåŒ…æ‹¬çŠ¶æ€çš„åˆå§‹åŒ–ï¼Œè€Œæ¥å£åˆ™æ˜¯å®šä¹‰ä¸€å¥—è¡Œä¸ºæ ‡å‡†ï¼Œè®©ä¸åŒçš„ç±»å¯ä»¥å®ç°åŒä¸€æ¥å£ï¼Œæä¾›è¡Œä¸ºçš„å¤šæ ·åŒ–å®ç°ã€‚

#### æŠ½è±¡ç±»å¯ä»¥å®šä¹‰æ„é€ æ–¹æ³•å—ï¼Ÿ

å¯ä»¥ï¼ŒæŠ½è±¡ç±»å¯ä»¥æœ‰æ„é€ æ–¹æ³•ã€‚

```java
abstract class Animal {
    protected String name;

    public Animal(String name) {
        this.name = name;
    }

    public abstract void makeSound();
}

public class Dog extends Animal {
    private int age;

    public Dog(String name, int age) {
        super(name);  // è°ƒç”¨æŠ½è±¡ç±»çš„æ„é€ å‡½æ•°
        this.age = age;
    }

    @Override
    public void makeSound() {
        System.out.println(name + " says: Bark");
    }
}
```

#### æ¥å£å¯ä»¥å®šä¹‰æ„é€ æ–¹æ³•å—ï¼Ÿ

ä¸èƒ½ï¼Œæ¥å£ä¸»è¦ç”¨äºå®šä¹‰ä¸€ç»„æ–¹æ³•è§„èŒƒï¼Œæ²¡æœ‰å…·ä½“çš„å®ç°ç»†èŠ‚ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæ¥å£ä¸èƒ½å®šä¹‰æ„é€ æ–¹æ³•](https://cdn.tobebetterjavaer.com/stutymore/javase-20240512090855.png)

#### ç»§æ‰¿å’ŒæŠ½è±¡çš„åŒºåˆ«ï¼Ÿ

ç»§æ‰¿æ˜¯ä¸€ç§å…è®¸å­ç±»ç»§æ‰¿çˆ¶ç±»å±æ€§å’Œæ–¹æ³•çš„æœºåˆ¶ã€‚é€šè¿‡ç»§æ‰¿ï¼Œå­ç±»å¯ä»¥é‡ç”¨çˆ¶ç±»çš„ä»£ç ã€‚

æŠ½è±¡æ˜¯ä¸€ç§éšè—å¤æ‚æ€§å’Œåªæ˜¾ç¤ºå¿…è¦éƒ¨åˆ†çš„æŠ€æœ¯ã€‚åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼ŒæŠ½è±¡å¯ä»¥é€šè¿‡æŠ½è±¡ç±»å’Œæ¥å£å®ç°ã€‚

#### æŠ½è±¡ç±»å’Œæ™®é€šç±»çš„åŒºåˆ«ï¼Ÿ

æŠ½è±¡ç±»ä½¿ç”¨ abstract å…³é”®å­—å®šä¹‰ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½ä½œä¸ºå…¶ä»–ç±»çš„çˆ¶ç±»ã€‚æ™®é€šç±»æ²¡æœ‰ abstract å…³é”®å­—ï¼Œå¯ä»¥ç›´æ¥å®ä¾‹åŒ–ã€‚

æŠ½è±¡ç±»å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•å’ŒéæŠ½è±¡æ–¹æ³•ã€‚æŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“ï¼Œå¿…é¡»ç”±å­ç±»å®ç°ã€‚æ™®é€šç±»æ™ºèƒ½åŒ…å«éæŠ½è±¡æ–¹æ³•ã€‚

```java
abstract class Animal {
    // æŠ½è±¡æ–¹æ³•
    public abstract void makeSound();

    // éæŠ½è±¡æ–¹æ³•
    public void eat() {
        System.out.println("This animal is eating.");
    }
}

class Dog extends Animal {
    // å®ç°æŠ½è±¡æ–¹æ³•
    @Override
    public void makeSound() {
        System.out.println("Woof");
    }
}

public class Test {
    public static void main(String[] args) {
        Dog dog = new Dog();
        dog.makeSound(); // è¾“å‡º "Woof"
        dog.eat(); // è¾“å‡º "This animal is eating."
    }
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šæŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šæŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼ŸæŠ½è±¡ç±»å¯ä»¥å®šä¹‰æ„é€ æ–¹æ³•å—ï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šç»§æ‰¿å’ŒæŠ½è±¡çš„åŒºåˆ«
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šæŠ½è±¡ç±»èƒ½å†™æ„é€ æ–¹æ³•å—ï¼ˆèƒ½ï¼‰æ¥å£èƒ½å—ï¼ˆä¸èƒ½ï¼‰ä¸ºä»€ä¹ˆäºŒè€…æœ‰è¿™æ ·çš„åŒºåˆ«

### 22.æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ

1. **ä»è¯­æ³•å½¢å¼ä¸Šçœ‹**ï¼šæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œâ½½å±€éƒ¨å˜é‡æ˜¯åœ¨â½…æ³•ä¸­å®šä¹‰çš„å˜é‡æˆ–æ˜¯â½…æ³•çš„å‚æ•°ï¼›æˆå‘˜å˜é‡å¯ä»¥è¢« public , private , static ç­‰ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œâ½½å±€éƒ¨å˜é‡ä¸èƒ½è¢«è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åŠ static æ‰€ä¿®é¥°ï¼›ä½†æ˜¯ï¼Œæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½èƒ½è¢« final æ‰€ä¿®é¥°ã€‚

2. **ä»å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨â½…å¼æ¥çœ‹**ï¼šå¦‚æœæˆå‘˜å˜é‡æ˜¯ä½¿â½¤ static ä¿®é¥°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œå¦‚æœæ²¡æœ‰ä½¿â½¤ static ä¿®é¥°ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºå®ä¾‹çš„ã€‚å¯¹è±¡å­˜äºå †å†…å­˜ï¼Œå¦‚æœå±€éƒ¨å˜é‡ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå­˜å‚¨åœ¨æ ˆå†…å­˜ï¼Œå¦‚æœä¸ºå¼•â½¤æ•°æ®ç±»å‹ï¼Œé‚£å­˜æ”¾çš„æ˜¯æŒ‡å‘å †å†…å­˜å¯¹è±¡çš„å¼•â½¤æˆ–è€…æ˜¯æŒ‡å‘å¸¸é‡æ± ä¸­çš„åœ°å€ã€‚

3. **ä»å˜é‡åœ¨å†…å­˜ä¸­çš„â½£å­˜æ—¶é—´ä¸Šçœ‹**ï¼šæˆå‘˜å˜é‡æ˜¯å¯¹è±¡çš„â¼€éƒ¨åˆ†ï¼Œå®ƒéšç€å¯¹è±¡çš„åˆ›å»ºâ½½å­˜åœ¨ï¼Œâ½½å±€éƒ¨å˜é‡éšç€â½…æ³•çš„è°ƒâ½¤â½½â¾ƒåŠ¨æ¶ˆå¤±ã€‚

4. **æˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰è¢«èµ‹åˆå€¼**ï¼šåˆ™ä¼šâ¾ƒåŠ¨ä»¥ç±»å‹çš„é»˜è®¤å€¼â½½èµ‹å€¼ï¼ˆâ¼€ç§æƒ…å†µä¾‹å¤–:è¢« final ä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¾å¼åœ°èµ‹å€¼ï¼‰ï¼Œâ½½å±€éƒ¨å˜é‡åˆ™ä¸ä¼šâ¾ƒåŠ¨èµ‹å€¼ã€‚

### 23.é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«ï¼Ÿé™æ€æ–¹æ³•ã€å®ä¾‹æ–¹æ³•å‘¢ï¼Ÿ

> é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«ï¼Ÿ

**é™æ€å˜é‡:** æ˜¯è¢« static ä¿®é¥°ç¬¦ä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿç§°ä¸ºç±»å˜é‡ï¼Œå®ƒå±äºç±»ï¼Œä¸å±äºç±»çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªç±»ä¸ç®¡åˆ›å»ºå¤šå°‘ä¸ªå¯¹è±¡ï¼Œé™æ€å˜é‡åœ¨å†…å­˜ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚

**å®ä¾‹å˜é‡:** å¿…é¡»ä¾å­˜äºæŸä¸€å®ä¾‹ï¼Œéœ€è¦å…ˆåˆ›å»ºå¯¹è±¡ç„¶åé€šè¿‡å¯¹è±¡æ‰èƒ½è®¿é—®åˆ°å®ƒã€‚é™æ€å˜é‡å¯ä»¥å®ç°è®©å¤šä¸ªå¯¹è±¡å…±äº«å†…å­˜ã€‚

> é™æ€â½…æ³•å’Œå®ä¾‹â½…æ³•æœ‰ä½•ä¸åŒ?

ç±»ä¼¼åœ°ã€‚

**é™æ€æ–¹æ³•**ï¼šstatic ä¿®é¥°çš„æ–¹æ³•ï¼Œä¹Ÿè¢«ç§°ä¸ºç±»æ–¹æ³•ã€‚åœ¨å¤–éƒ¨è°ƒâ½¤é™æ€â½…æ³•æ—¶ï¼Œå¯ä»¥ä½¿â½¤"**ç±»å.â½…æ³•å**"çš„â½…å¼ï¼Œä¹Ÿå¯ä»¥ä½¿â½¤"**å¯¹è±¡å.â½…æ³•å**"çš„â½…å¼ã€‚é™æ€æ–¹æ³•é‡Œä¸èƒ½è®¿é—®ç±»çš„éé™æ€æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚

**å®ä¾‹â½…æ³•**ï¼šä¾å­˜äºç±»çš„å®ä¾‹ï¼Œéœ€è¦ä½¿ç”¨"**å¯¹è±¡å.â½…æ³•å**"çš„â½…å¼è°ƒç”¨ï¼›å¯ä»¥è®¿é—®ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚

### 24.final å…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

â‘ ã€å½“ final ä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚æ¯”å¦‚ï¼ŒString ç±»ã€Integer ç±»å’Œå…¶ä»–åŒ…è£…ç±»éƒ½æ˜¯ç”¨ final ä¿®é¥°çš„ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šfinal ä¿®é¥°ç±»](https://cdn.tobebetterjavaer.com/stutymore/javase-20240415111236.png)

â‘¡ã€å½“ final ä¿®é¥°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼ˆOverrideï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªç±»ç»§æ‰¿äº†æŸä¸ªç±»ï¼Œå¹¶ä¸”æƒ³è¦æ”¹å˜çˆ¶ç±»ä¸­è¢« final ä¿®é¥°çš„æ–¹æ³•çš„è¡Œä¸ºï¼Œæ˜¯ä¸è¢«å…è®¸çš„ã€‚

â‘¢ã€å½“ final ä¿®é¥°ä¸€ä¸ªå˜é‡æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªå˜é‡çš„å€¼ä¸€æ—¦è¢«åˆå§‹åŒ–å°±ä¸èƒ½è¢«ä¿®æ”¹ã€‚

å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå…¶æ•°å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–ä¹‹åå°±ä¸èƒ½æ›´æ”¹ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åå°±ä¸èƒ½å†è®©å…¶æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šä¸èƒ½æ›´æ”¹](https://cdn.tobebetterjavaer.com/stutymore/javase-20240415111725.png)

ä½†æ˜¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡å†…å®¹å¯ä»¥æ”¹å˜ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šfinalä¿®é¥°å˜é‡](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-13.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ final å…³é”®å­—
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šfinal çš„ç”¨å¤„

### 25.finalã€finallyã€finalize çš„åŒºåˆ«ï¼Ÿ

â‘ ã€[final æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦](https://javabetter.cn/oo/final.html)ï¼Œå¯ä»¥ä¿®é¥°ç±»ã€æ–¹æ³•å’Œå˜é‡ã€‚å½“ final ä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼›å½“ final ä¿®é¥°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼›å½“ final ä¿®é¥°ä¸€ä¸ªå˜é‡æ—¶ï¼Œè¡¨æ˜è¿™ä¸ªå˜é‡æ˜¯ä¸ªå¸¸é‡ï¼Œä¸€æ—¦èµ‹å€¼åï¼Œå°±ä¸èƒ½å†è¢«ä¿®æ”¹äº†ã€‚

â‘¡ã€finally æ˜¯ Java ä¸­å¼‚å¸¸å¤„ç†çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥åˆ›å»º try å—åé¢çš„ finally å—ã€‚æ— è®º try å—ä¸­çš„ä»£ç æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œfinally å—ä¸­çš„ä»£ç æ€»æ˜¯ä¼šè¢«æ‰§è¡Œã€‚é€šå¸¸ï¼Œfinally å—è¢«ç”¨æ¥é‡Šæ”¾èµ„æºï¼Œå¦‚å…³é—­æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚

â‘¢ã€finalize æ˜¯[Object ç±»](https://javabetter.cn/oo/object-class.html#_05%E3%80%81%E5%85%B3%E4%BA%8E-object-%E7%B1%BB)çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåœ¨åƒåœ¾å›æ”¶å™¨å°†å¯¹è±¡ä»å†…å­˜ä¸­æ¸…é™¤å‡ºå»ä¹‹å‰åšä¸€äº›å¿…è¦çš„æ¸…ç†å·¥ä½œã€‚

è¿™ä¸ªæ–¹æ³•åœ¨åƒåœ¾å›æ”¶å™¨å‡†å¤‡é‡Šæ”¾å¯¹è±¡å ç”¨çš„å†…å­˜ä¹‹å‰è¢«è‡ªåŠ¨è°ƒç”¨ã€‚æˆ‘ä»¬ä¸èƒ½æ˜¾å¼åœ°è°ƒç”¨ finalize æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ€»æ˜¯ç”±åƒåœ¾å›æ”¶å™¨åœ¨é€‚å½“çš„æ—¶é—´è‡ªåŠ¨è°ƒç”¨ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://cdn.tobebetterjavaer.com/stutymore/javase-20240407165712.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šfinalã€finallyã€finalize çš„åŒºåˆ«ï¼Ÿ

### 26.==å’Œ equals çš„åŒºåˆ«ï¼Ÿ

åœ¨ Java ä¸­ï¼Œ`==` æ“ä½œç¬¦å’Œ `equals()` æ–¹æ³•ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼š

â‘ ã€==ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå³å®ƒä»¬æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚

å¦‚æœä¸¤ä¸ªå˜é‡å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œ`==` è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚

å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚ `int`, `double`, `char` ç­‰ï¼‰ï¼Œ`==` æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ã€‚

â‘¡ã€**equals() æ–¹æ³•**ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`equals()` æ–¹æ³•çš„è¡Œä¸ºä¸ `==` ç›¸åŒï¼Œå³æ¯”è¾ƒå¯¹è±¡å¼•ç”¨ï¼Œå¦‚åœ¨è¶…ç±» Object ä¸­ï¼š

```java
public boolean equals(Object obj) {
    return (this == obj);
}
```

ç„¶è€Œï¼Œ`equals()` æ–¹æ³•é€šå¸¸è¢«å„ç§ç±»é‡å†™ã€‚ä¾‹å¦‚ï¼Œ`String` ç±»é‡å†™äº† `equals()` æ–¹æ³•ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦å†…å®¹æ˜¯å¦å®Œå…¨ä¸€æ ·ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼ŒStringçš„equals()æºç ](https://cdn.tobebetterjavaer.com/stutymore/javase-20240425093626.png)

ä¸¾ä¸ªä¾‹å­ï¼š

```java
String a = new String("æ²‰é»˜ç‹äºŒ");
String b = new String("æ²‰é»˜ç‹äºŒ");

// ä½¿ç”¨ == æ¯”è¾ƒ
System.out.println(a == b); // è¾“å‡º falseï¼Œå› ä¸º a å’Œ b å¼•ç”¨ä¸åŒçš„å¯¹è±¡

// ä½¿ç”¨ equals() æ¯”è¾ƒ
System.out.println(a.equals(b)); // è¾“å‡º trueï¼Œå› ä¸º a å’Œ b çš„å†…å®¹ç›¸åŒ
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼š==å’Œ equals()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ å°å…¬å¸é¢ç»åˆé›†å¥½æœªæ¥æµ‹å¼€é¢ç»åŒå­¦ 3 æµ‹å¼€ä¸€é¢é¢è¯•åŸé¢˜ï¼š==å’Œ equals çš„åŒºåˆ«

### 27.hashCode ä¸ equals?

è¿™é“é¢˜ä¹Ÿæ˜¯é¢è¯•å¸¸é—®å¾—â€”â€”â€œä½ é‡å†™è¿‡ hashcode å’Œ equals ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿâ€

#### ä»€ä¹ˆæ˜¯ hashCode æ–¹æ³•ï¼Ÿ

`hashCode()` æ–¹æ³•çš„ä½œâ½¤æ˜¯è·å–å“ˆå¸Œç ï¼Œå®ƒä¼šè¿”å›â¼€ä¸ª int æ•´æ•°ï¼Œå®šä¹‰åœ¨ [Object ç±»](https://javabetter.cn/oo/object-class.html)ä¸­ï¼Œ æ˜¯ä¸€ä¸ªæœ¬åœ°â½…æ³•ã€‚

```java
public native int hashCode();
```

#### ä¸ºä»€ä¹ˆè¦æœ‰ hashCode æ–¹æ³•ï¼Ÿ

hashCode æ–¹æ³•ä¸»è¦ç”¨æ¥è·å–å¯¹è±¡çš„å“ˆå¸Œç ï¼Œå“ˆå¸Œç æ˜¯ç”±å¯¹è±¡çš„å†…å­˜åœ°å€æˆ–è€…å¯¹è±¡çš„å±æ€§è®¡ç®—å‡ºæ¥çš„ï¼Œå®ƒæ˜¯â¼€ä¸ª int ç±»å‹çš„æ•´æ•°ï¼Œé€šå¸¸æ˜¯ä¸ä¼šé‡å¤çš„ï¼Œå› æ­¤å¯ä»¥ç”¨æ¥ä½œä¸ºé”®å€¼å¯¹çš„å»ºï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚

ä¾‹å¦‚ [HashMap](https://javabetter.cn/collection/hashmap.html#_01%E3%80%81hash%E6%96%B9%E6%B3%95%E7%9A%84%E5%8E%9F%E7%90%86) ä¸­çš„ key å°±æ˜¯é€šè¿‡ hashCode æ¥å®ç°çš„ï¼Œé€šè¿‡è°ƒç”¨ hashCode æ–¹æ³•è·å–é”®çš„å“ˆå¸Œç ï¼Œå¹¶å°†å…¶ä¸å³ç§» 16 ä½çš„å“ˆå¸Œç è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚

```java
static final int hash(Object key) {
    int h;
    return (key == null) ? 0 : (h = key.hashCode()) ^ (h >>> 16);
}
```

#### ä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿ

ç»´æŠ¤ `equals()`å’Œ `hashCode()`ä¹‹é—´çš„ä¸€è‡´æ€§æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºåŸºäºå“ˆå¸Œçš„é›†åˆç±»ï¼ˆå¦‚ HashSetã€HashMapã€Hashtable ç­‰ï¼‰ä¾èµ–äºè¿™ä¸€ç‚¹æ¥æ­£ç¡®å­˜å‚¨å’Œæ£€ç´¢å¯¹è±¡ã€‚

å…·ä½“åœ°è¯´ï¼Œè¿™äº›é›†åˆé€šè¿‡å¯¹è±¡çš„å“ˆå¸Œç å°†å…¶å­˜å‚¨åœ¨ä¸åŒçš„â€œæ¡¶â€ä¸­ï¼ˆåº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ï¼Œå“ˆå¸Œç ç”¨æ¥ç¡®å®šä¸‹æ ‡ï¼‰ï¼Œå½“æŸ¥æ‰¾å¯¹è±¡æ—¶ï¼Œå®ƒä»¬ä½¿ç”¨å“ˆå¸Œç ç¡®å®šåœ¨å“ªä¸ªæ¡¶ä¸­æœç´¢ï¼Œç„¶åé€šè¿‡ `equals()`æ–¹æ³•åœ¨æ¡¶ä¸­æ‰¾åˆ°æ­£ç¡®çš„å¯¹è±¡ã€‚

å¦‚æœé‡å†™äº† `equals()`æ–¹æ³•è€Œæ²¡æœ‰é‡å†™ `hashCode()`æ–¹æ³•ï¼Œé‚£ä¹ˆè¢«è®¤ä¸ºç›¸ç­‰çš„å¯¹è±¡å¯èƒ½ä¼šæœ‰ä¸åŒçš„å“ˆå¸Œç ï¼Œä»è€Œå¯¼è‡´æ— æ³•åœ¨é›†åˆä¸­æ­£ç¡®å¤„ç†è¿™äº›å¯¹è±¡ã€‚

#### ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸â¼€å®šç›¸ç­‰ï¼Ÿ

è¿™ä¸»è¦æ˜¯ç”±äºå“ˆå¸Œç ï¼ˆhashCodeï¼‰çš„æœ¬è´¨å’Œç›®çš„æ‰€å†³å®šçš„ã€‚

å“ˆå¸Œç æ˜¯é€šè¿‡å“ˆå¸Œå‡½æ•°å°†å¯¹è±¡ä¸­æ˜ å°„æˆä¸€ä¸ªæ•´æ•°å€¼ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯åœ¨å“ˆå¸Œè¡¨ä¸­å¿«é€Ÿå®šä½å¯¹è±¡çš„å­˜å‚¨ä½ç½®ã€‚

ç”±äºå“ˆå¸Œå‡½æ•°å°†ä¸€ä¸ªè¾ƒå¤§çš„è¾“å…¥åŸŸæ˜ å°„åˆ°ä¸€ä¸ªè¾ƒå°çš„è¾“å‡ºåŸŸï¼Œä¸åŒçš„è¾“å…¥å€¼ï¼ˆå³ä¸åŒçš„å¯¹è±¡ï¼‰å¯èƒ½ä¼šäº§ç”Ÿç›¸åŒçš„è¾“å‡ºå€¼ï¼ˆå³ç›¸åŒçš„å“ˆå¸Œç ï¼‰ã€‚

è¿™ç§æƒ…å†µè¢«ç§°ä¸ºå“ˆå¸Œå†²çªã€‚å½“ä¸¤ä¸ªä¸ç›¸ç­‰çš„å¯¹è±¡å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œå®ƒä»¬ä¼šæœ‰ç›¸åŒçš„ hashCodeã€‚

ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªçš„é—®é¢˜ï¼Œå“ˆå¸Œè¡¨åœ¨å¤„ç†é”®æ—¶ï¼Œä¸ä»…ä¼šæ¯”è¾ƒé”®å¯¹è±¡çš„å“ˆå¸Œç ï¼Œè¿˜ä¼šä½¿ç”¨ equals æ–¹æ³•æ¥æ£€æŸ¥é”®å¯¹è±¡æ˜¯å¦çœŸæ­£ç›¸ç­‰ã€‚å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„å“ˆå¸Œç ç›¸åŒï¼Œä½†é€šè¿‡ equals æ–¹æ³•æ¯”è¾ƒç»“æœä¸º falseï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡å°±ä¸è¢«è§†ä¸ºç›¸ç­‰ã€‚

```java
if (p.hash == hash &&
    ((k = p.key) == key || (key != null && key.equals(k))))
    e = p;
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šhashcode å’Œ equals æ–¹æ³•åªé‡å†™ä¸€ä¸ªè¡Œä¸è¡Œï¼Œåªé‡å†™ equals æ²¡é‡å†™ hashcodeï¼Œmap put çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆé‡å†™equalsï¼Œå»ºè®®å¿…é¡»é‡å†™hashCodeæ–¹æ³•

### 28.Java æ˜¯å€¼ä¼ é€’ï¼Œè¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ

Java æ˜¯å€¼ä¼ é€’ï¼Œä¸æ˜¯å¼•ç”¨ä¼ é€’ã€‚

å½“ä¸€ä¸ªå¯¹è±¡è¢«ä½œä¸ºå‚æ•°ä¼ é€’åˆ°æ–¹æ³•ä¸­æ—¶ï¼Œå‚æ•°çš„å€¼å°±æ˜¯è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚å¼•ç”¨çš„å€¼æ˜¯å¯¹è±¡åœ¨å †ä¸­çš„åœ°å€ã€‚

å¯¹è±¡æ˜¯å­˜å‚¨åœ¨å †ä¸­çš„ï¼Œæ‰€ä»¥ä¼ é€’å¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠå˜é‡å­˜å‚¨çš„å¯¹è±¡åœ°å€ç»™ä¼ é€’è¿‡å»ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJavaå¼•ç”¨æ•°æ®å€¼ä¼ é€’ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-14.png)

#### å¼•ç”¨ç±»å‹çš„å˜é‡æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ

å¼•ç”¨ç±»å‹çš„å˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„åœ°å€ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚å› æ­¤ï¼Œå¼•ç”¨ç±»å‹çš„å˜é‡åœ¨ä¼ é€’æ—¶ï¼Œä¼ é€’çš„æ˜¯å¯¹è±¡çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¼ é€’çš„æ˜¯å¼•ç”¨çš„å€¼ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸º OD é¢ç»åŒå­¦ 1 ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¼•ç”¨ç±»å‹çš„å˜é‡æœ‰ä»€ä¹ˆç‰¹ç‚¹
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šJVM å¼•ç”¨ç±»å‹æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ

### 29.è¯´è¯´æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«?

æ¨èé˜…è¯»ï¼š[æ·±å…¥ç†è§£Javaæµ…æ‹·è´ä¸æ·±æ‹·è´](https://javabetter.cn/basic-extra-meal/deep-copy.html)

åœ¨ Java ä¸­ï¼Œæ·±æ‹·è´ï¼ˆDeep Copyï¼‰å’Œæµ…æ‹·è´ï¼ˆShallow Copyï¼‰æ˜¯ä¸¤ç§æ‹·è´å¯¹è±¡çš„æ–¹å¼ï¼Œå®ƒä»¬åœ¨æ‹·è´å¯¹è±¡çš„æ–¹å¼ä¸Šæœ‰å¾ˆå¤§ä¸åŒã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæµ…æ‹·è´å’Œæ·±æ‹·è´ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-15.png)


æµ…æ‹·è´ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†è¿™ä¸ªæ–°å¯¹è±¡çš„å±æ€§ï¼ˆå­—æ®µï¼‰å’ŒåŸå¯¹è±¡çš„å±æ€§å®Œå…¨ç›¸åŒã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ï¼›å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„æ˜¯å¼•ç”¨åœ°å€ï¼Œå› æ­¤æ–°æ—§å¯¹è±¡å…±äº«åŒä¸€ä¸ªå¼•ç”¨å¯¹è±¡ã€‚

æµ…æ‹·è´çš„å®ç°æ–¹å¼ä¸ºï¼šå®ç° Cloneable æ¥å£å¹¶é‡å†™ `clone()` æ–¹æ³•ã€‚

```java
class Person implements Cloneable {
    String name;
    int age;
    Address address;

    public Person(String name, int age, Address address) {
        this.name = name;
        this.age = age;
        this.address = address;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException {
        return super.clone();
    }
}

class Address {
    String city;

    public Address(String city) {
        this.city = city;
    }
}

public class Main {
    public static void main(String[] args) throws CloneNotSupportedException {
        Address address = new Address("æ²³å—çœæ´›é˜³å¸‚");
        Person person1 = new Person("æ²‰é»˜ç‹äºŒ", 18, address);
        Person person2 = (Person) person1.clone();

        System.out.println(person1.address == person2.address); // true
    }
}
```

æ·±æ‹·è´ä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†ä¼šé€’å½’åœ°å¤åˆ¶æ‰€æœ‰çš„å¼•ç”¨å¯¹è±¡ï¼Œç¡®ä¿æ–°å¯¹è±¡å’ŒåŸå¯¹è±¡å®Œå…¨ç‹¬ç«‹ã€‚æ–°å¯¹è±¡ä¸åŸå¯¹è±¡çš„ä»»ä½•æ›´æ”¹éƒ½ä¸ä¼šç›¸äº’å½±å“ã€‚

æ·±æ‹·è´çš„å®ç°æ–¹å¼æœ‰ï¼šæ‰‹åŠ¨å¤åˆ¶æ‰€æœ‰çš„å¼•ç”¨å¯¹è±¡ï¼Œæˆ–è€…ä½¿ç”¨åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚

â‘ ã€æ‰‹åŠ¨æ‹·è´

```java
class Person {
    String name;
    int age;
    Address address;

    public Person(String name, int age, Address address) {
        this.name = name;
        this.age = age;
        this.address = address;
    }

    public Person(Person person) {
        this.name = person.name;
        this.age = person.age;
        this.address = new Address(person.address.city);
    }
}

class Address {
    String city;

    public Address(String city) {
        this.city = city;
    }
}

public class Main {
    public static void main(String[] args) {
        Address address = new Address("æ²³å—çœæ´›é˜³å¸‚");
        Person person1 = new Person("æ²‰é»˜ç‹äºŒ", 18, address);
        Person person2 = new Person(person1);

        System.out.println(person1.address == person2.address); // false
    }
}
```

â‘¡ã€åºåˆ—åŒ–ä¸ååºåˆ—åŒ–

```java
import java.io.*;

class Person implements Serializable {
    String name;
    int age;
    Address address;

    public Person(String name, int age, Address address) {
        this.name = name;
        this.age = age;
        this.address = address;
    }

    public Person deepClone() throws IOException, ClassNotFoundException {
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(bos);
        oos.writeObject(this);

        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bis);
        return (Person) ois.readObject();
    }
}

class Address implements Serializable {
    String city;

    public Address(String city) {
        this.city = city;
    }
}

public class Main {
    public static void main(String[] args) throws IOException, ClassNotFoundException {
        Address address = new Address("æ²³å—çœæ´›é˜³å¸‚");
        Person person1 = new Person("æ²‰é»˜ç‹äºŒ", 18, address);
        Person person2 = person1.deepClone();

        System.out.println(person1.address == person2.address); // false
    }
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„é˜¿é‡Œé¢ç»åŒå­¦ 7  é«˜å¾·åœ°å›¾æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæµ…æ‹·è´å’Œæ·±æ‹·è´

### 30.Java åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJavaåˆ›å»ºå¯¹è±¡çš„å››ç§æ–¹å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-16.png)

Java æœ‰å››ç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼š

â‘ ã€new å…³é”®å­—åˆ›å»ºï¼Œè¿™æ˜¯æœ€å¸¸è§å’Œç›´æ¥çš„æ–¹å¼ï¼Œé€šè¿‡è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚

```java
Person person = new Person();
```

â‘¡ã€åå°„æœºåˆ¶åˆ›å»ºï¼Œåå°„æœºåˆ¶å…è®¸åœ¨è¿è¡Œæ—¶åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œåœ¨æ¡†æ¶å’Œå·¥å…·ç±»ä¸­æ¯”è¾ƒå¸¸è§ã€‚

```java
Class clazz = Class.forName("Person");
Person person = (Person) clazz.newInstance();
```

â‘¢ã€clone æ‹·è´åˆ›å»ºï¼Œé€šè¿‡ clone æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œéœ€è¦å®ç° Cloneable æ¥å£å¹¶é‡å†™ clone æ–¹æ³•ã€‚

```java
Person person = new Person();
Person person2 = (Person) person.clone();
```

â‘£ã€åºåˆ—åŒ–æœºåˆ¶åˆ›å»ºï¼Œé€šè¿‡åºåˆ—åŒ–å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œå†é€šè¿‡ååºåˆ—åŒ–ä»å­—èŠ‚æµä¸­æ¢å¤å¯¹è±¡ã€‚éœ€è¦å®ç° Serializable æ¥å£ã€‚

```java
Person person = new Person();
ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("person.txt"));
oos.writeObject(person);
ObjectInputStream ois = new ObjectInputStream(new FileInputStream("person.txt"));
Person person2 = (Person) ois.readObject();
```


#### newå­ç±»çš„æ—¶å€™ï¼Œå­ç±»å’Œçˆ¶ç±»é™æ€ä»£ç å—ï¼Œæ„é€ æ–¹æ³•çš„æ‰§è¡Œé¡ºåº

åœ¨ Java ä¸­ï¼Œå½“åˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ï¼Œå­ç±»å’Œçˆ¶ç±»çš„é™æ€ä»£ç å—ã€æ„é€ æ–¹æ³•çš„æ‰§è¡Œé¡ºåºéµå¾ªä¸€å®šçš„è§„åˆ™ã€‚è¿™äº›è§„åˆ™ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. é¦–å…ˆæ‰§è¡Œçˆ¶ç±»çš„é™æ€ä»£ç å—ï¼ˆä»…åœ¨ç±»ç¬¬ä¸€æ¬¡åŠ è½½æ—¶æ‰§è¡Œï¼‰ã€‚
2. æ¥ç€æ‰§è¡Œå­ç±»çš„é™æ€ä»£ç å—ï¼ˆä»…åœ¨ç±»ç¬¬ä¸€æ¬¡åŠ è½½æ—¶æ‰§è¡Œï¼‰ã€‚
3. å†æ‰§è¡Œçˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚
4. æœ€åæ‰§è¡Œå­ç±»çš„æ„é€ æ–¹æ³•ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ä»£ç ç¤ºä¾‹ï¼š

```java
class Parent {
    // çˆ¶ç±»é™æ€ä»£ç å—
    static {
        System.out.println("çˆ¶ç±»é™æ€ä»£ç å—");
    }

    // çˆ¶ç±»æ„é€ æ–¹æ³•
    public Parent() {
        System.out.println("çˆ¶ç±»æ„é€ æ–¹æ³•");
    }
}

class Child extends Parent {
    // å­ç±»é™æ€ä»£ç å—
    static {
        System.out.println("å­ç±»é™æ€ä»£ç å—");
    }

    // å­ç±»æ„é€ æ–¹æ³•
    public Child() {
        System.out.println("å­ç±»æ„é€ æ–¹æ³•");
    }
}

public class Main {
    public static void main(String[] args) {
        new Child();
    }
}
```

æ‰§è¡Œä¸Šè¿°ä»£ç æ—¶ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```
çˆ¶ç±»é™æ€ä»£ç å—
å­ç±»é™æ€ä»£ç å—
çˆ¶ç±»æ„é€ æ–¹æ³•
å­ç±»æ„é€ æ–¹æ³•
```

- é™æ€ä»£ç å—ï¼šåœ¨ç±»åŠ è½½æ—¶æ‰§è¡Œï¼Œä»…æ‰§è¡Œä¸€æ¬¡ï¼ŒæŒ‰çˆ¶ç±»-å­ç±»çš„é¡ºåºæ‰§è¡Œã€‚
- æ„é€ æ–¹æ³•ï¼šåœ¨æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œï¼ŒæŒ‰çˆ¶ç±»-å­ç±»çš„é¡ºåºæ‰§è¡Œï¼Œå…ˆåˆå§‹åŒ–å—åæ„é€ æ–¹æ³•ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 2  åç«¯é¢è¯•åŸé¢˜ï¼šnewå­ç±»çš„æ—¶å€™ï¼Œå­ç±»å’Œçˆ¶ç±»é™æ€ä»£ç å—ï¼Œæ„é€ æ–¹æ³•çš„æ‰§è¡Œé¡ºåº

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## String

### 31.String æ˜¯ Java åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿå¯ä»¥è¢«ç»§æ‰¿å—ï¼Ÿ

#### String æ˜¯ Java åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ

ä¸æ˜¯ï¼Œ`String` æ˜¯ä¸€ä¸ªç±»ï¼Œå±äºå¼•ç”¨æ•°æ®ç±»å‹ã€‚Java çš„åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬å…«ç§ï¼šå››ç§æ•´å‹ï¼ˆ`byte`ã€`short`ã€`int`ã€`long`ï¼‰ã€ä¸¤ç§æµ®ç‚¹å‹ï¼ˆ`float`ã€`double`ï¼‰ã€ä¸€ç§å­—ç¬¦å‹ï¼ˆ`char`ï¼‰å’Œä¸€ç§å¸ƒå°”å‹ï¼ˆ`boolean`ï¼‰ã€‚

#### String ç±»å¯ä»¥ç»§æ‰¿å—ï¼Ÿ

ä¸è¡Œã€‚String ç±»ä½¿ç”¨ final ä¿®é¥°ï¼Œæ˜¯æ‰€è°“çš„ä¸å¯å˜ç±»ï¼Œæ— æ³•è¢«ç»§æ‰¿ã€‚

#### String æœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•ï¼Ÿ

æˆ‘è‡ªå·±å¸¸ç”¨çš„æœ‰ï¼š

1. `length()` - è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚
2. `charAt(int index)` - è¿”å›æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚
3. `substring(int beginIndex, int endIndex)` - è¿”å›å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­ä¸²ï¼Œä» `beginIndex` åˆ° `endIndex-1`ã€‚
4. `contains(CharSequence s)` - æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦åºåˆ—ã€‚
5. `equals(Object anotherObject)` - æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚
6. `indexOf(int ch)` å’Œ `indexOf(String str)` - è¿”å›æŒ‡å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚
7. `replace(char oldChar, char newChar)` å’Œ `replace(CharSequence target, CharSequence replacement)` - æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æˆ–å­—ç¬¦åºåˆ—ã€‚
8. `trim()` - å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦ã€‚
9. `split(String regex)` - æ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚

> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ å°å…¬å¸é¢ç»åˆé›†å¥½æœªæ¥æµ‹å¼€é¢ç»åŒå­¦ 3 æµ‹å¼€ä¸€é¢é¢è¯•åŸé¢˜ï¼šString æ˜¯ Java çš„åŸºæœ¬æ•°æ®ç±»å‹å—ï¼ŒString æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

### 32.String å’Œ StringBuilderã€StringBuffer çš„åŒºåˆ«ï¼Ÿ

æ¨èé˜…è¯»ï¼š[StringBuffer å’Œ StringBuilder ä¸¤å…„å¼Ÿ](https://javabetter.cn/string/builder-buffer.html)

`String`ã€`StringBuilder`å’Œ`StringBuffer`åœ¨ Java ä¸­éƒ½æ˜¯ç”¨äºå¤„ç†å­—ç¬¦ä¸²çš„ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ï¼ŒString æ˜¯ä¸å¯å˜çš„ï¼Œå¹³å¸¸å¼€å‘ç”¨å¾—æœ€å¤šï¼Œå½“é‡åˆ°å¤§é‡å­—ç¬¦ä¸²è¿æ¥æ—¶ï¼Œå°±ç”¨ StringBuilderï¼Œå®ƒä¸ä¼šç”Ÿæˆå¾ˆå¤šæ–°çš„å¯¹è±¡ï¼ŒStringBuffer å’Œ StringBuilder ç±»ä¼¼ï¼Œä½†æ¯ä¸ªæ–¹æ³•ä¸Šéƒ½åŠ äº† synchronized å…³é”®å­—ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

#### è¯·è¯´è¯´Stringçš„ç‰¹ç‚¹

- `String`ç±»çš„å¯¹è±¡æ˜¯[ä¸å¯å˜çš„](https://javabetter.cn/string/immutable.html)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸€ä¸ª`String`å¯¹è±¡è¢«åˆ›å»ºï¼Œå®ƒæ‰€åŒ…å«çš„å­—ç¬¦ä¸²å†…å®¹æ˜¯ä¸å¯æ”¹å˜çš„ã€‚
- æ¯æ¬¡å¯¹`String`å¯¹è±¡è¿›è¡Œä¿®æ”¹æ“ä½œï¼ˆå¦‚æ‹¼æ¥ã€æ›¿æ¢ç­‰ï¼‰å®é™…ä¸Šéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„`String`å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸæœ‰å¯¹è±¡ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜å’Œæ€§èƒ½å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨å¤§é‡å­—ç¬¦ä¸²æ“ä½œçš„æƒ…å†µä¸‹ã€‚

#### è¯·è¯´è¯´StringBuilderçš„ç‰¹ç‚¹

- `StringBuilder`æä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•æ¥è¿›è¡Œå­—ç¬¦ä¸²çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯ç›´æ¥åœ¨åŸæœ‰å­—ç¬¦ä¸²å¯¹è±¡çš„åº•å±‚æ•°ç»„ä¸Šè¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„ String å¯¹è±¡ã€‚
- `StringBuilder`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™æ„å‘³ç€åœ¨æ²¡æœ‰å¤–éƒ¨åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œå®ƒä¸é€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒã€‚
- ç›¸æ¯”äº`String`ï¼Œåœ¨è¿›è¡Œé¢‘ç¹çš„å­—ç¬¦ä¸²ä¿®æ”¹æ“ä½œæ—¶ï¼Œ`StringBuilder`èƒ½æä¾›æ›´å¥½çš„æ€§èƒ½ã€‚ Java ä¸­çš„å­—ç¬¦ä¸²è¿`+`æ“ä½œå…¶å®å°±æ˜¯é€šè¿‡`StringBuilder`å®ç°çš„ã€‚

#### è¯·è¯´è¯´StringBufferçš„ç‰¹ç‚¹

`StringBuffer`å’Œ`StringBuilder`ç±»ä¼¼ï¼Œä½†`StringBuffer`æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ–¹æ³•å‰é¢éƒ½åŠ äº†`synchronized`å…³é”®å­—ã€‚

#### è¯·æ€»ç»“ä¸€ä¸‹ä½¿ç”¨åœºæ™¯

- **String**ï¼šé€‚ç”¨äºå­—ç¬¦ä¸²å†…å®¹ä¸ä¼šæ”¹å˜çš„åœºæ™¯ï¼Œæ¯”å¦‚è¯´ä½œä¸º HashMap çš„ keyã€‚
- **StringBuilder**ï¼šé€‚ç”¨äºå•çº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„åœºæ™¯ï¼Œæ¯”å¦‚åœ¨å¾ªç¯ä¸­æ‹¼æ¥æˆ–ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œæ˜¯ String çš„å®Œç¾æ›¿ä»£å“ã€‚
- **StringBuffer**ï¼šç°åœ¨å·²ç»ä¸æ€ä¹ˆç”¨äº†ï¼Œå› ä¸ºä¸€èˆ¬ä¸ä¼šåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹å»é¢‘ç¹çš„ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šString StringBuffer StringBuilder æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å›½ä¼é¢è¯•åŸé¢˜ï¼šString,StringBuffer,StringBuilder çš„åŒºåˆ«
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šè¯·è¯´è¯´ Stringã€StringBuilderã€StringBufferçš„åŒºåˆ«ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ

### 33.String str1 = new String("abc") å’Œ String str2 = "abc" çš„åŒºåˆ«ï¼Ÿ

ç›´æ¥ä½¿ç”¨åŒå¼•å·ä¸ºå­—ç¬¦ä¸²å˜é‡èµ‹å€¼æ—¶ï¼ŒJava é¦–å…ˆä¼šæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦å·²ç»å­˜åœ¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²ã€‚

å¦‚æœå­˜åœ¨ï¼ŒJava å°±ä¼šè®©æ–°çš„å˜é‡å¼•ç”¨æ± ä¸­çš„é‚£ä¸ªå­—ç¬¦ä¸²ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ”¾å…¥æ± ä¸­ï¼Œå¹¶è®©å˜é‡å¼•ç”¨å®ƒã€‚

ä½¿ç”¨ `new String("abc")` çš„æ–¹å¼åˆ›å»ºå­—ç¬¦ä¸²æ—¶ï¼Œå®é™…åˆ†ä¸ºä¸¤æ­¥ï¼š

- ç¬¬ä¸€æ­¥ï¼Œå…ˆæ£€æŸ¥å­—ç¬¦ä¸²å­—é¢é‡ "abc" æ˜¯å¦åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªï¼›å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™å¼•ç”¨å®ƒã€‚
- ç¬¬äºŒæ­¥ï¼Œåœ¨å †ä¸­å†åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸ºå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ "abc" çš„ä¸€ä¸ªå‰¯æœ¬ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå †ä¸å¸¸é‡æ± ä¸­çš„String](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-17.png)

ä¹Ÿå°±æ˜¯è¯´ï¼š

```java
String s1 = "æ²‰é»˜ç‹äºŒ";
String s2 = "æ²‰é»˜ç‹äºŒ";
String s3 = new String("æ²‰é»˜ç‹äºŒ");

System.out.println(s1 == s2); // è¾“å‡º trueï¼Œå› ä¸º s1 å’Œ s2 å¼•ç”¨çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åŒä¸€ä¸ªå¯¹è±¡ã€‚
System.out.println(s1 == s3); // è¾“å‡º falseï¼Œå› ä¸º s3 æ˜¯é€šè¿‡ new å…³é”®å­—æ˜¾å¼åˆ›å»ºçš„ï¼ŒæŒ‡å‘å †ä¸Šä¸åŒçš„å¯¹è±¡ã€‚
```

#### String s = new String("abc")åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ

å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å¦‚æœä¹‹å‰å·²ç»æœ‰ä¸€ä¸ªï¼Œåˆ™ä¸å†åˆ›å»ºæ–°çš„ï¼Œç›´æ¥å¼•ç”¨ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªã€‚

å †ä¸­è‚¯å®šæœ‰ä¸€ä¸ªï¼Œå› ä¸ºåªè¦ä½¿ç”¨äº† new å…³é”®å­—ï¼Œè‚¯å®šä¼šåœ¨å †ä¸­åˆ›å»ºä¸€ä¸ªã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šString å˜é‡ç›´æ¥èµ‹å€¼å’Œæ„é€ æ–¹æ³•èµ‹å€¼==æ¯”è¾ƒç›¸ç­‰å—ï¼Ÿ

### 34.String æ˜¯ä¸å¯å˜ç±»å—ï¼Ÿå­—ç¬¦ä¸²æ‹¼æ¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

1.  æ¨èé˜…è¯»ï¼š[ä¸ºä»€ä¹ˆ Java å­—ç¬¦ä¸² String æ˜¯ä¸å¯å˜çš„ï¼Ÿ](https://javabetter.cn/string/immutable.html)
2.  æ¨èé˜…è¯»ï¼š[æœ€ä¼˜é›…çš„ Java å­—ç¬¦ä¸² String æ‹¼æ¥](https://javabetter.cn/string/join.html)

String æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦ä¸€ä¸ª String å¯¹è±¡è¢«åˆ›å»ºï¼Œå…¶å­˜å‚¨çš„æ–‡æœ¬å†…å®¹å°±ä¸èƒ½è¢«æ”¹å˜ã€‚è¿™æ˜¯å› ä¸ºï¼š

â‘ ã€ä¸å¯å˜æ€§ä½¿å¾— String å¯¹è±¡åœ¨ä½¿ç”¨ä¸­æ›´åŠ å®‰å…¨ã€‚å› ä¸ºå­—ç¬¦ä¸²ç»å¸¸ç”¨ä½œå‚æ•°ä¼ é€’ç»™å…¶ä»– Java æ–¹æ³•ï¼Œä¾‹å¦‚ç½‘ç»œè¿æ¥ã€æ‰“å¼€æ–‡ä»¶ç­‰ã€‚

å¦‚æœ String æ˜¯å¯å˜çš„ï¼Œè¿™äº›æ–¹æ³•è°ƒç”¨çš„å‚æ•°å€¼å°±å¯èƒ½åœ¨ä¸çŸ¥ä¸è§‰ä¸­è¢«æ”¹å˜ï¼Œä»è€Œå¯¼è‡´ç½‘ç»œè¿æ¥è¢«ç¯¡æ”¹ã€æ–‡ä»¶è¢«è«åå…¶å¦™åœ°ä¿®æ”¹ç­‰é—®é¢˜ã€‚

â‘¡ã€ä¸å¯å˜çš„å¯¹è±¡å› ä¸ºçŠ¶æ€ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥æ›´å®¹æ˜“è¿›è¡Œç¼“å­˜å’Œé‡ç”¨ã€‚å­—ç¬¦ä¸²å¸¸é‡æ± çš„å‡ºç°æ­£æ˜¯åŸºäºè¿™ä¸ªåŸå› ã€‚

å½“ä»£ç ä¸­å‡ºç°ç›¸åŒçš„å­—ç¬¦ä¸²å­—é¢é‡æ—¶ï¼ŒJVM ä¼šç¡®ä¿æ‰€æœ‰çš„å¼•ç”¨éƒ½æŒ‡å‘å¸¸é‡æ± ä¸­çš„åŒä¸€ä¸ªå¯¹è±¡ï¼Œä»è€ŒèŠ‚çº¦å†…å­˜ã€‚

â‘¢ã€å› ä¸º String çš„å†…å®¹ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥å®ƒçš„å“ˆå¸Œå€¼ä¹Ÿå°±å›ºå®šä¸å˜ã€‚è¿™ä½¿å¾— String å¯¹è±¡ç‰¹åˆ«é€‚åˆä½œä¸º HashMap æˆ– HashSet ç­‰é›†åˆçš„é”®ï¼Œå› ä¸ºè®¡ç®—å“ˆå¸Œå€¼åªéœ€è¦è¿›è¡Œä¸€æ¬¡ï¼Œæé«˜äº†å“ˆå¸Œè¡¨æ“ä½œçš„æ•ˆç‡ã€‚

å› ä¸º String æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤é€šè¿‡â€œ**+**â€æ“ä½œç¬¦è¿›è¡Œçš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¼šç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚

ä¾‹å¦‚ï¼š

```java
String a = "hello ";
String b = "world!";
String ab = a + b;
```

a å’Œ b æ˜¯é€šè¿‡åŒå¼•å·å®šä¹‰çš„ï¼Œæ‰€ä»¥ä¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œè€Œ ab æ˜¯é€šè¿‡â€œ+â€æ“ä½œç¬¦æ‹¼æ¥çš„ï¼Œæ‰€ä»¥ä¼šåœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šjdk1.8ä¹‹å‰çš„å­—ç¬¦ä¸²æ‹¼æ¥](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-18.png)

**Java 8 æ—¶**ï¼ŒJDK å¯¹â€œ+â€å·çš„å­—ç¬¦ä¸²æ‹¼æ¥è¿›è¡Œäº†ä¼˜åŒ–ï¼ŒJava ä¼šåœ¨ç¼–è¯‘æœŸåŸºäº StringBuilder çš„ append æ–¹æ³•è¿›è¡Œæ‹¼æ¥ã€‚

ä¸‹é¢æ˜¯é€šè¿‡ `javap -verbose` å‘½ä»¤åç¼–è¯‘åçš„å­—èŠ‚ç ï¼Œèƒ½æ¸…æ¥šçš„çœ‹åˆ° StringBuilder çš„åˆ›å»ºå’Œ append æ–¹æ³•çš„è°ƒç”¨ã€‚

```java
stack=2, locals=4, args_size=1
     0: ldc           #2                  // String hello
     2: astore_1
     3: ldc           #3                  // String world!
     5: astore_2
     6: new           #4                  // class java/lang/StringBuilder
     9: dup
    10: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
    13: aload_1
    14: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    17: aload_2
    18: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    21: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    24: astore_3
    25: return

```

ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ä»£ç ç›¸å½“äºï¼š

```java
String a = "hello ";
String b = "world!";
StringBuilder sb = new StringBuilder();
sb.append(a);
sb.append(b);
String ab = sb.toString();
```

å› æ­¤ï¼Œå¦‚æœç¬¼ç»Ÿåœ°è®²ï¼Œé€šè¿‡åŠ å·æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ä¼šåˆ›å»ºå¤šä¸ª String å¯¹è±¡æ˜¯ä¸å‡†ç¡®çš„ã€‚å› ä¸ºåŠ å·æ‹¼æ¥åœ¨ç¼–è¯‘æœŸè¿˜ä¼šåˆ›å»ºä¸€ä¸ª StringBuilder å¯¹è±¡ï¼Œæœ€ç»ˆè°ƒç”¨ `toString()` æ–¹æ³•çš„æ—¶å€™å†è¿”å›ä¸€ä¸ªæ–°çš„ String å¯¹è±¡ã€‚

```java
@Override
public String toString() {
    // Create a copy, don't share the array
    return new String(value, 0, count);
}
```

#### å¦‚ä½•ä¿è¯ String ä¸å¯å˜ï¼Ÿ

ç¬¬ä¸€ï¼ŒString ç±»å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªç§æœ‰çš„å­—ç¬¦æ•°ç»„æ¥å­˜å‚¨å­—ç¬¦ä¸²æ•°æ®ã€‚è¿™ä¸ªå­—ç¬¦æ•°ç»„åœ¨åˆ›å»ºå­—ç¬¦ä¸²æ—¶è¢«åˆå§‹åŒ–ï¼Œä¹‹åä¸å…è®¸è¢«æ”¹å˜ã€‚

```java
private final char value[];
```

ç¬¬äºŒï¼ŒString ç±»æ²¡æœ‰æä¾›ä»»ä½•å¯ä»¥ä¿®æ”¹å…¶å†…å®¹çš„å…¬å…±æ–¹æ³•ï¼Œåƒ concat è¿™äº›çœ‹ä¼¼ä¿®æ”¹å­—ç¬¦ä¸²çš„æ“ä½œï¼Œå®é™…ä¸Šéƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè€ŒåŸå§‹å­—ç¬¦ä¸²å¯¹è±¡ä¿æŒä¸å˜ã€‚

```java
public String concat(String str) {
    if (str.isEmpty()) {
        return this;
    }
    int len = value.length;
    int otherLen = str.length();
    char buf[] = Arrays.copyOf(value, len + otherLen);
    str.getChars(buf, len);
    return new String(buf, true);
}
```

ç¬¬ä¸‰ï¼ŒString ç±»æœ¬èº«è¢«å£°æ˜ä¸º finalï¼Œè¿™æ„å‘³ç€å®ƒä¸èƒ½è¢«ç»§æ‰¿ã€‚è¿™é˜²æ­¢äº†å­ç±»å¯èƒ½é€šè¿‡æ·»åŠ ä¿®æ”¹æ–¹æ³•æ¥æ”¹å˜å­—ç¬¦ä¸²å†…å®¹çš„å¯èƒ½æ€§ã€‚

```java
public final class String
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šString æ˜¯å¯å˜çš„å—ï¼Œä¸ºä»€ä¹ˆè¦è®¾è®¡ä¸ºä¸å¯å˜
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šStringä¸å¯å˜å—ï¼Ÿä¸ºä»€ä¹ˆä¸å¯å˜ï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæ€ä¹ˆä¿è¯ä¸å¯å˜ã€‚

### 35.intern æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

JDK æºç é‡Œå·²ç»å¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œäº†è¯´æ˜ï¼š

```java
     * <p>
     * When the intern method is invoked, if the pool already contains a
     * string equal to this {@code String} object as determined by
     * the {@link #equals(Object)} method, then the string from the pool is
     * returned. Otherwise, this {@code String} object is added to the
     * pool and a reference to this {@code String} object is returned.
     * <p>
```

æ„æ€ä¹Ÿå¾ˆå¥½æ‡‚ï¼š

- å¦‚æœå½“å‰å­—ç¬¦ä¸²å†…å®¹å­˜åœ¨äºå­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆå³ equals()æ–¹æ³•ä¸º trueï¼Œä¹Ÿå°±æ˜¯å†…å®¹ä¸€æ ·ï¼‰ï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²
- å¦åˆ™ï¼Œå°†æ­¤ String å¯¹è±¡æ·»åŠ åˆ°æ± ä¸­ï¼Œå¹¶è¿”å› String å¯¹è±¡çš„å¼•ç”¨

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## Integer

### 36.Integer a= 127ï¼ŒInteger b = 127ï¼›Integer c= 128ï¼ŒInteger d = 128ï¼›ç›¸ç­‰å—?

1. æ¨èé˜…è¯»ï¼š[IntegerCache](https://javabetter.cn/basic-extra-meal/int-cache.html)
2. æ¨èé˜…è¯»ï¼š[æ·±å…¥æµ…å‡º Java æ‹†ç®±ä¸è£…ç®±](https://javabetter.cn/basic-extra-meal/box.html)

a å’Œ b ç›¸ç­‰ï¼Œc å’Œ d ä¸ç›¸ç­‰ã€‚

è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ° Java çš„è‡ªåŠ¨è£…ç®±æœºåˆ¶ä»¥åŠ`Integer`ç±»çš„ç¼“å­˜æœºåˆ¶ã€‚

å¯¹äºç¬¬ä¸€å¯¹ï¼š

```java
Integer a = 127;
Integer b = 127;
```

`a`å’Œ`b`æ˜¯ç›¸ç­‰çš„ã€‚è¿™æ˜¯å› ä¸º Java åœ¨è‡ªåŠ¨è£…ç®±è¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨`Integer.valueOf()`æ–¹æ³•æ¥åˆ›å»º`Integer`å¯¹è±¡ã€‚

`Integer.valueOf()`æ–¹æ³•ä¼šé’ˆå¯¹æ•°å€¼åœ¨-128 åˆ° 127 ä¹‹é—´çš„`Integer`å¯¹è±¡ä½¿ç”¨ç¼“å­˜ã€‚å› æ­¤ï¼Œ`a`å’Œ`b`å®é™…ä¸Šå¼•ç”¨äº†å¸¸é‡æ± ä¸­ç›¸åŒçš„`Integer`å¯¹è±¡ã€‚

å¯¹äºç¬¬äºŒå¯¹ï¼š

```java
Integer c = 128;
Integer d = 128;
```

`c`å’Œ`d`ä¸ç›¸ç­‰ã€‚è¿™æ˜¯å› ä¸º 128 è¶…å‡ºäº†`Integer`ç¼“å­˜çš„èŒƒå›´(-128 åˆ° 127)ã€‚

å› æ­¤ï¼Œè‡ªåŠ¨è£…ç®±è¿‡ç¨‹ä¼šä¸º`c`å’Œ`d`åˆ›å»ºä¸¤ä¸ªä¸åŒçš„`Integer`å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„å¼•ç”¨åœ°å€ã€‚

å¯ä»¥é€šè¿‡`==`è¿ç®—ç¬¦æ¥æ£€æŸ¥å®ƒä»¬æ˜¯å¦ç›¸ç­‰ï¼š

```java
System.out.println(a == b); // è¾“å‡ºtrue
System.out.println(c == d); // è¾“å‡ºfalse
```

è¦æ¯”è¾ƒ`Integer`å¯¹è±¡çš„æ•°å€¼æ˜¯å¦ç›¸ç­‰ï¼Œåº”è¯¥ä½¿ç”¨`equals`æ–¹æ³•ï¼Œè€Œä¸æ˜¯`==`è¿ç®—ç¬¦ï¼š

```java
System.out.println(a.equals(b)); // è¾“å‡ºtrue
System.out.println(c.equals(d)); // è¾“å‡ºtrue
```

ä½¿ç”¨`equals`æ–¹æ³•æ—¶ï¼Œ`c`å’Œ`d`çš„æ¯”è¾ƒç»“æœä¸º`true`ï¼Œå› ä¸º`equals`æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„æ•°å€¼ï¼Œè€Œä¸æ˜¯å¼•ç”¨åœ°å€ã€‚

#### ä»€ä¹ˆæ˜¯ Integer ç¼“å­˜ï¼Ÿ

å°±æ‹¿ Integer çš„ç¼“å­˜åƒæ¥è¯´å§ã€‚æ ¹æ®å®è·µå‘ç°ï¼Œå¤§éƒ¨åˆ†çš„æ•°æ®æ“ä½œéƒ½é›†ä¸­åœ¨å€¼æ¯”è¾ƒå°çš„èŒƒå›´ï¼Œå› æ­¤ Integer æäº†ä¸ªç¼“å­˜æ± ï¼Œé»˜è®¤èŒƒå›´æ˜¯ -128 åˆ° 127ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šinteger æºç ](https://cdn.tobebetterjavaer.com/stutymore/javase-20240323080956.png)

å½“æˆ‘ä»¬ä½¿ç”¨è‡ªåŠ¨è£…ç®±æ¥åˆ›å»ºè¿™ä¸ªèŒƒå›´å†…çš„ Integer å¯¹è±¡æ—¶ï¼ŒJava ä¼šç›´æ¥ä»ç¼“å­˜ä¸­è¿”å›ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹äºè¿™ä¸ªå€¼èŒƒå›´å†…çš„æ‰€æœ‰ Integer å¯¹è±¡ï¼Œå®ƒä»¬å®é™…ä¸Šæ˜¯å¼•ç”¨ç›¸åŒçš„å¯¹è±¡å®ä¾‹ã€‚

Integer ç¼“å­˜çš„ä¸»è¦ç›®çš„æ˜¯ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ã€‚å¯¹äºå°æ•´æ•°çš„é¢‘ç¹æ“ä½œï¼Œä½¿ç”¨ç¼“å­˜å¯ä»¥æ˜¾è‘—å‡å°‘å¯¹è±¡åˆ›å»ºçš„æ•°é‡ã€‚

å¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™æ·»åŠ  `-Djava.lang.Integer.IntegerCache.high=1000` æ¥è°ƒæ•´ç¼“å­˜æ± çš„æœ€å¤§å€¼ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šè°ƒæ•´ç¼“å­˜æ± å¤§å°](https://cdn.tobebetterjavaer.com/stutymore/javase-20240323082802.png)

å¼•ç”¨æ˜¯ Integer ç±»å‹ï¼Œ= å³ä¾§æ˜¯ int åŸºæœ¬ç±»å‹æ—¶ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨è£…ç®±ï¼Œè°ƒç”¨çš„å…¶å®æ˜¯ `Integer.valueOf()`æ–¹æ³•ï¼Œå®ƒä¼šè°ƒç”¨ IntegerCacheã€‚

```java
public static Integer valueOf(int i) {
    if (i >= IntegerCache.low && i <= IntegerCache.high)
        return IntegerCache.cache[i + (-IntegerCache.low)];
    return new Integer(i);
}
```

IntegerCache æ˜¯ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œåœ¨é™æ€ä»£ç å—ä¸­ä¼šåˆå§‹åŒ–å¥½ç¼“å­˜çš„å€¼ã€‚

```java
private static class IntegerCache {
    â€¦â€¦
    static {
        //åˆ›å»ºIntegerå¯¹è±¡å­˜å‚¨
        for(int k = 0; k < cache.length; k++)
            cache[k] = new Integer(j++);
        â€¦â€¦
    }
}
```

#### new Integer(10) == new Integer(10) ç›¸ç­‰å—

åœ¨ Java ä¸­ï¼Œä½¿ç”¨`new Integer(10) == new Integer(10)`è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œç»“æœæ˜¯ falseã€‚

è¿™æ˜¯å› ä¸º new å…³é”®å­—ä¼šåœ¨å †ï¼ˆHeapï¼‰ä¸Šä¸ºæ¯ä¸ª Integer å¯¹è±¡åˆ†é…æ–°çš„å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥è¿™é‡Œåˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„ Integer å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„å†…å­˜åœ°å€ã€‚

å½“ä½¿ç”¨==è¿ç®—ç¬¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ¯”è¾ƒçš„æ˜¯å®ƒä»¬çš„å†…å­˜åœ°å€ï¼Œè€Œä¸æ˜¯å®ƒä»¬çš„å€¼ï¼Œå› æ­¤å³ä½¿ä¸¤ä¸ªå¯¹è±¡ä»£è¡¨ç›¸åŒçš„æ•°å€¼ï¼ˆ10ï¼‰ï¼Œç»“æœä¹Ÿæ˜¯ falseã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šnew Integer(10) == new Integer(10) ç›¸ç­‰å— å¸¸é‡æ± 

### 37.String æ€ä¹ˆè½¬æˆ Integer çš„ï¼ŸåŸç†ï¼Ÿ

PS:è¿™é“é¢˜å°è±¡ä¸­åœ¨ä¸€äº›é¢ç»ä¸­å‡ºåœºè¿‡å‡ æ¬¡ã€‚

String è½¬æˆ Integerï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š

- Integer.parseInt(String s)
- Integer.valueOf(String s)

ä¸ç®¡å“ªä¸€ç§ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¼šè°ƒç”¨ Integer ç±»å†…ä¸­çš„`parseInt(String s, int radix)`æ–¹æ³•ã€‚

æŠ›å»ä¸€äº›è¾¹ç•Œä¹‹ç±»çš„çœ‹çœ‹æ ¸å¿ƒä»£ç ï¼š

```java
public static int parseInt(String s, int radix)
                throws NumberFormatException
    {

        int result = 0;
        //æ˜¯å¦æ˜¯è´Ÿæ•°
        boolean negative = false;
        //charå­—ç¬¦æ•°ç»„ä¸‹æ ‡å’Œé•¿åº¦
        int i = 0, len = s.length();
        â€¦â€¦
        int digit;
        //åˆ¤æ–­å­—ç¬¦é•¿åº¦æ˜¯å¦å¤§äº0ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸
        if (len > 0) {
            â€¦â€¦
            while (i < len) {
                // Accumulating negatively avoids surprises near MAX_VALUE
                //è¿”å›æŒ‡å®šåŸºæ•°ä¸­å­—ç¬¦è¡¨ç¤ºçš„æ•°å€¼ã€‚ï¼ˆæ­¤å¤„æ˜¯åè¿›åˆ¶æ•°å€¼ï¼‰
                digit = Character.digit(s.charAt(i++),radix);
                //è¿›åˆ¶ä½ä¹˜ä»¥æ•°å€¼
                result *= radix;
                result -= digit;
            }
        }
        //æ ¹æ®ä¸Šé¢å¾—åˆ°çš„æ˜¯å¦è´Ÿæ•°ï¼Œè¿”å›ç›¸åº”çš„å€¼
        return negative ? result : -result;
    }

```

å»æ‰ææè”“è”“ï¼ˆå½“ç„¶è¿™äº›ææè”“è”“å¯ä»¥å»çœ‹çœ‹ï¼Œæºç  cover äº†å¾ˆå¤šæƒ…å†µï¼‰ï¼Œå…¶å®å‰©ä¸‹çš„å°±æ˜¯ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²éå†è®¡ç®—ï¼Œä¸è¿‡è®¡ç®—æ–¹å¼æœ‰ç‚¹åå¸¸è§„ï¼Œæ˜¯ç”¨è´Ÿçš„å€¼ç´¯å‡ã€‚

![parseIntç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-20.png)

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## Object

### 38.Object ç±»çš„å¸¸è§æ–¹æ³•ï¼Ÿ

åœ¨ Java ä¸­ï¼Œç»å¸¸æåˆ°ä¸€ä¸ªè¯â€œä¸‡ç‰©çš†å¯¹è±¡â€ï¼Œå…¶ä¸­çš„â€œä¸‡ç‰©â€æŒ‡çš„æ˜¯ Java ä¸­çš„æ‰€æœ‰ç±»ï¼Œè€Œè¿™äº›ç±»éƒ½æ˜¯ Object ç±»çš„å­ç±»ã€‚

Object ä¸»è¦æä¾›äº† 11 ä¸ªæ–¹æ³•ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºå…­ç±»ï¼š

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šObjectç±»çš„æ–¹æ³•](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-21.png)

#### å¯¹è±¡æ¯”è¾ƒï¼š

â‘ ã€`public native int hashCode()` ï¼š[native æ–¹æ³•](https://javabetter.cn/oo/native-method.html)ï¼Œç”¨äºè¿”å›å¯¹è±¡çš„å“ˆå¸Œç ã€‚

```java
public native int hashCode();
```

æŒ‰ç…§çº¦å®šï¼Œç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚å¦‚æœé‡å†™äº† equals æ–¹æ³•ï¼Œå°±åº”è¯¥é‡å†™ hashCode æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ [Objects.hash()](https://javabetter.cn/common-tool/Objects.html#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84hashcode) æ–¹æ³•æ¥ç”Ÿæˆå“ˆå¸Œç ã€‚

```java
public int hashCode() {
    return Objects.hash(name, age);
}
```

â‘¡ã€`public boolean equals(Object obj)`ï¼šç”¨äºæ¯”è¾ƒ 2 ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚

```java
public boolean equals(Object obj) {
    return (this == obj);
}
```

å¦‚æœæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå°±è¦é‡å†™è¯¥æ–¹æ³•ï¼Œæ¯”å¦‚ [String ç±»](https://javabetter.cn/string/string-source.html)ã€Integer ç±»ç­‰éƒ½é‡å†™äº†è¯¥æ–¹æ³•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æœ‰ä¸€ä¸ª Person ç±»ï¼Œæˆ‘ä»¬è®¤ä¸ºåªè¦å¹´é¾„å’Œåå­—ç›¸åŒï¼Œå°±æ˜¯åŒä¸€ä¸ªäººï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿™æ ·é‡å†™ equals æ–¹æ³•ï¼š

```java
class Person1 {
    private String name;
    private int age;

    // çœç•¥ gettter å’Œ setter æ–¹æ³•

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj instanceof Person1) {
            Person1 p = (Person1) obj;
            return this.name.equals(p.getName()) && this.age == p.getAge();
        }
        return false;
    }
}
```

#### å¯¹è±¡æ‹·è´ï¼š

`protected native Object clone() throws CloneNotSupportedException`ï¼šnaitive æ–¹æ³•ï¼Œè¿”å›æ­¤å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ã€‚é»˜è®¤å®ç°åªåš[æµ…æ‹·è´](https://javabetter.cn/basic-extra-meal/deep-copy.html)ï¼Œä¸”ç±»å¿…é¡»å®ç° Cloneable æ¥å£ã€‚

Object æœ¬èº«æ²¡æœ‰å®ç° Cloneable æ¥å£ï¼Œæ‰€ä»¥åœ¨ä¸é‡å†™ clone æ–¹æ³•çš„æƒ…å†µä¸‹ç›´æ¥ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ä¼šå‘ç”Ÿ CloneNotSupportedException å¼‚å¸¸ã€‚

#### å¯¹è±¡è½¬å­—ç¬¦ä¸²ï¼š

`public String toString()`ï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚é»˜è®¤å®ç°è¿”å›ç±»å@å“ˆå¸Œç çš„åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œä½†é€šå¸¸ä¼šè¢«é‡å†™ä»¥è¿”å›æ›´æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚

```java
public String toString() {
    return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```

æ¯”å¦‚è¯´ä¸€ä¸ª Person ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é‡å†™ toString æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼š

```java
public String toString() {
    return "Person{" +
            "name='" + name + '\'' +
            ", age=" + age +
            '}';
}
```

å½“ç„¶äº†ï¼Œè¿™é¡¹å·¥ä½œä¹Ÿå¯ä»¥ç›´æ¥äº¤ç»™ IDEï¼Œæ¯”å¦‚ IntelliJ IDEAï¼Œç›´æ¥å³é”®é€‰æ‹© Generateï¼Œç„¶åé€‰æ‹© toString æ–¹æ³•ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª toString æ–¹æ³•ã€‚

ä¹Ÿå¯ä»¥äº¤ç»™ [Lombok](https://javabetter.cn/springboot/lombok.html)ï¼Œä½¿ç”¨ @Data æ³¨è§£ï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆ toString æ–¹æ³•ã€‚

æ•°ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬æ‰“å°æ•°ç»„çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°è¯¸å¦‚ `[I@1b6d3586` è¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå°±æ˜¯ int æ•°ç»„çš„å“ˆå¸Œç ã€‚

#### å¤šçº¿ç¨‹è°ƒåº¦ï¼š

æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ Object çš„ wait/notify æ–¹æ³•æ¥å®ç°ç­‰å¾…/é€šçŸ¥æœºåˆ¶ã€‚æˆ‘ä»¬æ¥å†™ä¸€ä¸ªä¾‹å­ï¼š

```java
public class WaitNotifyDemo {
    public static void main(String[] args) {
        Object lock = new Object();
        new Thread(() -> {
            synchronized (lock) {
                System.out.println("çº¿ç¨‹1ï¼šæˆ‘è¦ç­‰å¾…");
                try {
                    lock.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                System.out.println("çº¿ç¨‹1ï¼šæˆ‘è¢«å”¤é†’äº†");
            }
        }).start();
        new Thread(() -> {
            synchronized (lock) {
                System.out.println("çº¿ç¨‹2ï¼šæˆ‘è¦å”¤é†’");
                lock.notify();
                System.out.println("çº¿ç¨‹2ï¼šæˆ‘å·²ç»å”¤é†’äº†");
            }
        }).start();
    }
}
```

è§£é‡Šä¸€ä¸‹ï¼š

- çº¿ç¨‹ 1 å…ˆæ‰§è¡Œï¼Œå®ƒè°ƒç”¨äº† `lock.wait()` æ–¹æ³•ï¼Œç„¶åè¿›å…¥äº†ç­‰å¾…çŠ¶æ€ã€‚
- çº¿ç¨‹ 2 åæ‰§è¡Œï¼Œå®ƒè°ƒç”¨äº† `lock.notify()` æ–¹æ³•ï¼Œç„¶åçº¿ç¨‹ 1 è¢«å”¤é†’äº†ã€‚

â‘ ã€`public final void wait() throws InterruptedException`ï¼šè°ƒç”¨è¯¥æ–¹æ³•ä¼šå¯¼è‡´å½“å‰çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„`notify()`æ–¹æ³•æˆ–`notifyAll()`æ–¹æ³•ã€‚

â‘¡ã€`public final native void notify()`ï¼šå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œé€‰æ‹©ä¸€ä¸ªçº¿ç¨‹è¢«å”¤é†’ã€‚

â‘¢ã€`public final native void notifyAll()`ï¼šå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚

â‘£ã€`public final native void wait(long timeout) throws InterruptedException`ï¼šç­‰å¾… timeout æ¯«ç§’ï¼Œå¦‚æœåœ¨ timeout æ¯«ç§’å†…æ²¡æœ‰è¢«å”¤é†’ï¼Œä¼šè‡ªåŠ¨å”¤é†’ã€‚

â‘¥ã€`public final void wait(long timeout, int nanos) throws InterruptedException`ï¼šæ›´åŠ ç²¾ç¡®äº†ï¼Œç­‰å¾… timeout æ¯«ç§’å’Œ nanos çº³ç§’ï¼Œå¦‚æœåœ¨ timeout æ¯«ç§’å’Œ nanos çº³ç§’å†…æ²¡æœ‰è¢«å”¤é†’ï¼Œä¼šè‡ªåŠ¨å”¤é†’ã€‚

#### åå°„ï¼š

æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæŒæ¡ Java åå°„](https://javabetter.cn/basic-extra-meal/fanshe.html)

`public final native Class<?> getClass()`ï¼šç”¨äºè·å–å¯¹è±¡çš„ç±»ä¿¡æ¯ï¼Œå¦‚ç±»åã€‚æ¯”å¦‚è¯´ï¼š

```java
public class GetClassDemo {
    public static void main(String[] args) {
        Person p = new Person();
        Class<? extends Person> aClass = p.getClass();
        System.out.println(aClass.getName());
    }
}
```

è¾“å‡ºç»“æœï¼š

```
com.itwanger.Person
```

#### åƒåœ¾å›æ”¶ï¼š

`protected void finalize() throws Throwable`ï¼šå½“åƒåœ¾å›æ”¶å™¨å†³å®šå›æ”¶å¯¹è±¡å ç”¨çš„å†…å­˜æ—¶è°ƒç”¨æ­¤æ–¹æ³•ã€‚ç”¨äºæ¸…ç†èµ„æºï¼Œä½† Java ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸å¯é¢„æµ‹ä¸”å®¹æ˜“å¯¼è‡´é—®é¢˜ï¼ŒJava 9 å¼€å§‹å·²è¢«å¼ƒç”¨ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/javase-20240313085055.png)

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šObject æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ

## å¼‚å¸¸å¤„ç†

### 39.Java ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»?

æ¨èé˜…è¯»ï¼š[ä¸€æ–‡å½»åº•ææ‡‚ Java å¼‚å¸¸å¤„ç†](https://javabetter.cn/exception/gailan.html)

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJavaå¼‚å¸¸ä½“ç³»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-22.png)

`Throwable` æ˜¯ Java è¯­è¨€ä¸­æ‰€æœ‰é”™è¯¯å’Œå¼‚å¸¸çš„åŸºç±»ã€‚å®ƒæœ‰ä¸¤ä¸ªä¸»è¦çš„å­ç±»ï¼šError å’Œ Exceptionï¼Œè¿™ä¸¤ä¸ªç±»åˆ†åˆ«ä»£è¡¨äº† Java å¼‚å¸¸å¤„ç†ä½“ç³»ä¸­çš„ä¸¤ä¸ªåˆ†æ”¯ã€‚

Error ç±»ä»£è¡¨é‚£äº›ä¸¥é‡çš„é”™è¯¯ï¼Œè¿™ç±»é”™è¯¯é€šå¸¸æ˜¯ç¨‹åºæ— æ³•å¤„ç†çš„ã€‚æ¯”å¦‚ï¼ŒOutOfMemoryError è¡¨ç¤ºå†…å­˜ä¸è¶³ï¼ŒStackOverflowError è¡¨ç¤ºæ ˆæº¢å‡ºã€‚è¿™äº›é”™è¯¯é€šå¸¸ä¸ JVM çš„è¿è¡ŒçŠ¶æ€æœ‰å…³ï¼Œä¸€æ—¦å‘ç”Ÿï¼Œåº”ç”¨ç¨‹åºé€šå¸¸æ— æ³•æ¢å¤ã€‚

Exception ç±»ä»£è¡¨ç¨‹åºå¯ä»¥å¤„ç†çš„å¼‚å¸¸ã€‚å®ƒåˆ†ä¸ºä¸¤å¤§ç±»ï¼šç¼–è¯‘æ—¶å¼‚å¸¸ï¼ˆChecked Exceptionï¼‰å’Œè¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntime Exceptionï¼‰ã€‚

â‘ ã€ç¼–è¯‘æ—¶å¼‚å¸¸ï¼ˆChecked Exceptionï¼‰ï¼šè¿™ç±»å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶å¿…é¡»è¢«æ˜¾å¼å¤„ç†ï¼ˆæ•è·æˆ–å£°æ˜æŠ›å‡ºï¼‰ã€‚

å¦‚æœæ–¹æ³•å¯èƒ½æŠ›å‡ºæŸç§ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œä½†æ²¡æœ‰æ•è·å®ƒï¼ˆtry-catchï¼‰æˆ–æ²¡æœ‰åœ¨æ–¹æ³•å£°æ˜ä¸­ç”¨ throws å­å¥å£°æ˜å®ƒï¼Œé‚£ä¹ˆç¼–è¯‘å°†ä¸ä¼šé€šè¿‡ã€‚ä¾‹å¦‚ï¼šIOExceptionã€SQLException ç­‰ã€‚

â‘¡ã€è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆRuntime Exceptionï¼‰ï¼šè¿™ç±»å¼‚å¸¸åœ¨è¿è¡Œæ—¶æŠ›å‡ºï¼Œå®ƒä»¬éƒ½æ˜¯ RuntimeException çš„å­ç±»ã€‚å¯¹äºè¿è¡Œæ—¶å¼‚å¸¸ï¼ŒJava ç¼–è¯‘å™¨ä¸è¦æ±‚å¿…é¡»å¤„ç†å®ƒä»¬ï¼ˆå³ä¸éœ€è¦æ•è·ä¹Ÿä¸éœ€è¦å£°æ˜æŠ›å‡ºï¼‰ã€‚

è¿è¡Œæ—¶å¼‚å¸¸é€šå¸¸æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¯¼è‡´çš„ï¼Œå¦‚ NullPointerExceptionã€IndexOutOfBoundsException ç­‰ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šJava ç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¼‚å¸¸æœ‰å“ªäº›åˆ†ç±»ï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šError å’Œ Exception éƒ½æ˜¯è°çš„å­ç±»ï¼Ÿ
> 4. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å¾®ä¼—é“¶è¡ŒåŒå­¦ 1 Java åç«¯ä¸€é¢çš„åŸé¢˜ï¼šå¯¹å¼‚å¸¸ä½“ç³»äº†è§£å¤šå°‘ï¼Ÿ

### 40.å¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼Ÿ

é’ˆå¯¹å¼‚å¸¸çš„å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š

![å¼‚å¸¸å¤„ç†](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-23.png)

- **é‡åˆ°å¼‚å¸¸ä¸è¿›è¡Œå…·ä½“å¤„ç†ï¼Œè€Œæ˜¯ç»§ç»­æŠ›ç»™è°ƒç”¨è€… ï¼ˆthrowï¼Œthrowsï¼‰**

æŠ›å‡ºå¼‚å¸¸æœ‰ä¸‰ç§å½¢å¼ï¼Œä¸€æ˜¯ throw,ä¸€ä¸ª throwsï¼Œè¿˜æœ‰ä¸€ç§ç³»ç»Ÿè‡ªåŠ¨æŠ›å¼‚å¸¸ã€‚

throws ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œåé¢è·Ÿçš„æ˜¯å¼‚å¸¸ç±»ï¼Œå¯ä»¥è·Ÿå¤šä¸ªï¼›è€Œ throw ç”¨åœ¨æ–¹æ³•å†…ï¼Œåé¢è·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡ã€‚

- **try catch æ•è·å¼‚å¸¸**

åœ¨ catch è¯­å¥å—ä¸­è¡¥è´§å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚

```java
       try {
            //åŒ…å«å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„ä»£ç ä»¥åŠå£°æ˜å¼‚å¸¸çš„æ–¹æ³•
        }catch(Exception e) {
            //æ•è·å¼‚å¸¸å¹¶è¿›è¡Œå¤„ç†
        }finally {       
            //å¯é€‰ï¼Œå¿…æ‰§è¡Œçš„ä»£ç 
        }
```

try-catch æ•è·å¼‚å¸¸çš„æ—¶å€™è¿˜å¯ä»¥é€‰æ‹©åŠ ä¸Š finally è¯­å¥å—ï¼Œfinally è¯­å¥å—ä¸ç®¡ç¨‹åºæ˜¯å¦æ­£å¸¸æ‰§è¡Œï¼Œæœ€ç»ˆå®ƒéƒ½ä¼šå¿…ç„¶æ‰§è¡Œã€‚

### 41.ä¸‰é“ç»å…¸å¼‚å¸¸å¤„ç†ä»£ç é¢˜

#### é¢˜ç›® 1

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test());
    }
    public static int test() {
        try {
            return 1;
        } catch (Exception e) {
            return 2;
        } finally {
            System.out.print("3");
        }
    }
}
```

åœ¨`test()`æ–¹æ³•ä¸­ï¼Œé¦–å…ˆæœ‰ä¸€ä¸ª`try`å—ï¼Œæ¥ç€æ˜¯ä¸€ä¸ª`catch`å—ï¼ˆç”¨äºæ•è·å¼‚å¸¸ï¼‰ï¼Œæœ€åæ˜¯ä¸€ä¸ª`finally`å—ï¼ˆæ— è®ºæ˜¯å¦æ•è·åˆ°å¼‚å¸¸ï¼Œ`finally`å—æ€»ä¼šæ‰§è¡Œï¼‰ã€‚

â‘ ã€`try`å—ä¸­åŒ…å«ä¸€æ¡`return 1;`è¯­å¥ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœ`try`å—ä¸­çš„ä»£ç èƒ½å¤Ÿé¡ºåˆ©æ‰§è¡Œï¼Œé‚£ä¹ˆæ–¹æ³•å°†è¿”å›æ•°å­—`1`ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`try`å—ä¸­æ²¡æœ‰ä»»ä½•å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ“ä½œï¼Œå› æ­¤å®ƒä¼šæ­£å¸¸æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶å‡†å¤‡è¿”å›`1`ã€‚

â‘¡ã€ç”±äº`try`å—ä¸­æ²¡æœ‰å¼‚å¸¸å‘ç”Ÿï¼Œæ‰€ä»¥`catch`å—ä¸­çš„ä»£ç ä¸ä¼šæ‰§è¡Œã€‚

â‘¢ã€æ— è®ºå‰é¢çš„ä»£ç æ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œ`finally`å—æ€»æ˜¯ä¼šæ‰§è¡Œã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`finally`å—åŒ…å«ä¸€æ¡`System.out.print("3");`è¯­å¥ï¼Œæ„å‘³ç€åœ¨æ–¹æ³•ç»“æŸå‰ï¼Œä¼šåœ¨æ§åˆ¶å°æ‰“å°å‡º`3`ã€‚

å½“æ‰§è¡Œ`main`æ–¹æ³•æ—¶ï¼Œæ§åˆ¶å°çš„è¾“å‡ºå°†ä¼šæ˜¯ï¼š

```
31
```

è¿™æ˜¯å› ä¸º`finally`å—ç¡®ä¿äº†å®ƒåŒ…å«çš„`System.out.print("3");`ä¼šæ‰§è¡Œå¹¶æ‰“å°`3`ï¼Œéšå`test()`æ–¹æ³•è¿”å›`try`å—ä¸­çš„å€¼`1`ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯`31`ã€‚

#### é¢˜ç›® 2

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test1());
    }
    public static int test1() {
        try {
            return 2;
        } finally {
            return 3;
        }
    }
}
```

æ‰§è¡Œç»“æœï¼š3ã€‚

try è¿”å›å‰å…ˆæ‰§è¡Œ finallyï¼Œç»“æœ finally é‡Œä¸æŒ‰å¥—è·¯å‡ºç‰Œï¼Œç›´æ¥ return äº†ï¼Œè‡ªç„¶ä¹Ÿå°±èµ°ä¸åˆ° try é‡Œé¢çš„ return äº†ã€‚

æ³¨æ„ï¼šfinally é‡Œé¢ä½¿ç”¨ return ä»…å­˜åœ¨äºé¢è¯•é¢˜ä¸­ï¼Œå®é™…å¼€å‘è¿™ä¹ˆå†™è¦æŒ¨åŠçš„ï¼ˆğŸ˜‚ï¼‰ã€‚

#### é¢˜ç›® 3

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test1());
    }
    public static int test1() {
        int i = 0;
        try {
            i = 2;
            return i;
        } finally {
            i = 3;
        }
    }
}
```

æ‰§è¡Œç»“æœï¼š2ã€‚

å¤§å®¶å¯èƒ½ä¼šä»¥ä¸ºç»“æœåº”è¯¥æ˜¯ 3ï¼Œå› ä¸ºåœ¨ return å‰ä¼šæ‰§è¡Œ finallyï¼Œè€Œ i åœ¨ finally ä¸­è¢«ä¿®æ”¹ä¸º 3 äº†ï¼Œé‚£æœ€ç»ˆè¿”å› i ä¸æ˜¯åº”è¯¥ä¸º 3 å—ï¼Ÿ

ä½†å…¶å®ï¼Œåœ¨æ‰§è¡Œ finally ä¹‹å‰ï¼ŒJVM ä¼šå…ˆå°† i çš„ç»“æœæš‚å­˜èµ·æ¥ï¼Œç„¶å finally æ‰§è¡Œå®Œæ¯•åï¼Œä¼šè¿”å›ä¹‹å‰æš‚å­˜çš„ç»“æœï¼Œè€Œä¸æ˜¯è¿”å› iï¼Œæ‰€ä»¥å³ä½¿ i å·²ç»è¢«ä¿®æ”¹ä¸º 3ï¼Œæœ€ç»ˆè¿”å›çš„è¿˜æ˜¯ä¹‹å‰æš‚å­˜èµ·æ¥çš„ç»“æœ 2ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šreturn å…ˆæ‰§è¡Œè¿˜æ˜¯ finally å…ˆæ‰§è¡Œ

## I/O

### 42.Java ä¸­ IO æµåˆ†ä¸ºå‡ ç§?

Java IO æµçš„åˆ’åˆ†å¯ä»¥æ ¹æ®å¤šä¸ªç»´åº¦è¿›è¡Œï¼ŒåŒ…æ‹¬æ•°æ®æµçš„æ–¹å‘ï¼ˆè¾“å…¥æˆ–è¾“å‡ºï¼‰ã€å¤„ç†çš„æ•°æ®å•ä½ï¼ˆå­—èŠ‚æˆ–å­—ç¬¦ï¼‰ã€æµçš„åŠŸèƒ½ä»¥åŠæµæ˜¯å¦æ”¯æŒéšæœºè®¿é—®ç­‰ã€‚

#### æŒ‰ç…§æ•°æ®æµæ–¹å‘å¦‚ä½•åˆ’åˆ†ï¼Ÿ

- è¾“å…¥æµï¼ˆInput Streamï¼‰ï¼šä»æºï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œç­‰ï¼‰è¯»å–æ•°æ®åˆ°ç¨‹åºã€‚
- è¾“å‡ºæµï¼ˆOutput Streamï¼‰ï¼šå°†æ•°æ®ä»ç¨‹åºå†™å‡ºåˆ°ç›®çš„åœ°ï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œã€æ§åˆ¶å°ç­‰ï¼‰ã€‚

#### æŒ‰å¤„ç†æ•°æ®å•ä½å¦‚ä½•åˆ’åˆ†ï¼Ÿ

- å­—èŠ‚æµï¼ˆByte Streamsï¼‰ï¼šä»¥å­—èŠ‚ä¸ºå•ä½è¯»å†™æ•°æ®ï¼Œä¸»è¦ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚éŸ³é¢‘ã€å›¾åƒæ–‡ä»¶ç­‰ã€‚
- å­—ç¬¦æµï¼ˆCharacter Streamsï¼‰ï¼šä»¥å­—ç¬¦ä¸ºå•ä½è¯»å†™æ•°æ®ï¼Œä¸»è¦ç”¨äºå¤„ç†æ–‡æœ¬æ•°æ®ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/io/shangtou-01.png)

#### æŒ‰åŠŸèƒ½å¦‚ä½•åˆ’åˆ†ï¼Ÿ

- èŠ‚ç‚¹æµï¼ˆNode Streamsï¼‰ï¼šç›´æ¥ä¸æ•°æ®æºæˆ–ç›®çš„åœ°ç›¸è¿ï¼Œå¦‚ FileInputStreamã€FileOutputStreamã€‚
- å¤„ç†æµï¼ˆProcessing Streamsï¼‰ï¼šå¯¹ä¸€ä¸ªå·²å­˜åœ¨çš„æµè¿›è¡ŒåŒ…è£…ï¼Œå¦‚ç¼“å†²æµ BufferedInputStreamã€BufferedOutputStreamã€‚
- ç®¡é“æµï¼ˆPiped Streamsï¼‰ï¼šç”¨äºçº¿ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œå¦‚ PipedInputStreamã€PipedOutputStreamã€‚

#### IO æµç”¨åˆ°äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼Ÿ

å…¶å®ï¼ŒJava çš„ IO æµä½“ç³»è¿˜ç”¨åˆ°äº†ä¸€ä¸ªè®¾è®¡æ¨¡å¼â€”â€”**è£…é¥°å™¨æ¨¡å¼**ã€‚

![Java IOæµç”¨åˆ°è£…é¥°å™¨æ¨¡å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-25.png)

#### Java ç¼“å†²åŒºæº¢å‡ºï¼Œå¦‚ä½•é¢„é˜²

Java ç¼“å†²åŒºæº¢å‡ºä¸»è¦æ˜¯ç”±äºå‘ç¼“å†²åŒºå†™å…¥çš„æ•°æ®è¶…è¿‡å…¶èƒ½å¤Ÿå­˜å‚¨çš„æ•°æ®é‡ã€‚å¯ä»¥é‡‡ç”¨è¿™äº›æªæ–½æ¥é¿å…ï¼š

â‘ ã€**åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°**ï¼šåœ¨åˆ›å»ºç¼“å†²åŒºæ—¶ï¼Œåº”æ ¹æ®å®é™…éœ€æ±‚åˆç†è®¾ç½®ç¼“å†²åŒºçš„å¤§å°ï¼Œé¿å…åˆ›å»ºè¿‡å¤§æˆ–è¿‡å°çš„ç¼“å†²åŒºã€‚

â‘¡ã€**æ§åˆ¶å†™å…¥æ•°æ®é‡**ï¼šåœ¨å‘ç¼“å†²åŒºå†™å…¥æ•°æ®æ—¶ï¼Œåº”è¯¥æ§åˆ¶å†™å…¥çš„æ•°æ®é‡ï¼Œç¡®ä¿ä¸ä¼šè¶…è¿‡ç¼“å†²åŒºçš„å®¹é‡ã€‚Java çš„ ByteBuffer ç±»æä¾›äº†`remaining()`æ–¹æ³•ï¼Œå¯ä»¥è·å–ç¼“å†²åŒºä¸­å‰©ä½™çš„å¯å†™å…¥æ•°æ®é‡ã€‚

```java
import java.nio.ByteBuffer;

public class ByteBufferExample {

    public static void main(String[] args) {
        // æ¨¡æ‹Ÿæ¥æ”¶åˆ°çš„æ•°æ®
        byte[] receivedData = {1, 2, 3, 4, 5};
        int bufferSize = 1024;  // è®¾ç½®ä¸€ä¸ªåˆç†çš„ç¼“å†²åŒºå¤§å°

        // åˆ›å»ºByteBuffer
        ByteBuffer buffer = ByteBuffer.allocate(bufferSize);

        // å†™å…¥æ•°æ®ä¹‹å‰æ£€æŸ¥å®¹é‡æ˜¯å¦è¶³å¤Ÿ
        if (buffer.remaining() >= receivedData.length) {
            buffer.put(receivedData);
        } else {
            System.out.println("Not enough space in buffer to write data.");
        }

        // å‡†å¤‡è¯»å–æ•°æ®ï¼šå°†limitè®¾ç½®ä¸ºå½“å‰ä½ç½®ï¼Œpositionè®¾å›0
        buffer.flip();

        // è¯»å–æ•°æ®
        while (buffer.hasRemaining()) {
            byte data = buffer.get();
            System.out.println("Read data: " + data);
        }

        // æ¸…ç©ºç¼“å†²åŒºä»¥ä¾¿å†æ¬¡ä½¿ç”¨
        buffer.clear();
    }
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šJava IO æµ å¦‚ä½•åˆ’åˆ†ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 9 Java é€šç”¨è½¯ä»¶å¼€å‘ä¸€é¢é¢è¯•åŸé¢˜ï¼šJava ç¼“å†²åŒºæº¢å‡ºï¼Œå¦‚ä½•é¢„é˜²

### 43.æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ,ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ?

å…¶å®å­—ç¬¦æµæ˜¯ç”± Java è™šæ‹Ÿæœºå°†å­—èŠ‚è½¬æ¢å¾—åˆ°çš„ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™ä¸ªè¿‡ç¨‹è¿˜æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“ç¼–ç ç±»å‹å°±å¾ˆå®¹æ˜“å‡ºç°ä¹±ç é—®é¢˜ã€‚

æ‰€ä»¥ï¼Œ I/O æµå°±å¹²è„†æä¾›äº†ä¸€ä¸ªç›´æ¥æ“ä½œå­—ç¬¦çš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¹³æ—¶å¯¹å­—ç¬¦è¿›è¡Œæµæ“ä½œã€‚å¦‚æœéŸ³é¢‘æ–‡ä»¶ã€å›¾ç‰‡ç­‰åª’ä½“æ–‡ä»¶ç”¨å­—èŠ‚æµæ¯”è¾ƒå¥½ï¼Œå¦‚æœæ¶‰åŠåˆ°å­—ç¬¦çš„è¯ä½¿ç”¨å­—ç¬¦æµæ¯”è¾ƒå¥½ã€‚

#### æ–‡æœ¬å­˜å‚¨æ˜¯å­—èŠ‚æµè¿˜æ˜¯å­—ç¬¦æµï¼Œè§†é¢‘æ–‡ä»¶å‘¢ï¼Ÿ

åœ¨è®¡ç®—æœºä¸­ï¼Œæ–‡æœ¬å’Œè§†é¢‘éƒ½æ˜¯æŒ‰ç…§å­—èŠ‚å­˜å‚¨çš„ï¼Œåªæ˜¯å¦‚æœæ˜¯æ–‡æœ¬æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å­—ç¬¦æµçš„å½¢å¼å»è¯»å–ï¼Œè¿™æ ·æ›´æ–¹é¢çš„æˆ‘ä»¬è¿›è¡Œç›´æ¥å¤„ç†ã€‚

æ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªå¤§æ–‡æœ¬æ–‡ä»¶ä¸­æŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å­—ç¬¦æµæ¥è¯»å–åˆ¤æ–­ã€‚

å¤„ç†è§†é¢‘æ–‡ä»¶æ—¶ï¼Œé€šå¸¸ä½¿ç”¨å­—èŠ‚æµï¼ˆå¦‚ Java ä¸­çš„`FileInputStream`ã€`FileOutputStream`ï¼‰æ¥è¯»å–æˆ–å†™å…¥æ•°æ®ï¼Œå¹¶ä¸”ä¼šå°½é‡ä½¿ç”¨ç¼“å†²æµï¼ˆå¦‚`BufferedInputStream`ã€`BufferedOutputStream`ï¼‰æ¥æé«˜è¯»å†™æ•ˆç‡ã€‚

åœ¨[æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®](https://javabetter.cn/zhishixingqiu/paicoding.html)é¡¹ç›®ä¸­ï¼Œå¯¹äºæ–‡æœ¬ï¼Œæ¯”å¦‚è¯´æ–‡ç« å’Œæ•™ç¨‹å†…å®¹ï¼Œæ˜¯ç›´æ¥å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œè€Œå¯¹äºè§†é¢‘å’Œå›¾ç‰‡ç­‰å¤§æ–‡ä»¶ï¼Œæ˜¯å­˜å‚¨åœ¨ OSS ä¸­çš„ã€‚

å› æ­¤ï¼Œæ— è®ºæ˜¯æ–‡æœ¬æ–‡ä»¶è¿˜æ˜¯è§†é¢‘æ–‡ä»¶ï¼Œå®ƒä»¬åœ¨ç‰©ç†å­˜å‚¨å±‚é¢éƒ½æ˜¯ä»¥å­—èŠ‚æµçš„å½¢å¼å­˜åœ¨ã€‚åŒºåˆ«åœ¨äºï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡ Java ä»£ç æ¥è§£é‡Šå’Œå¤„ç†è¿™äº›å­—èŠ‚æµï¼šä½œä¸ºç¼–ç åçš„å­—ç¬¦è¿˜æ˜¯ä½œä¸ºäºŒè¿›åˆ¶æ•°æ®ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„å›½ä¼é¢è¯•åŸé¢˜ï¼šæ–‡æœ¬å­˜å‚¨æ˜¯å­—èŠ‚æµè¿˜æ˜¯å­—ç¬¦æµï¼Œè§†é¢‘æ–‡ä»¶å‘¢ï¼Ÿ

### 44.BIOã€NIOã€AIO ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ

æ¨èé˜…è¯»ï¼š[Java NIO æ¯”ä¼ ç»Ÿ IO å¼ºåœ¨å“ªé‡Œï¼Ÿ](https://javabetter.cn/nio/nio-better-io.html)

Java æä¾›äº†å¤šç§ IO æ¨¡å‹æ¥å¤„ç†è¾“å…¥å’Œè¾“å‡ºæ“ä½œï¼ŒåŒ…æ‹¬ä¼ ç»Ÿçš„é˜»å¡ IOã€éé˜»å¡ IO å’Œå¼‚æ­¥ IOã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šIO åˆ†ç±»](https://cdn.tobebetterjavaer.com/stutymore/javase-20240404103618.png)

BIOï¼ˆBlocking I/Oï¼‰ï¼šé‡‡ç”¨é˜»å¡å¼ I/O æ¨¡å‹ï¼Œçº¿ç¨‹åœ¨æ‰§è¡Œ I/O æ“ä½œæ—¶è¢«é˜»å¡ï¼Œæ— æ³•å¤„ç†å…¶ä»–ä»»åŠ¡ï¼Œé€‚ç”¨äºè¿æ¥æ•°è¾ƒå°‘çš„åœºæ™¯ã€‚

NIOï¼ˆNew I/O æˆ– Non-blocking I/Oï¼‰ï¼šé‡‡ç”¨éé˜»å¡ I/O æ¨¡å‹ï¼Œçº¿ç¨‹åœ¨ç­‰å¾… I/O æ—¶å¯æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œé€šè¿‡ Selector ç›‘æ§å¤šä¸ª Channel ä¸Šçš„äº‹ä»¶ï¼Œé€‚ç”¨äºè¿æ¥æ•°å¤šä½†è¿æ¥æ—¶é—´çŸ­çš„åœºæ™¯ã€‚

AIOï¼ˆAsynchronous I/Oï¼‰ï¼šä½¿ç”¨å¼‚æ­¥ I/O æ¨¡å‹ï¼Œçº¿ç¨‹å‘èµ· I/O è¯·æ±‚åç«‹å³è¿”å›ï¼Œå½“ I/O æ“ä½œå®Œæˆæ—¶é€šè¿‡å›è°ƒå‡½æ•°é€šçŸ¥çº¿ç¨‹ï¼Œé€‚ç”¨äºè¿æ¥æ•°å¤šä¸”è¿æ¥æ—¶é—´é•¿çš„åœºæ™¯ã€‚

#### ç®€å•è¯´ä¸€ä¸‹ BIOï¼Ÿ

BIOï¼Œä¹Ÿå°±æ˜¯ä¼ ç»Ÿçš„ IOï¼ŒåŸºäºå­—èŠ‚æµæˆ–å­—ç¬¦æµï¼ˆå¦‚ FileInputStreamã€BufferedReader ç­‰ï¼‰è¿›è¡Œæ–‡ä»¶è¯»å†™ï¼ŒåŸºäº Socket å’Œ ServerSocket è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚

å¯¹äºæ¯ä¸ªè¿æ¥ï¼Œéƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æ¥å¤„ç†è¯»å†™æ“ä½œã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šBIO](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-27.png)

#### ç®€å•è¯´ä¸‹ NIOï¼Ÿ

NIOï¼ŒJDK 1.4 æ—¶å¼•å…¥ï¼Œæ”¾åœ¨ java.nio åŒ…ä¸‹ï¼Œæä¾›äº† Channelã€Bufferã€Selector ç­‰æ–°çš„æŠ½è±¡ï¼ŒåŸºäº RandomAccessFileã€FileChannelã€ByteBuffer è¿›è¡Œæ–‡ä»¶è¯»å†™ï¼ŒåŸºäº SocketChannel å’Œ ServerSocketChannel è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚

å®é™…ä¸Šï¼Œâ€œæ—§â€çš„ I/O åŒ…å·²ç»ä½¿ç”¨ NIO é‡æ–°å®ç°è¿‡ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œæ–‡ä»¶è¯»å†™æ—¶ï¼ŒNIO å¹¶æ— æ³•ä½“ç°å‡ºæ¯” BIO æ›´å¯é çš„æ€§èƒ½ã€‚

NIO çš„é­…åŠ›ä¸»è¦ä½“ç°åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨å¯ä»¥ç”¨ä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œé€šè¿‡ Selector ç›‘å¬å¤šä¸ª Channel æ¥å®ç°å¤šè·¯å¤ç”¨ï¼Œæå¤§åœ°æé«˜äº†ç½‘ç»œç¼–ç¨‹çš„æ€§èƒ½ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šNIO](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-28.png)

ç¼“å†²åŒº Buffer ä¹Ÿèƒ½æå¤§æå‡ä¸€æ¬¡ IO æ“ä½œçš„æ•ˆç‡ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šNIOå®Œæ•´ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-29.png)

#### ç®€å•è¯´ä¸‹ AIOï¼Ÿ

AIO æ˜¯ Java 7 å¼•å…¥çš„ï¼Œæ”¾åœ¨ java.nio.channels åŒ…ä¸‹ï¼Œæä¾›äº† AsynchronousFileChannelã€AsynchronousSocketChannel ç­‰å¼‚æ­¥ Channelã€‚

å®ƒå¼•å…¥äº†å¼‚æ­¥é€šé“çš„æ¦‚å¿µï¼Œä½¿å¾— I/O æ“ä½œå¯ä»¥å¼‚æ­¥è¿›è¡Œã€‚è¿™æ„å‘³ç€çº¿ç¨‹å‘èµ·ä¸€ä¸ªè¯»å†™æ“ä½œåä¸å¿…ç­‰å¾…å…¶å®Œæˆï¼Œå¯ä»¥ç«‹å³è¿›è¡Œå…¶ä»–ä»»åŠ¡ï¼Œå¹¶ä¸”å½“è¯»å†™æ“ä½œçœŸæ­£å®Œæˆæ—¶ï¼Œçº¿ç¨‹ä¼šè¢«å¼‚æ­¥åœ°é€šçŸ¥ã€‚

```java
AsynchronousFileChannel fileChannel = AsynchronousFileChannel.open(Paths.get("test.txt"), StandardOpenOption.READ);
ByteBuffer buffer = ByteBuffer.allocate(1024);
Future<Integer> result = fileChannel.read(buffer, 0);
while (!result.isDone()) {
    // do something
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 3 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šBIO NIO çš„åŒºåˆ«
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šBIOã€NIOã€AIO çš„åŒºåˆ«ï¼Ÿ
> 3. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´ä¸€ä¸‹é˜»å¡éé˜»å¡ IO -è¯´äº†ä¸‹ BIO å’Œ NIO

## åºåˆ—åŒ–

### 45.ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Ÿä»€ä¹ˆæ˜¯ååºåˆ—åŒ–ï¼Ÿ

åºåˆ—åŒ–ï¼ˆSerializationï¼‰æ˜¯æŒ‡å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµçš„è¿‡ç¨‹ï¼Œä»¥ä¾¿èƒ½å¤Ÿå°†è¯¥å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶ã€æ•°æ®åº“ï¼Œæˆ–è€…è¿›è¡Œç½‘ç»œä¼ è¾“ã€‚

ååºåˆ—åŒ–ï¼ˆDeserializationï¼‰å°±æ˜¯å°†å­—èŠ‚æµè½¬æ¢å›å¯¹è±¡çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿æ„å»ºåŸå§‹å¯¹è±¡ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šåºåˆ—åŒ–å’Œååºåˆ—åŒ–](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-30.png)

#### Serializable æ¥å£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

`Serializable`æ¥å£ç”¨äºæ ‡è®°ä¸€ä¸ªç±»å¯ä»¥è¢«åºåˆ—åŒ–ã€‚

```java
public class Person implements Serializable {
    private String name;
    private int age;
    // çœç•¥ getter å’Œ setter æ–¹æ³•
}
```

#### serialVersionUID æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

serialVersionUID æ˜¯ Java åºåˆ—åŒ–æœºåˆ¶ä¸­ç”¨äºæ ‡è¯†ç±»ç‰ˆæœ¬çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®ƒçš„ä½œç”¨æ˜¯ç¡®ä¿åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼Œç±»çš„ç‰ˆæœ¬æ˜¯å…¼å®¹çš„ã€‚

```java
import java.io.Serializable;

public class MyClass implements Serializable {
    private static final long serialVersionUID = 1L;
    private String name;
    private int age;

    // getters and setters
}
```

serialVersionUID è¢«è®¾ç½®ä¸º 1L æ˜¯ä¸€ç§æ¯”è¾ƒçœäº‹çš„åšæ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Intellij IDEA è¿›è¡Œè‡ªåŠ¨ç”Ÿæˆã€‚

ä½†åªè¦ serialVersionUID åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¿æŒä¸€è‡´ï¼Œå°±ä¸ä¼šå‡ºç°é—®é¢˜ã€‚

å¦‚æœä¸æ˜¾å¼å£°æ˜ serialVersionUIDï¼ŒJava è¿è¡Œæ—¶ä¼šæ ¹æ®ç±»çš„è¯¦ç»†ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª serialVersionUIDã€‚é‚£ä¹ˆå½“ç±»çš„ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ serialVersionUID å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´ååºåˆ—åŒ–å¤±è´¥ã€‚

#### Java åºåˆ—åŒ–ä¸åŒ…å«é™æ€å˜é‡å—ï¼Ÿ

æ˜¯çš„ï¼Œåºåˆ—åŒ–æœºåˆ¶åªä¼šä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œé™æ€å˜é‡å±äºç±»çš„çŠ¶æ€ï¼Œä¸å±äºå¯¹è±¡çš„çŠ¶æ€ã€‚

#### å¦‚æœæœ‰äº›å˜é‡ä¸æƒ³åºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯ä»¥ä½¿ç”¨`transient`å…³é”®å­—ä¿®é¥°ä¸æƒ³åºåˆ—åŒ–çš„å˜é‡ã€‚

```java
public class Person implements Serializable {
    private String name;
    private transient int age;
    // çœç•¥ getter å’Œ setter æ–¹æ³•
}
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 2  åç«¯é¢è¯•åŸé¢˜ï¼šç”¨è¿‡åºåˆ—åŒ–å’Œååºåˆ—åŒ–å—ï¼Ÿ

### 46.è¯´è¯´æœ‰å‡ ç§åºåˆ—åŒ–æ–¹å¼ï¼Ÿ

Java åºåˆ—åŒ–æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ä¸‰ç§ï¼š

![Javaå¸¸è§åºåˆ—åŒ–æ–¹å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-31.png)

- Java å¯¹è±¡åºåˆ—åŒ– ï¼šJava åŸç”Ÿåºåˆ—åŒ–æ–¹æ³•å³é€šè¿‡ Java åŸç”Ÿæµ(InputStream å’Œ OutputStream ä¹‹é—´çš„è½¬åŒ–)çš„æ–¹å¼è¿›è¡Œè½¬åŒ–ï¼Œä¸€èˆ¬æ˜¯å¯¹è±¡è¾“å‡ºæµ `ObjectOutputStream`å’Œå¯¹è±¡è¾“å…¥æµ`ObjectInputStream`ã€‚
- Json åºåˆ—åŒ–ï¼šè¿™ä¸ªå¯èƒ½æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„åºåˆ—åŒ–æ–¹å¼ï¼ŒJson åºåˆ—åŒ–çš„é€‰æ‹©å¾ˆå¤šï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ jackson åŒ…ï¼Œé€šè¿‡ ObjectMapper ç±»æ¥è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚å°†å¯¹è±¡è½¬åŒ–ä¸º byte æ•°ç»„æˆ–è€…å°† json ä¸²è½¬åŒ–ä¸ºå¯¹è±¡ã€‚
- ProtoBuff åºåˆ—åŒ–ï¼šProtocolBuffer æ˜¯ä¸€ç§è½»ä¾¿é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼ŒProtoBuff åºåˆ—åŒ–å¯¹è±¡å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šå°†å…¶å‹ç¼©ï¼Œå¯ä»¥å¤§å¤§å‡å°‘æ•°æ®ä¼ è¾“å¤§å°ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚

## æ³›å‹

### 47.Java æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ

> ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ

Java æ³›å‹ï¼ˆgenericsï¼‰æ˜¯ JDK 5 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§, æ³›å‹æä¾›äº†ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼Œè¯¥æœºåˆ¶å…è®¸ç¨‹åºå‘˜åœ¨ç¼–è¯‘æ—¶æ£€æµ‹åˆ°éæ³•çš„ç±»å‹ã€‚æ³›å‹çš„æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚

```java
List<Integer> list = new ArrayList<>();

list.add(12);
//è¿™é‡Œç›´æ¥æ·»åŠ ä¼šæŠ¥é”™
list.add("a");
Class<? extends List> clazz = list.getClass();
Method add = clazz.getDeclaredMethod("add", Object.class);
//ä½†æ˜¯é€šè¿‡åå°„æ·»åŠ ï¼Œæ˜¯å¯ä»¥çš„
add.invoke(list, "kl");

System.out.println(list);
```

æ³›å‹ä¸€èˆ¬æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼:**æ³›å‹ç±»**ã€**æ³›å‹æ¥å£**ã€**æ³›å‹æ–¹æ³•**ã€‚

![æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-32.png)

**1.æ³›å‹ç±»**ï¼š

```java
//æ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹
//åœ¨å®ä¾‹åŒ–æ³›å‹ç±»æ—¶ï¼Œå¿…é¡»æŒ‡å®šTçš„å…·ä½“ç±»å‹
public class Generic<T>{

    private T key;

    public Generic(T key) {
        this.key = key;
    }

    public T getKey(){
        return key;
    }
}
```

å¦‚ä½•å®ä¾‹åŒ–æ³›å‹ç±»ï¼š

```java
Generic<Integer> genericInteger = new Generic<Integer>(123456);
```

**2.æ³›å‹æ¥å£** ï¼š

```java
public interface Generator<T> {
    public T method();
}
```

å®ç°æ³›å‹æ¥å£ï¼ŒæŒ‡å®šç±»å‹ï¼š

```java
class GeneratorImpl<T> implements Generator<String>{
    @Override
    public String method() {
        return "hello";
    }
}
```

**3.æ³›å‹æ–¹æ³•** ï¼š

```java
   public static < E > void printArray( E[] inputArray )
   {
         for ( E element : inputArray ){
            System.out.printf( "%s ", element );
         }
         System.out.println();
    }
```

ä½¿ç”¨ï¼š

```java
// åˆ›å»ºä¸åŒç±»å‹æ•°ç»„ï¼š Integer, Double å’Œ Character
Integer[] intArray = { 1, 2, 3 };
String[] stringArray = { "Hello", "World" };
printArray( intArray  );
printArray( stringArray  );
```

> æ³›å‹å¸¸ç”¨çš„é€šé…ç¬¦æœ‰å“ªäº›ï¼Ÿ

**å¸¸ç”¨çš„é€šé…ç¬¦ä¸ºï¼š Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ**

- ï¼Ÿ è¡¨ç¤ºä¸ç¡®å®šçš„ java ç±»å‹
- T (type) è¡¨ç¤ºå…·ä½“çš„ä¸€ä¸ª java ç±»å‹
- K V (key value) åˆ†åˆ«ä»£è¡¨ java é”®å€¼ä¸­çš„ Key Value
- E (element) ä»£è¡¨ Element

> ä»€ä¹ˆæ˜¯æ³›å‹æ“¦é™¤ï¼Ÿ

æ‰€è°“çš„æ³›å‹æ“¦é™¤ï¼Œå®˜æ–¹åå«â€œç±»å‹æ“¦é™¤â€ã€‚

Java çš„æ³›å‹æ˜¯ä¼ªæ³›å‹ï¼Œè¿™æ˜¯å› ä¸º Java åœ¨ç¼–è¯‘æœŸé—´ï¼Œæ‰€æœ‰çš„ç±»å‹ä¿¡æ¯éƒ½ä¼šè¢«æ“¦æ‰ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™æ˜¯æ²¡æœ‰æ³›å‹çš„ã€‚

ä¾‹å¦‚è¿™æ®µä»£ç ï¼Œå¾€ä¸€ç¾¤çŒ«é‡Œæ”¾æ¡ç‹—ï¼š

```java
LinkedList<Cat> cats = new LinkedList<Cat>();
LinkedList list = cats;  // æ³¨æ„æˆ‘åœ¨è¿™é‡ŒæŠŠèŒƒå‹å»æ‰äº†ï¼Œä½†æ˜¯listå’Œcatsæ˜¯åŒä¸€ä¸ªé“¾è¡¨ï¼
list.add(new Dog());  // å®Œå…¨æ²¡é—®é¢˜ï¼
```

å› ä¸º Java çš„èŒƒå‹åªå­˜åœ¨äºæºç é‡Œï¼Œç¼–è¯‘çš„æ—¶å€™ç»™ä½ é™æ€åœ°æ£€æŸ¥ä¸€ä¸‹èŒƒå‹ç±»å‹æ˜¯å¦æ­£ç¡®ï¼Œè€Œåˆ°äº†è¿è¡Œæ—¶å°±ä¸æ£€æŸ¥äº†ã€‚ä¸Šé¢è¿™æ®µä»£ç åœ¨ JREï¼ˆJava**è¿è¡Œ**ç¯å¢ƒï¼‰çœ‹æ¥å’Œä¸‹é¢è¿™æ®µæ²¡åŒºåˆ«ï¼š

```java
LinkedList cats = new LinkedList();  // æ³¨æ„ï¼šæ²¡æœ‰èŒƒå‹ï¼
LinkedList list = cats;
list.add(new Dog());
```

ä¸ºä»€ä¹ˆè¦ç±»å‹æ“¦é™¤å‘¢ï¼Ÿ

ä¸»è¦æ˜¯ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œå› ä¸º JDK5 ä¹‹å‰æ˜¯æ²¡æœ‰æ³›å‹çš„ï¼Œä¸ºäº†è®© JVM ä¿æŒå‘ä¸‹å…¼å®¹ï¼Œå°±å‡ºäº†ç±»å‹æ“¦é™¤è¿™ä¸ªç­–ç•¥ã€‚

## æ³¨è§£

### 48.è¯´ä¸€ä¸‹ä½ å¯¹æ³¨è§£çš„ç†è§£ï¼Ÿ

**Java æ³¨è§£æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ ‡è®°**ï¼Œå¯ä»¥ç†è§£æˆç”Ÿæ´»ä¸­çš„ä¸€ä¸ªäººçš„ä¸€äº›å°è£…æ‰®ï¼Œæ¯”å¦‚æˆ´ä»€ä¹ˆä»€ä¹ˆå¸½å­ï¼Œæˆ´ä»€ä¹ˆçœ¼é•œã€‚

![Javaæ³¨è§£å’Œå¸½å­](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-33.png)

æ³¨è§£å¯ä»¥æ ‡è®°åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å±æ€§ä¸Šç­‰ï¼Œæ ‡è®°è‡ªèº«ä¹Ÿå¯ä»¥è®¾ç½®ä¸€äº›å€¼ï¼Œæ¯”å¦‚å¸½å­é¢œè‰²æ˜¯ç»¿è‰²ã€‚

æœ‰äº†æ ‡è®°ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç¼–è¯‘æˆ–è€…è¿è¡Œé˜¶æ®µå»è¯†åˆ«è¿™äº›æ ‡è®°ï¼Œç„¶åæä¸€äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æ³¨è§£çš„ç”¨å¤„ã€‚

ä¾‹å¦‚æˆ‘ä»¬å¸¸è§çš„ AOPï¼Œä½¿ç”¨æ³¨è§£ä½œä¸ºåˆ‡ç‚¹å°±æ˜¯è¿è¡ŒæœŸæ³¨è§£çš„åº”ç”¨ï¼›æ¯”å¦‚ lombokï¼Œå°±æ˜¯æ³¨è§£åœ¨ç¼–è¯‘æœŸçš„è¿è¡Œã€‚

æ³¨è§£ç”Ÿå‘½å‘¨æœŸæœ‰ä¸‰å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š

- RetentionPolicy.SOURCEï¼šç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œä¸ä¼šå†™å…¥ class æ–‡ä»¶
- RetentionPolicy.CLASSï¼šä¼šå†™å…¥ class æ–‡ä»¶ï¼Œåœ¨ç±»åŠ è½½é˜¶æ®µä¸¢å¼ƒï¼Œä¹Ÿå°±æ˜¯è¿è¡Œçš„æ—¶å€™å°±æ²¡è¿™ä¸ªä¿¡æ¯äº†
- RetentionPolicy.RUNTIMEï¼šä¼šå†™å…¥ class æ–‡ä»¶ï¼Œæ°¸ä¹…ä¿å­˜ï¼Œå¯ä»¥é€šè¿‡åå°„è·å–æ³¨è§£ä¿¡æ¯

æ‰€ä»¥æˆ‘ä¸Šæ–‡å†™çš„æ˜¯è§£æçš„æ—¶å€™ï¼Œæ²¡å†™å…·ä½“æ˜¯è§£æå•¥ï¼Œå› ä¸ºä¸åŒçš„ç”Ÿå‘½å‘¨æœŸçš„è§£æåŠ¨ä½œæ˜¯ä¸åŒçš„ã€‚

åƒå¸¸è§çš„ï¼š

![Overrideæ³¨è§£](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-34.png)

å°±æ˜¯ç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œç¼–è¯‘å™¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥æ²¡é—®é¢˜å°± over äº†ï¼Œclass æ–‡ä»¶é‡Œé¢ä¸ä¼šæœ‰ Override è¿™ä¸ªæ ‡è®°ã€‚

å†æ¯”å¦‚ Spring å¸¸è§çš„ Autowired ï¼Œå°±æ˜¯ RUNTIME çš„ï¼Œæ‰€ä»¥**åœ¨è¿è¡Œçš„æ—¶å€™å¯ä»¥é€šè¿‡åå°„å¾—åˆ°æ³¨è§£çš„ä¿¡æ¯**ï¼Œè¿˜èƒ½æ‹¿åˆ°æ ‡è®°çš„å€¼ required ã€‚

![Autowiredæ³¨è§£](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-35.png)

## åå°„

### 49.ä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ

åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ˜¯é€šè¿‡ new å…³é”®å­—æ¥å®ç°çš„ï¼Œæ¯”å¦‚ï¼š

```java
Person person = new Person();
```

Person ç±»çš„ä¿¡æ¯åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†ï¼Œé‚£å‡å¦‚åœ¨ç¼–è¯‘æœŸæ— æ³•ç¡®å®šç±»çš„ä¿¡æ¯ï¼Œä½†åˆæƒ³åœ¨è¿è¡Œæ—¶è·å–ç±»çš„ä¿¡æ¯ã€åˆ›å»ºç±»çš„å®ä¾‹ã€è°ƒç”¨ç±»çš„æ–¹æ³•ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°åå°„ã€‚

åå°„åŠŸèƒ½ä¸»è¦é€šè¿‡ `java.lang.Class` ç±»åŠ `java.lang.reflect` åŒ…ä¸­çš„ç±»å¦‚ Method, Field, Constructor ç­‰æ¥å®ç°ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJavaåå°„ç›¸å…³ç±»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-36.png)

æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥è£…æ¥åŠ¨æ€åŠ è½½ç±»å¹¶åˆ›å»ºå¯¹è±¡ï¼š

```java
String className = "java.util.Date";
Class<?> cls = Class.forName(className);
Object obj = cls.newInstance();
System.out.println(obj.getClass().getName());
```

æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®¿é—®å­—æ®µå’Œæ–¹æ³•ï¼š

```java
// åŠ è½½å¹¶å®ä¾‹åŒ–ç±»
Class<?> cls = Class.forName("java.util.Date");
Object obj = cls.newInstance();

// è·å–å¹¶è°ƒç”¨æ–¹æ³•
Method method = cls.getMethod("getTime");
Object result = method.invoke(obj);
System.out.println("Time: " + result);

// è®¿é—®å­—æ®µ
Field field = cls.getDeclaredField("fastTime");
field.setAccessible(true); // å¯¹äºç§æœ‰å­—æ®µéœ€è¦è¿™æ ·åš
System.out.println("fastTime: " + field.getLong(obj));
```

#### åå°„æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ

â‘ ã€Spring æ¡†æ¶å°±å¤§é‡ä½¿ç”¨äº†åå°„æ¥åŠ¨æ€åŠ è½½å’Œç®¡ç† Beanã€‚

```java
Class<?> clazz = Class.forName("com.example.MyClass");
Object instance = clazz.newInstance();
```

â‘¡ã€Java çš„åŠ¨æ€ä»£ç†ï¼ˆDynamic Proxyï¼‰æœºåˆ¶å°±ä½¿ç”¨äº†åå°„æ¥åˆ›å»ºä»£ç†ç±»ã€‚ä»£ç†ç±»å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å¤„ç†æ–¹æ³•è°ƒç”¨ï¼Œè¿™åœ¨å®ç° AOP å’Œæ‹¦æˆªå™¨æ—¶éå¸¸æœ‰ç”¨ã€‚

```java
InvocationHandler handler = new MyInvocationHandler();
MyInterface proxyInstance = (MyInterface) Proxy.newProxyInstance(
    MyInterface.class.getClassLoader(),
    new Class<?>[] { MyInterface.class },
    handler
);
```

â‘¢ã€JUnit å’Œ TestNG ç­‰æµ‹è¯•æ¡†æ¶ä½¿ç”¨åå°„æœºåˆ¶æ¥å‘ç°å’Œæ‰§è¡Œæµ‹è¯•æ–¹æ³•ã€‚åå°„å…è®¸æ¡†æ¶æ‰«æç±»ï¼ŒæŸ¥æ‰¾å¸¦æœ‰ç‰¹å®šæ³¨è§£ï¼ˆå¦‚ `@Test`ï¼‰çš„æ–¹æ³•ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è°ƒç”¨å®ƒä»¬ã€‚

```java
Method testMethod = testClass.getMethod("testSomething");
testMethod.invoke(testInstance);
```

#### åå°„çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬éƒ½çŸ¥é“ Java ç¨‹åºçš„æ‰§è¡Œåˆ†ä¸ºç¼–è¯‘å’Œè¿è¡Œä¸¤æ­¥ï¼Œç¼–è¯‘ä¹‹åä¼šç”Ÿæˆå­—èŠ‚ç (.class)æ–‡ä»¶ï¼ŒJVM è¿›è¡Œç±»åŠ è½½çš„æ—¶å€™ï¼Œä¼šåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œå°†ç±»å‹ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯åŠ è½½è¿›æ–¹æ³•åŒºï¼Œåå°„å°±æ˜¯å»è·å–è¿™äº›ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œå„ç§æ“ä½œã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šJava åå°„ç”¨è¿‡å—ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 18 æˆéƒ½åˆ°å®¶é¢è¯•åŸé¢˜ï¼šåå°„åŠå…¶åº”ç”¨åœºæ™¯

## JDK1.8 æ–°ç‰¹æ€§

JDK å·²ç»å‡ºåˆ° 17 äº†ï¼Œä½†æ˜¯ä½ è¿­ä»£ä½ çš„ç‰ˆæœ¬ï¼Œæˆ‘ç”¨æˆ‘çš„ 8ã€‚JDK1.8 çš„ä¸€äº›æ–°ç‰¹æ€§ï¼Œå½“ç„¶ç°åœ¨ä¹Ÿä¸æ–°äº†ï¼Œå…¶å®åœ¨å·¥ä½œä¸­å·²ç»å¾ˆå¸¸ç”¨äº†ã€‚

### 50.JDK 1.8 éƒ½æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ

JDK 1.8 æ–°å¢äº†ä¸å°‘æ–°çš„ç‰¹æ€§ï¼Œå¦‚ Lambda è¡¨è¾¾å¼ã€æ¥å£é»˜è®¤æ–¹æ³•ã€Stream APIã€æ—¥æœŸæ—¶é—´ APIã€Optional ç±»ç­‰ã€‚

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šJDK1.8ä¸»è¦æ–°ç‰¹æ€§](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-37.png)

â‘ ã€Java 8 å…è®¸åœ¨æ¥å£ä¸­æ·»åŠ é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ã€‚

```java
public interface MyInterface {
    default void myDefaultMethod() {
        System.out.println("My default method");
    }

    static void myStaticMethod() {
        System.out.println("My static method");
    }
}
```

â‘¡ã€Lambda è¡¨è¾¾å¼æè¿°äº†ä¸€ä¸ªä»£ç å—ï¼ˆæˆ–è€…å«åŒ¿åæ–¹æ³•ï¼‰ï¼Œå¯ä»¥å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ„é€ æ–¹æ³•æˆ–è€…æ™®é€šæ–¹æ³•ä»¥ä¾¿åç»­æ‰§è¡Œã€‚

```java
public class LamadaTest {
    public static void main(String[] args) {
        new Thread(() -> System.out.println("æ²‰é»˜ç‹äºŒ")).start();
    }
}
```

ã€ŠEffective Javaã€‹çš„ä½œè€… Josh Bloch å»ºè®®ä½¿ç”¨ Lambda è¡¨è¾¾å¼æ—¶ï¼Œæœ€å¥½ä¸è¦è¶…è¿‡ 3 è¡Œã€‚å¦åˆ™ä»£ç å¯è¯»æ€§ä¼šå˜å¾—å¾ˆå·®ã€‚

â‘¢ã€Stream æ˜¯å¯¹ Java é›†åˆæ¡†æ¶çš„å¢å¼ºï¼Œå®ƒæä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„æ•°æ®å¤„ç†æ–¹å¼ã€‚

```java
List<String> list = new ArrayList<>();
list.add("ä¸­å›½åŠ æ²¹");
list.add("ä¸–ç•ŒåŠ æ²¹");
list.add("ä¸–ç•ŒåŠ æ²¹");

long count = list.stream().distinct().count();
System.out.println(count);
```

â‘£ã€Java 8 å¼•å…¥äº†ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIï¼Œä½äº`java.time`åŒ…ä¸­ã€‚è¿™ä¸ªæ–°çš„ API çº æ­£äº†æ—§ç‰ˆ`java.util.Date`ç±»ä¸­çš„è®¸å¤šç¼ºé™·ã€‚

```java
LocalDate today = LocalDate.now();
System.out.println("Today's Local date : " + today);

LocalTime time = LocalTime.now();
System.out.println("Local time : " + time);

LocalDateTime now = LocalDateTime.now();
System.out.println("Current DateTime : " + now);
```

â‘¤ã€å¼•å…¥ Optional æ˜¯ä¸ºäº†å‡å°‘ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚

```java
Optional<String> optional = Optional.of("æ²‰é»˜ç‹äºŒ");
optional.isPresent();           // true
optional.get();                 // "æ²‰é»˜ç‹äºŒ"
optional.orElse("æ²‰é»˜ç‹ä¸‰");    // "bam"
optional.ifPresent((s) -> System.out.println(s.charAt(0)));     // "æ²‰"
```

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šJDK1.8 çš„ç‰¹æ€§ï¼Ÿ
> 2. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„è”æƒ³é¢ç»åŒå­¦ 7 é¢è¯•åŸé¢˜ï¼šJavaå°è±¡æ¯”è¾ƒæ·±çš„ç‰ˆæœ¬æ›´æ–°ã€‚

### 51.Lambda è¡¨è¾¾å¼äº†è§£å¤šå°‘ï¼Ÿ

Lambda è¡¨è¾¾å¼ä¸»è¦ç”¨äºæä¾›ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥è¡¨ç¤ºåŒ¿åæ–¹æ³•ï¼Œä½¿ Java å…·å¤‡äº†å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§ã€‚

æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Lambda è¡¨è¾¾å¼æ¥ç®€åŒ–çº¿ç¨‹çš„åˆ›å»ºï¼š

```java
new Thread(() -> System.out.println("Hello World")).start();
```

è¿™æ¯”ä»¥å‰çš„åŒ¿åå†…éƒ¨ç±»è¦ç®€æ´å¾ˆå¤šã€‚

æ‰€è°“çš„å‡½æ•°å¼ç¼–ç¨‹ï¼Œå°±æ˜¯æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œæˆ–è€…ä½œä¸ºæ–¹æ³•çš„ç»“æœè¿”å›ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥é…åˆ Stream æµè¿›è¡Œæ•°æ®è¿‡æ»¤ï¼š

```java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6);
List<Integer> evenNumbers = numbers.stream()
    .filter(n -> n % 2 == 0)
    .collect(Collectors.toList());
```

å…¶ä¸­ `n -> n % 2 == 0` å°±æ˜¯ä¸€ä¸ª Lambda è¡¨è¾¾å¼ã€‚è¡¨ç¤ºä¼ å…¥ä¸€ä¸ªå‚æ•° nï¼Œè¿”å› `n % 2 == 0` çš„ç»“æœã€‚

#### Java8 æœ‰å“ªäº›å†…ç½®å‡½æ•°å¼æ¥å£ï¼Ÿ

JDK 1.8 API åŒ…å«äº†å¾ˆå¤šå†…ç½®çš„å‡½æ•°å¼æ¥å£ã€‚å…¶ä¸­å°±åŒ…æ‹¬æˆ‘ä»¬åœ¨è€ç‰ˆæœ¬ä¸­ç»å¸¸è§åˆ°çš„ **Comparator** å’Œ **Runnable**ï¼ŒJava 8 ä¸ºä»–ä»¬éƒ½æ·»åŠ äº† @FunctionalInterface æ³¨è§£ï¼Œä»¥ç”¨æ¥æ”¯æŒ Lambda è¡¨è¾¾å¼ã€‚

é™¤äº†è¿™ä¸¤ä¸ªä¹‹å¤–ï¼Œè¿˜æœ‰ Callableã€Predicateã€Functionã€Supplierã€Consumer ç­‰ç­‰ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šLamada è¡¨è¾¾å¼çš„ä½œç”¨ï¼Ÿ

### 52.Optional äº†è§£å—ï¼Ÿ

`Optional`æ˜¯ç”¨äºé˜²èŒƒ`NullPointerException`ã€‚

å¯ä»¥å°† `Optional` çœ‹åšæ˜¯åŒ…è£…å¯¹è±¡ï¼ˆå¯èƒ½æ˜¯ `null`, ä¹Ÿæœ‰å¯èƒ½é `null`ï¼‰çš„å®¹å™¨ã€‚å½“æˆ‘ä»¬å®šä¹‰äº† ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›çš„å¯¹è±¡å¯èƒ½æ˜¯ç©ºï¼Œä¹Ÿæœ‰å¯èƒ½éç©ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨ `Optional` æ¥åŒ…è£…å®ƒï¼Œè¿™ä¹Ÿæ˜¯åœ¨ Java 8 è¢«æ¨èä½¿ç”¨çš„åšæ³•ã€‚

```java
Optional<String> optional = Optional.of("bam");

optional.isPresent();           // true
optional.get();                 // "bam"
optional.orElse("fallback");    // "bam"

optional.ifPresent((s) -> System.out.println(s.charAt(0)));     // "b"
```

### 53.Stream æµç”¨è¿‡å—ï¼Ÿ

`Stream` æµï¼Œç®€å•æ¥è¯´ï¼Œä½¿ç”¨ `java.util.Stream` å¯¹ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„é›†åˆåšå„ç§æ“ä½œã€‚è¿™äº›æ“ä½œå¯èƒ½æ˜¯ _ä¸­é—´æ“ä½œ_ äº¦æˆ–æ˜¯ _ç»ˆç«¯æ“ä½œ_ã€‚ ç»ˆç«¯æ“ä½œä¼šè¿”å›ä¸€ä¸ªç»“æœï¼Œè€Œä¸­é—´æ“ä½œä¼šè¿”å›ä¸€ä¸ª `Stream` æµã€‚

Stream æµä¸€èˆ¬ç”¨äºé›†åˆï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªé›†åˆåšå‡ ä¸ªå¸¸è§æ“ä½œï¼š

```java
List<String> stringCollection = new ArrayList<>();
stringCollection.add("ddd2");
stringCollection.add("aaa2");
stringCollection.add("bbb1");
stringCollection.add("aaa1");
stringCollection.add("bbb3");
stringCollection.add("ccc");
stringCollection.add("bbb2");
stringCollection.add("ddd1");
```

- **Filter è¿‡æ»¤**

```java
stringCollection
    .stream()
    .filter((s) -> s.startsWith("a"))
    .forEach(System.out::println);

// "aaa2", "aaa1"

```

- **Sorted æ’åº**

```java
stringCollection
    .stream()
    .sorted()
    .filter((s) -> s.startsWith("a"))
    .forEach(System.out::println);

// "aaa1", "aaa2"
```

- **Map è½¬æ¢**

```java
stringCollection
    .stream()
    .map(String::toUpperCase)
    .sorted((a, b) -> b.compareTo(a))
    .forEach(System.out::println);

// "DDD2", "DDD1", "CCC", "BBB3", "BBB2", "AAA2", "AAA1"
```

- **Match åŒ¹é…**

```java
// éªŒè¯ list ä¸­ string æ˜¯å¦æœ‰ä»¥ a å¼€å¤´çš„, åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªï¼Œå³è¿”å› true
boolean anyStartsWithA =
    stringCollection
        .stream()
        .anyMatch((s) -> s.startsWith("a"));

System.out.println(anyStartsWithA);      // true

// éªŒè¯ list ä¸­ string æ˜¯å¦éƒ½æ˜¯ä»¥ a å¼€å¤´çš„
boolean allStartsWithA =
    stringCollection
        .stream()
        .allMatch((s) -> s.startsWith("a"));

System.out.println(allStartsWithA);      // false

// éªŒè¯ list ä¸­ string æ˜¯å¦éƒ½ä¸æ˜¯ä»¥ z å¼€å¤´çš„,
boolean noneStartsWithZ =
    stringCollection
        .stream()
        .noneMatch((s) -> s.startsWith("z"));

System.out.println(noneStartsWithZ);      // true
```

- **Count è®¡æ•°**

`count` æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå®ƒèƒ½å¤Ÿç»Ÿè®¡ `stream` æµä¸­çš„å…ƒç´ æ€»æ•°ï¼Œè¿”å›å€¼æ˜¯ `long` ç±»å‹ã€‚

```java
// å…ˆå¯¹ list ä¸­å­—ç¬¦ä¸²å¼€å¤´ä¸º b è¿›è¡Œè¿‡æ»¤ï¼Œè®©åç»Ÿè®¡æ•°é‡
long startsWithB =
    stringCollection
        .stream()
        .filter((s) -> s.startsWith("b"))
        .count();

System.out.println(startsWithB);    // 3
```

- **Reduce**

`Reduce` ä¸­æ–‡ç¿»è¯‘ä¸ºï¼š_å‡å°‘ã€ç¼©å°_ã€‚é€šè¿‡å…¥å‚çš„ `Function`ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°† `list` å½’çº¦æˆä¸€ä¸ªå€¼ã€‚å®ƒçš„è¿”å›ç±»å‹æ˜¯ `Optional` ç±»å‹ã€‚

```java
Optional<String> reduced =
    stringCollection
        .stream()
        .sorted()
        .reduce((s1, s2) -> s1 + "#" + s2);

reduced.ifPresent(System.out::println);
// "aaa1#aaa2#bbb1#bbb2#bbb3#ccc#ddd1#ddd2"
```

ä»¥ä¸Šæ˜¯å¸¸è§çš„å‡ ç§æµå¼æ“ä½œï¼Œè¿˜æœ‰å…¶å®ƒçš„ä¸€äº›æµå¼æ“ä½œï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´ä¾¿æ·åœ°å¤„ç†é›†åˆæ•°æ®ã€‚

![Java Streamæµ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-38.png)

---

å›¾æ–‡è¯¦è§£ 55 é“ Java åŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/t7EYyF0VGEg1rAZut9dwSw)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/M-6RSRcRd3X93cR7VXpanw)ã€‚

_æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ_ã€‚

**ç³»åˆ—å†…å®¹**ï¼š

- [é¢æ¸£é€†è¢­ Java SE ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javase.html)
- [é¢æ¸£é€†è¢­ Java é›†åˆæ¡†æ¶ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javathread.html)
- [é¢æ¸£é€†è¢­ Java å¹¶å‘ç¼–ç¨‹ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/collection.html)
- [é¢æ¸£é€†è¢­ JVM ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/jvm.html)
- [é¢æ¸£é€†è¢­ Spring ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/spring.html)
- [é¢æ¸£é€†è¢­ Redis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/redis.html)
- [é¢æ¸£é€†è¢­ MyBatis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mybatis.html)
- [é¢æ¸£é€†è¢­ MySQL ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mysql.html)
- [é¢æ¸£é€†è¢­æ“ä½œç³»ç»Ÿç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/os.html)
- [é¢æ¸£é€†è¢­è®¡ç®—æœºç½‘ç»œç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/network.html)
- [é¢æ¸£é€†è¢­ RocketMQ ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/rocketmq.html)
- [é¢æ¸£é€†è¢­åˆ†å¸ƒå¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/fenbushi.html)
- [é¢æ¸£é€†è¢­å¾®æœåŠ¡ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/weifuwu.html)
- [é¢æ¸£é€†è¢­è®¾è®¡æ¨¡å¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/shejimoshi.html)
- [é¢æ¸£é€†è¢­ Linux ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/linux.html)

---

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)
