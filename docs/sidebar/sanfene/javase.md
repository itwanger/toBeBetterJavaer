---
title: Javaé¢è¯•é¢˜ä¹‹JavaåŸºç¡€ç¯‡ï¼Œ53é“JavaåŸºç¡€å…«è‚¡æ–‡ï¼ˆ1.3ä¸‡å­—44å¼ æ‰‹ç»˜å›¾ï¼‰ï¼Œé¢æ¸£é€†è¢­å¿…çœ‹ğŸ‘
shortTitle: é¢æ¸£é€†è¢­-Java SE
author: ä¸‰åˆ†æ¶
category:
  - é¢æ¸£é€†è¢­
tag:
  - é¢æ¸£é€†è¢­
description: ä¸‹è½½æ¬¡æ•°è¶… 1 ä¸‡æ¬¡ï¼Œ1.3 ä¸‡å­— 44 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£53é“JavaåŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº›å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚
head:
  - - meta
    - name: keywords
      content: Java,Java SE,é¢è¯•é¢˜,JavaåŸºç¡€é¢è¯•é¢˜,Javaé¢è¯•é¢˜,å…«è‚¡æ–‡,java,é¢è¯•,javaé¢è¯•
---

1.3 ä¸‡å­— 44 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 53 é“ Java åŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº›å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/t7EYyF0VGEg1rAZut9dwSw)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/M-6RSRcRd3X93cR7VXpanw)ã€‚

## Java æ¦‚è¿°

### 1.ä»€ä¹ˆæ˜¯ Javaï¼Ÿ

![ä¸‹è¾ˆå­è¿˜å­¦Java](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-1.png)

PSï¼šç¢æ€‚ Javaï¼Œæœ‰å•¥å¥½ä»‹ç»çš„ã€‚å“¦ï¼Œé¢è¯•å•Šã€‚

Java æ˜¯ä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ä»…å¸æ”¶äº† C++è¯­è¨€çš„å„ç§ä¼˜ç‚¹ï¼Œè¿˜æ‘’å¼ƒäº† C++é‡Œéš¾ä»¥ç†è§£çš„å¤šç»§æ‰¿ã€æŒ‡é’ˆç­‰æ¦‚å¿µï¼Œå› æ­¤ Java è¯­è¨€å…·æœ‰åŠŸèƒ½å¼ºå¤§å’Œç®€å•æ˜“ç”¨ä¸¤ä¸ªç‰¹å¾ã€‚Java è¯­è¨€ä½œä¸ºé™æ€é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„ä¼˜ç§€ä»£è¡¨ï¼Œæå¥½åœ°å®ç°äº†é¢å‘å¯¹è±¡ç†è®ºï¼Œå…è®¸ç¨‹åºå‘˜ä»¥ä¼˜é›…çš„æ€ç»´æ–¹å¼è¿›è¡Œå¤æ‚çš„ç¼–ç¨‹ ã€‚

### 2.Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ

Java è¯­è¨€æœ‰å¾ˆå¤šä¼˜ç§€ï¼ˆå¯å¹ï¼‰çš„ç‰¹ç‚¹ï¼Œä»¥ä¸‹å‡ ä¸ªæ˜¯æ¯”è¾ƒçªå‡ºçš„ï¼š

![Javaè¯­è¨€ç‰¹ç‚¹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-2.png)

- é¢å‘å¯¹è±¡ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ï¼›
- å¹³å°æ— å…³æ€§ï¼Œå¹³å°æ— å…³æ€§çš„å…·ä½“è¡¨ç°åœ¨äºï¼ŒJava æ˜¯â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œï¼ˆWrite Onceï¼ŒRun any Whereï¼‰â€çš„è¯­è¨€ï¼Œå› æ­¤é‡‡ç”¨ Java è¯­è¨€ç¼–å†™çš„ç¨‹åºå…·æœ‰å¾ˆå¥½çš„å¯ç§»æ¤æ€§ï¼Œè€Œä¿è¯è¿™ä¸€ç‚¹çš„æ­£æ˜¯ Java çš„è™šæ‹Ÿæœºæœºåˆ¶ã€‚åœ¨å¼•å…¥è™šæ‹Ÿæœºä¹‹åï¼ŒJava è¯­è¨€åœ¨ä¸åŒçš„å¹³å°ä¸Šè¿è¡Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ã€‚
- æ”¯æŒå¤šçº¿ç¨‹ã€‚C++ è¯­è¨€æ²¡æœ‰å†…ç½®çš„å¤šçº¿ç¨‹æœºåˆ¶ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å¤šçº¿ç¨‹åŠŸèƒ½æ¥è¿›è¡Œå¤šçº¿ç¨‹ç¨‹åºè®¾è®¡ï¼Œè€Œ Java è¯­è¨€å´æä¾›äº†å¤šçº¿ç¨‹æ”¯æŒï¼›
- ç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜ï¼›

### 3.JVMã€JDK å’Œ JRE æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**JVM**ï¼šJava Virtual Machineï¼ŒJava è™šæ‹Ÿæœºï¼ŒJava ç¨‹åºè¿è¡Œåœ¨ Java è™šæ‹Ÿæœºä¸Šã€‚é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„å®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ä¸åŒçš„ JVMï¼Œå› æ­¤ Java è¯­è¨€å¯ä»¥å®ç°è·¨å¹³å°ã€‚

**JRE**ï¼š Java è¿â¾æ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿â¾å·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJava ç±»åº“ï¼ŒJava å‘½ä»¤å’Œå…¶ä»–çš„â¼€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½â½¤äºåˆ›å»ºæ–°ç¨‹åºã€‚

**JDK**: Java Development Kitï¼Œå®ƒæ˜¯åŠŸèƒ½â»¬å…¨çš„ Java SDKã€‚å®ƒæ‹¥æœ‰ JRE æ‰€æ‹¥æœ‰çš„â¼€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œâ¼¯å…·ï¼ˆå¦‚ javadoc å’Œ jdbï¼‰ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚

ç®€å•æ¥è¯´ï¼ŒJDK åŒ…å« JREï¼ŒJRE åŒ…å« JVMã€‚

![JDKã€JREã€JVMå…³ç³»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-3.png)

### 4.è¯´è¯´ä»€ä¹ˆæ˜¯è·¨å¹³å°æ€§ï¼ŸåŸç†æ˜¯ä»€ä¹ˆ

æ‰€è°“è·¨å¹³å°æ€§ï¼Œæ˜¯æŒ‡ Java è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œä¸€æ¬¡ç¼–è¯‘åï¼Œå¯ä»¥åœ¨å¤šä¸ªç³»ç»Ÿå¹³å°ä¸Šè¿è¡Œã€‚

å®ç°åŸç†ï¼šJava ç¨‹åºæ˜¯é€šè¿‡ Java è™šæ‹Ÿæœºåœ¨ç³»ç»Ÿå¹³å°ä¸Šè¿è¡Œçš„ï¼Œåªè¦è¯¥ç³»ç»Ÿå¯ä»¥å®‰è£…ç›¸åº”çš„ Java è™šæ‹Ÿæœºï¼Œè¯¥ç³»ç»Ÿå°±å¯ä»¥è¿è¡Œ java ç¨‹åºã€‚

### 5.ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Ÿé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„æ˜¯ä»€ä¹ˆ?

æ‰€è°“çš„å­—èŠ‚ç ï¼Œå°±æ˜¯ Java ç¨‹åºç»è¿‡ç¼–è¯‘ä¹‹ç±»äº§ç”Ÿçš„.class æ–‡ä»¶ï¼Œå­—èŠ‚ç èƒ½å¤Ÿè¢«è™šæ‹Ÿæœºè¯†åˆ«ï¼Œä»è€Œå®ç° Java ç¨‹åºçš„è·¨å¹³å°æ€§ã€‚

**Java** ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸»è¦æœ‰ä¸‰æ­¥ï¼š

- **ç¼–è¯‘**ï¼šå°†æˆ‘ä»¬çš„ä»£ç ï¼ˆ.javaï¼‰ç¼–è¯‘æˆè™šæ‹Ÿæœºå¯ä»¥è¯†åˆ«ç†è§£çš„å­—èŠ‚ç (.class)
- **è§£é‡Š**ï¼šè™šæ‹Ÿæœºæ‰§è¡Œ Java å­—èŠ‚ç ï¼Œå°†å­—èŠ‚ç ç¿»è¯‘æˆæœºå™¨èƒ½è¯†åˆ«çš„æœºå™¨ç 
- **æ‰§è¡Œ**ï¼šå¯¹åº”çš„æœºå™¨æ‰§è¡ŒäºŒè¿›åˆ¶æœºå™¨ç 

![Javaç¨‹åºæ‰§è¡Œè¿‡ç¨‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-4.png)

åªéœ€è¦æŠŠ Java ç¨‹åºç¼–è¯‘æˆ Java è™šæ‹Ÿæœºèƒ½è¯†åˆ«çš„ Java å­—èŠ‚ç ï¼Œä¸åŒçš„å¹³å°å®‰è£…å¯¹åº”çš„ Java è™šæ‹Ÿæœºï¼Œè¿™æ ·å°±å¯ä»¥å¯ä»¥å®ç° Java è¯­è¨€çš„å¹³å°æ— å…³æ€§ã€‚

### 6.ä¸ºä»€ä¹ˆè¯´ Java è¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ

é«˜çº§ç¼–ç¨‹è¯­è¨€æŒ‰ç…§ç¨‹åºçš„æ‰§è¡Œæ–¹å¼åˆ†ä¸º**ç¼–è¯‘å‹**å’Œ**è§£é‡Šå‹**ä¸¤ç§ã€‚

ç®€å•æ¥è¯´ï¼Œç¼–è¯‘å‹è¯­è¨€æ˜¯æŒ‡ç¼–è¯‘å™¨é’ˆå¯¹ç‰¹å®šçš„æ“ä½œç³»ç»Ÿå°†æºä»£ç ä¸€æ¬¡æ€§ç¿»è¯‘æˆå¯è¢«è¯¥å¹³å°æ‰§è¡Œçš„æœºå™¨ç ï¼›è§£é‡Šå‹è¯­è¨€æ˜¯æŒ‡è§£é‡Šå™¨å¯¹æºç¨‹åºé€è¡Œè§£é‡Šæˆç‰¹å®šå¹³å°çš„æœºå™¨ç å¹¶ç«‹å³æ‰§è¡Œã€‚

æ¯”å¦‚ï¼Œä½ æƒ³è¯»ä¸€æœ¬å¤–å›½çš„å°è¯´ï¼Œä½ å¯ä»¥æ‰¾ä¸€ä¸ªç¿»è¯‘äººå‘˜å¸®åŠ©ä½ ç¿»è¯‘ï¼Œæœ‰ä¸¤ç§é€‰æ‹©æ–¹å¼ï¼Œä½ å¯ä»¥å…ˆç­‰ç¿»è¯‘äººå‘˜å°†å…¨æœ¬çš„å°è¯´ï¼ˆä¹Ÿå°±æ˜¯æºç ï¼‰éƒ½ç¿»è¯‘æˆæ±‰è¯­ï¼Œå†å»é˜…è¯»ï¼Œä¹Ÿå¯ä»¥è®©ç¿»è¯‘äººå‘˜ç¿»è¯‘ä¸€æ®µï¼Œä½ åœ¨æ—è¾¹é˜…è¯»ä¸€æ®µï¼Œæ…¢æ…¢æŠŠä¹¦è¯»å®Œã€‚

Java è¯­è¨€æ—¢å…·æœ‰ç¼–è¯‘å‹è¯­è¨€çš„ç‰¹å¾ï¼Œä¹Ÿå…·æœ‰è§£é‡Šå‹è¯­è¨€çš„ç‰¹å¾ï¼Œå› ä¸º Java ç¨‹åºè¦ç»è¿‡å…ˆç¼–è¯‘ï¼Œåè§£é‡Šä¸¤ä¸ªæ­¥éª¤ï¼Œç”± Java ç¼–å†™çš„ç¨‹åºéœ€è¦å…ˆç»è¿‡ç¼–è¯‘æ­¥éª¤ï¼Œç”Ÿæˆå­—èŠ‚ç ï¼ˆ`\*.class` æ–‡ä»¶ï¼‰ï¼Œè¿™ç§å­—èŠ‚ç å¿…é¡»å†ç»è¿‡ JVMï¼Œè§£é‡Šæˆæ“ä½œç³»ç»Ÿèƒ½è¯†åˆ«çš„æœºå™¨ç ï¼Œåœ¨ç”±æ“ä½œç³»ç»Ÿæ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸º Java è¯­è¨€**ç¼–è¯‘**ä¸**è§£é‡Š**å¹¶å­˜ã€‚

![ç¼–è¯‘ä¸è§£é‡Š](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-5.png)

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## åŸºç¡€è¯­æ³•

### 7.Java æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ

> æ¨èé˜…è¯»ï¼š[Java çš„æ•°æ®ç±»å‹](https://javabetter.cn/basic-grammar/basic-data-type.html)

Java çš„æ•°æ®ç±»å‹åˆ†ä¸¤ç§ï¼š**åŸºæœ¬æ•°æ®ç±»å‹**å’Œ**å¼•ç”¨æ•°æ®ç±»å‹**ã€‚

![äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJavaæ•°æ®ç±»å‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/core-grammar/nine-01.png)

#### åŸºæœ¬æ•°æ®ç±»å‹ï¼š

- æ•°å€¼å‹
  - æ•´æ•°ç±»å‹ï¼ˆbyteã€shortã€intã€longï¼‰
  - æµ®ç‚¹ç±»å‹ï¼ˆfloatã€doubleï¼‰
- å­—ç¬¦å‹ï¼ˆcharï¼‰
- å¸ƒå°”å‹ï¼ˆbooleanï¼‰

Java åŸºæœ¬æ•°æ®ç±»å‹èŒƒå›´å’Œé»˜è®¤å€¼ï¼š

| æ•°æ®ç±»å‹ | é»˜è®¤å€¼   | å¤§å°   |
| -------- | -------- | ------ |
| boolean  | false    | 1 æ¯”ç‰¹ |
| char     | '\u0000' | 2 å­—èŠ‚ |
| byte     | 0        | 1 å­—èŠ‚ |
| short    | 0        | 2 å­—èŠ‚ |
| int      | 0        | 4 å­—èŠ‚ |
| long     | 0L       | 8 å­—èŠ‚ |
| float    | 0.0f     | 4 å­—èŠ‚ |
| double   | 0.0      | 8 å­—èŠ‚ |

#### å¼•ç”¨æ•°æ®ç±»å‹ï¼š

- [ç±»](https://javabetter.cn/oo/object-class.html)ï¼ˆclassï¼‰
- [æ¥å£](https://javabetter.cn/oo/interface.html)ï¼ˆinterfaceï¼‰
- [æ•°ç»„](https://javabetter.cn/array/array.html)ï¼ˆ`[]`ï¼‰

> 1.  [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šJava æœ‰å“ªäº›åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ

### 8.è‡ªåŠ¨ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Ÿçœ‹çœ‹è¿™å‡ è¡Œä»£ç ï¼Ÿ

Java æ‰€æœ‰çš„æ•°å€¼å‹å˜é‡å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå½“æŠŠä¸€ä¸ªè¡¨æ•°èŒƒå›´å°çš„æ•°å€¼æˆ–å˜é‡ç›´æ¥èµ‹ç»™å¦ä¸€ä¸ªè¡¨æ•°èŒƒå›´å¤§çš„å˜é‡æ—¶ï¼Œå¯ä»¥è¿›è¡Œè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼›åä¹‹ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ã€‚

![Javaè‡ªåŠ¨ç±»å‹è½¬æ¢æ–¹å‘](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-7.png)

è¿™å°±å¥½åƒï¼Œå°æ¯é‡Œçš„æ°´å€’è¿›å¤§æ¯æ²¡é—®é¢˜ï¼Œä½†å¤§æ¯çš„æ°´å€’è¿›å°æ¯å°±ä¸è¡Œäº†ï¼Œå¯èƒ½ä¼šæº¢å‡ºã€‚

> `float f=3.4`ï¼Œå¯¹å—ï¼Ÿ

ä¸æ­£ç¡®ã€‚3.4 æ˜¯åŒç²¾åº¦æ•°ï¼Œå°†åŒç²¾åº¦å‹ï¼ˆdoubleï¼‰èµ‹å€¼ç»™æµ®ç‚¹å‹ï¼ˆfloatï¼‰å±äºä¸‹è½¬å‹ï¼ˆdown-castingï¼Œä¹Ÿç§°ä¸ºçª„åŒ–ï¼‰ä¼šé€ æˆç²¾åº¦æŸå¤±ï¼Œå› æ­¤éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢`float f =(float)3.4;`æˆ–è€…å†™æˆ`float f =3.4F`

> `short s1 = 1; s1 = s1 + 1ï¼›`å¯¹å—ï¼Ÿ`short s1 = 1; s1 += 1;`å¯¹å—ï¼Ÿ

å¯¹äº short s1 = 1; s1 = s1 + 1;ç¼–è¯‘å‡ºé”™ï¼Œç”±äº 1 æ˜¯ int ç±»å‹ï¼Œå› æ­¤ s1+1 è¿ç®—ç»“æœä¹Ÿæ˜¯ int å‹ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ç±»å‹æ‰èƒ½èµ‹å€¼ç»™ short å‹ã€‚

è€Œ short s1 = 1; s1 += 1;å¯ä»¥æ­£ç¡®ç¼–è¯‘ï¼Œå› ä¸º s1+= 1;ç›¸å½“äº s1 = (short(s1 + 1);å…¶ä¸­æœ‰éšå«çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚

### 9.ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†ç®±/å°ç®±ï¼Ÿ

- **è£…ç®±**ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›
- **æ‹†ç®±**ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›

Java å¯ä»¥è‡ªåŠ¨å¯¹åŸºæœ¬æ•°æ®ç±»å‹å’Œå®ƒä»¬çš„åŒ…è£…ç±»è¿›è¡Œè£…ç®±å’Œæ‹†ç®±ã€‚

![è£…ç®±å’Œæ‹†ç®±](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-8.png)

ä¸¾ä¾‹ï¼š

```java
Integer i = 10;  //è£…ç®±
int n = i;   //æ‹†ç®±
```

### 10.&å’Œ&&æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

&è¿ç®—ç¬¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š`çŸ­è·¯ä¸`ã€`é€»è¾‘ä¸`ã€‚

&&è¿ç®—ç¬¦æ˜¯çŸ­è·¯ä¸è¿ç®—ã€‚é€»è¾‘ä¸è·ŸçŸ­è·¯ä¸çš„å·®åˆ«æ˜¯éå¸¸å·¨å¤§çš„ï¼Œè™½ç„¶äºŒè€…éƒ½è¦æ±‚è¿ç®—ç¬¦å·¦å³ä¸¤ç«¯çš„å¸ƒå°”å€¼éƒ½æ˜¯ true æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼æ‰æ˜¯ trueã€‚

&&ä¹‹æ‰€ä»¥ç§°ä¸ºçŸ­è·¯è¿ç®—æ˜¯å› ä¸ºï¼Œå¦‚æœ&&å·¦è¾¹çš„è¡¨è¾¾å¼çš„å€¼æ˜¯ falseï¼Œå³è¾¹çš„è¡¨è¾¾å¼ä¼šè¢«ç›´æ¥çŸ­è·¯æ‰ï¼Œä¸ä¼šè¿›è¡Œè¿ç®—ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯èƒ½éƒ½éœ€è¦ç”¨&&è€Œä¸æ˜¯&ã€‚

ä¾‹å¦‚åœ¨éªŒè¯ç”¨æˆ·ç™»å½•æ—¶åˆ¤å®šç”¨æˆ·åä¸æ˜¯ null è€Œä¸”ä¸æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œåº”å½“å†™ä¸º`username != null &&!username.equals("")`ï¼ŒäºŒè€…çš„é¡ºåºä¸èƒ½äº¤æ¢ï¼Œæ›´ä¸èƒ½ç”¨&è¿ç®—ç¬¦ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªæ¡ä»¶å¦‚æœä¸æˆç«‹ï¼Œæ ¹æœ¬ä¸èƒ½è¿›è¡Œå­—ç¬¦ä¸²çš„ equals æ¯”è¾ƒï¼Œå¦åˆ™ä¼šäº§ç”Ÿ NullPointerException å¼‚å¸¸ã€‚

**æ³¨æ„**ï¼šé€»è¾‘æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰å’ŒçŸ­è·¯æˆ–è¿ç®—ç¬¦ï¼ˆ||ï¼‰çš„å·®åˆ«ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

### 11.switch æ˜¯å¦èƒ½ä½œç”¨åœ¨ byte/long/String ä¸Šï¼Ÿ

Java5 ä»¥å‰ switch(expr)ä¸­ï¼Œexpr åªèƒ½æ˜¯ byteã€shortã€charã€intã€‚

ä» Java 5 å¼€å§‹ï¼ŒJava ä¸­å¼•å…¥äº†æšä¸¾ç±»å‹ï¼Œ expr ä¹Ÿå¯ä»¥æ˜¯ enum ç±»å‹ã€‚

ä» Java 7 å¼€å§‹ï¼Œexpr è¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²(String)ï¼Œä½†æ˜¯é•¿æ•´å‹(long)åœ¨ç›®å‰æ‰€æœ‰çš„ç‰ˆæœ¬ä¸­éƒ½æ˜¯ä¸å¯ä»¥çš„ã€‚

### 12.break ,continue ,return çš„åŒºåˆ«åŠä½œç”¨ï¼Ÿ

- break è·³å‡ºæ•´ä¸ªå¾ªç¯ï¼Œä¸å†æ‰§è¡Œå¾ªç¯(**ç»“æŸå½“å‰çš„å¾ªç¯ä½“**)
- continue è·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹æ¬¡å¾ªç¯(**ç»“æŸæ­£åœ¨æ‰§è¡Œçš„å¾ªç¯ è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯æ¡ä»¶**)
- return ç¨‹åºè¿”å›ï¼Œä¸å†æ‰§è¡Œä¸‹é¢çš„ä»£ç (**ç»“æŸå½“å‰çš„æ–¹æ³• ç›´æ¥è¿”å›**)

![break ã€continue ã€return](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-9.png)

### 13.ç”¨æœ€æœ‰æ•ˆç‡çš„æ–¹æ³•è®¡ç®— 2 ä¹˜ä»¥ 8ï¼Ÿ

2 << 3ã€‚**ä½è¿ç®—**ï¼Œæ•°å­—çš„äºŒè¿›åˆ¶ä½å·¦ç§»ä¸‰ä½ç›¸å½“äºä¹˜ä»¥ 2 çš„ä¸‰æ¬¡æ–¹ã€‚

### 14.è¯´è¯´è‡ªå¢è‡ªå‡è¿ç®—ï¼Ÿçœ‹ä¸‹è¿™å‡ ä¸ªä»£ç è¿è¡Œç»“æœï¼Ÿ

åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸è§çš„ä¸€ç§æƒ…å†µæ˜¯éœ€è¦æŸä¸ªæ•´æ•°ç±»å‹å˜é‡å¢åŠ  1 æˆ–å‡å°‘ 1ï¼ŒJava æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼Œç”¨äºè¿™ç§è¡¨è¾¾å¼ï¼Œå«åšè‡ªå¢è¿ç®—ç¬¦ï¼ˆ++)å’Œè‡ªå‡è¿ç®—ç¬¦ï¼ˆ--ï¼‰ã€‚

++å’Œ--è¿ç®—ç¬¦å¯ä»¥æ”¾åœ¨å˜é‡ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å˜é‡ä¹‹åã€‚

å½“è¿ç®—ç¬¦æ”¾åœ¨å˜é‡ä¹‹å‰æ—¶(å‰ç¼€)ï¼Œå…ˆè‡ªå¢/å‡ï¼Œå†èµ‹å€¼ï¼›å½“è¿ç®—ç¬¦æ”¾åœ¨å˜é‡ä¹‹åæ—¶(åç¼€)ï¼Œå…ˆèµ‹å€¼ï¼Œå†è‡ªå¢/å‡ã€‚

ä¾‹å¦‚ï¼Œå½“ `b = ++a` æ—¶ï¼Œå…ˆè‡ªå¢ï¼ˆè‡ªå·±å¢åŠ  1ï¼‰ï¼Œå†èµ‹å€¼ï¼ˆèµ‹å€¼ç»™ bï¼‰ï¼›å½“ `b = a++` æ—¶ï¼Œå…ˆèµ‹å€¼(èµ‹å€¼ç»™ b)ï¼Œå†è‡ªå¢ï¼ˆè‡ªå·±å¢åŠ  1ï¼‰ã€‚ä¹Ÿå°±æ˜¯ï¼Œ++a è¾“å‡ºçš„æ˜¯ a+1 çš„å€¼ï¼Œa++è¾“å‡ºçš„æ˜¯ a å€¼ã€‚

ç”¨ä¸€å¥å£è¯€å°±æ˜¯ï¼šâ€œç¬¦å·åœ¨å‰å°±å…ˆåŠ /å‡ï¼Œç¬¦å·åœ¨åå°±ååŠ /å‡â€ã€‚

> çœ‹ä¸€ä¸‹è¿™æ®µä»£ç è¿è¡Œç»“æœï¼Ÿ

```java
int i  = 1;
i = i++;
System.out.println(i);
```

ç­”æ¡ˆæ˜¯ 1ã€‚æœ‰ç‚¹ç¦»è°±å¯¹ä¸å¯¹ã€‚

å¯¹äº JVM è€Œè¨€ï¼Œå®ƒå¯¹è‡ªå¢è¿ç®—çš„å¤„ç†ï¼Œæ˜¯ä¼šå…ˆå®šä¹‰ä¸€ä¸ªä¸´æ—¶å˜é‡æ¥æ¥æ”¶ i çš„å€¼ï¼Œç„¶åè¿›è¡Œè‡ªå¢è¿ç®—ï¼Œæœ€ååˆå°†ä¸´æ—¶å˜é‡èµ‹ç»™äº†å€¼ä¸º 2 çš„ iï¼Œæ‰€ä»¥æœ€åçš„ç»“æœä¸º 1ã€‚

ç›¸å½“äºè¿™æ ·çš„ä»£ç ï¼š

```java
int i = 1ï¼›
int temp = i;
i++ï¼›
i = temp;
System.out.println(i);
```

> è¿™æ®µä»£ç ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ

```java
int count = 0;
for(int i = 0;i < 100;i++)
{
    count = count++;
}
System.out.println("count = "+count);
```

ç­”æ¡ˆæ˜¯ 0ã€‚

å’Œä¸Šé¢çš„é¢˜ç›®ä¸€æ ·çš„é“ç†ï¼ŒåŒæ ·æ˜¯ç”¨äº†ä¸´æ—¶å˜é‡ï¼Œcount å®é™…æ˜¯ç­‰äºä¸´æ—¶å˜é‡çš„å€¼ã€‚

```java
int autoAdd(int count)
{
    int temp = count;
    count = count + 1;
    return temp;
}
```

PSï¼šç¬”è¯•é¢è¯•å¯èƒ½ä¼šç¢°åˆ°çš„å¥‡è‘©é¢˜ï¼Œå¼€å‘è¿™ä¹ˆå†™ï¼Œè§ä¸€æ¬¡åŠä¸€æ¬¡ã€‚

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## é¢å‘å¯¹è±¡

### 15.â¾¯å‘å¯¹è±¡å’Œâ¾¯å‘è¿‡ç¨‹çš„åŒºåˆ«?

- **â¾¯å‘è¿‡ç¨‹** ï¼šé¢å‘è¿‡ç¨‹å°±æ˜¯åˆ†æå‡ºè§£å†³é—®é¢˜æ‰€éœ€è¦çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥å®ç°ï¼Œä½¿ç”¨çš„æ—¶å€™å†ä¸€ä¸ªä¸€ä¸ªçš„ä¸€æ¬¡è°ƒç”¨å°±å¯ä»¥ã€‚
- **â¾¯å‘å¯¹è±¡** ï¼šé¢å‘å¯¹è±¡ï¼ŒæŠŠæ„æˆé—®é¢˜çš„äº‹åŠ¡åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ä»¶åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹æ‰€å‘ç”Ÿçš„è¡Œä¸ºã€‚ ç›®çš„æ˜¯ä¸ºäº†å†™å‡ºé€šç”¨çš„ä»£ç ï¼ŒåŠ å¼ºä»£ç çš„é‡ç”¨ï¼Œå±è”½å·®å¼‚æ€§ã€‚

ç”¨ä¸€ä¸ªæ¯”å–»ï¼šé¢å‘è¿‡ç¨‹æ˜¯ç¼–å¹´ä½“ï¼›é¢å‘å¯¹è±¡æ˜¯çºªä¼ ä½“ã€‚

![é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-10.png)

### 16.é¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹æ€§

![é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-11.png)

- <b>å°è£…</b>

  å°è£…æŠŠâ¼€ä¸ªå¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ŒåŒæ—¶æä¾›â¼€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„å±æ€§çš„â½…æ³•ã€‚

- <b>ç»§æ‰¿</b>

  ç»§æ‰¿æ˜¯ä½¿â½¤å·²å­˜åœ¨çš„ç±»çš„å®šä¹‰ä½œä¸ºåŸºç¡€åˆ›å»ºæ–°çš„ç±»ï¼Œæ–°ç±»çš„å®šä¹‰å¯ä»¥å¢åŠ æ–°çš„å±æ€§æˆ–æ–°çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚é€šè¿‡ç»§æ‰¿å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œä»£ç å¤ç”¨ã€‚

> å…³äºç»§æ‰¿æœ‰ä»¥ä¸‹ä¸‰ä¸ªè¦ç‚¹ï¼š

1. â¼¦ç±»æ‹¥æœ‰â½—ç±»å¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œâ½…æ³•ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§å’Œç§æœ‰â½…æ³•ï¼‰ï¼Œä½†æ˜¯â½—ç±»ä¸­çš„ç§æœ‰å±æ€§å’Œâ½…æ³•â¼¦ç±»æ˜¯â½†æ³•è®¿é—®ï¼Œåªæ˜¯æ‹¥æœ‰ã€‚

2. â¼¦ç±»å¯ä»¥æ‹¥æœ‰â¾ƒâ¼°å±æ€§å’Œâ½…æ³•ï¼Œå³â¼¦ç±»å¯ä»¥å¯¹â½—ç±»è¿›â¾æ‰©å±•ã€‚

3. â¼¦ç±»å¯ä»¥â½¤â¾ƒâ¼°çš„â½…å¼å®ç°â½—ç±»çš„â½…æ³•ã€‚

- <b>å¤šæ€</b>

  æ‰€è°“å¤šæ€å°±æ˜¯æŒ‡ç¨‹åºä¸­å®šä¹‰çš„å¼•â½¤å˜é‡æ‰€æŒ‡å‘çš„å…·ä½“ç±»å‹å’Œé€šè¿‡è¯¥å¼•â½¤å˜é‡å‘å‡ºçš„â½…æ³•è°ƒâ½¤åœ¨ç¼–ç¨‹æ—¶å¹¶ä¸ç¡®å®šï¼Œâ½½æ˜¯åœ¨ç¨‹åºè¿â¾æœŸé—´æ‰ç¡®å®šï¼Œå³â¼€ä¸ªå¼•â½¤å˜é‡åˆ°åº•ä¼šæŒ‡å‘å“ªä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¯¥å¼•â½¤å˜é‡å‘å‡ºçš„â½…æ³•è°ƒâ½¤åˆ°åº•æ˜¯å“ªä¸ªç±»ä¸­å®ç°çš„â½…æ³•ï¼Œå¿…é¡»åœ¨ç”±ç¨‹åºè¿â¾æœŸé—´æ‰èƒ½å†³å®šã€‚

  åœ¨ Java ä¸­æœ‰ä¸¤ç§å½¢å¼å¯ä»¥å®ç°å¤šæ€ï¼šç»§æ‰¿ï¼ˆå¤šä¸ªâ¼¦ç±»å¯¹åŒâ¼€â½…æ³•çš„é‡å†™ï¼‰å’Œæ¥â¼ï¼ˆå®ç°æ¥â¼å¹¶è¦†ç›–æ¥â¼ä¸­åŒâ¼€â½…æ³•ï¼‰ã€‚

### 17.é‡è½½ï¼ˆoverloadï¼‰å’Œé‡å†™ï¼ˆoverrideï¼‰çš„åŒºåˆ«ï¼Ÿ

æ–¹æ³•çš„é‡è½½å’Œé‡å†™éƒ½æ˜¯å®ç°å¤šæ€çš„æ–¹å¼ï¼ŒåŒºåˆ«åœ¨äºå‰è€…å®ç°çš„æ˜¯ç¼–è¯‘æ—¶çš„å¤šæ€æ€§ï¼Œè€Œåè€…å®ç°çš„æ˜¯è¿è¡Œæ—¶çš„å¤šæ€æ€§ã€‚

- é‡è½½å‘ç”Ÿåœ¨ä¸€ä¸ªç±»ä¸­ï¼ŒåŒåçš„æ–¹æ³•å¦‚æœæœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒæˆ–è€…äºŒè€…éƒ½ä¸åŒï¼‰åˆ™è§†ä¸ºé‡è½½ï¼›

- é‡å†™å‘ç”Ÿåœ¨å­ç±»ä¸çˆ¶ç±»ä¹‹é—´ï¼Œé‡å†™è¦æ±‚å­ç±»è¢«é‡å†™æ–¹æ³•ä¸çˆ¶ç±»è¢«é‡å†™æ–¹æ³•æœ‰ç›¸åŒçš„è¿”å›ç±»å‹ï¼Œæ¯”çˆ¶ç±»è¢«é‡å†™æ–¹æ³•æ›´å¥½è®¿é—®ï¼Œä¸èƒ½æ¯”çˆ¶ç±»è¢«é‡å†™æ–¹æ³•å£°æ˜æ›´å¤šçš„å¼‚å¸¸ï¼ˆé‡Œæ°ä»£æ¢åŸåˆ™ï¼‰ã€‚

æ–¹æ³•é‡è½½çš„è§„åˆ™ï¼š

1. æ–¹æ³•åä¸€è‡´ï¼Œå‚æ•°åˆ—è¡¨ä¸­å‚æ•°çš„é¡ºåºï¼Œç±»å‹ï¼Œä¸ªæ•°ä¸åŒã€‚
2. é‡è½½ä¸æ–¹æ³•çš„è¿”å›å€¼æ— å…³ï¼Œå­˜åœ¨äºçˆ¶ç±»å’Œå­ç±»ï¼ŒåŒç±»ä¸­ã€‚
3. å¯ä»¥æŠ›å‡ºä¸åŒçš„å¼‚å¸¸ï¼Œå¯ä»¥æœ‰ä¸åŒä¿®é¥°ç¬¦ã€‚

### 18.è®¿é—®ä¿®é¥°ç¬¦ publicã€privateã€protectedã€ä»¥åŠä¸å†™ï¼ˆé»˜è®¤ï¼‰æ—¶çš„åŒºåˆ«ï¼Ÿ

Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®æ§åˆ¶ç¬¦æ¥ä¿æŠ¤å¯¹ç±»ã€å˜é‡ã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„è®¿é—®ã€‚Java æ”¯æŒ 4 ç§ä¸åŒçš„è®¿é—®æƒé™ã€‚

- **default** (å³é»˜è®¤ï¼Œä»€ä¹ˆä¹Ÿä¸å†™ï¼‰: åœ¨åŒä¸€åŒ…å†…å¯è§ï¼Œä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ã€‚å¯ä»¥ä¿®é¥°åœ¨ç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚
- **private** : åœ¨åŒä¸€ç±»å†…å¯è§ã€‚å¯ä»¥ä¿®é¥°å˜é‡ã€æ–¹æ³•ã€‚**æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰**
- **public** : å¯¹æ‰€æœ‰ç±»å¯è§ã€‚å¯ä»¥ä¿®é¥°ç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•
- **protected** : å¯¹åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§ã€‚å¯ä»¥ä¿®é¥°å˜é‡ã€æ–¹æ³•ã€‚**æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰**ã€‚

![è®¿é—®ä¿®é¥°ç¬¦å’Œå¯è§æ€§](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-12.png)

### 19.this å…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

this æ˜¯è‡ªèº«çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä»£è¡¨å¯¹è±¡æœ¬èº«ï¼Œå¯ä»¥ç†è§£ä¸ºï¼š**æŒ‡å‘å¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªæŒ‡é’ˆ**ã€‚

this çš„ç”¨æ³•åœ¨ Java ä¸­å¤§ä½“å¯ä»¥åˆ†ä¸º 3 ç§ï¼š

1. æ™®é€šçš„ç›´æ¥å¼•ç”¨ï¼Œthis ç›¸å½“äºæ˜¯æŒ‡å‘å½“å‰å¯¹è±¡æœ¬èº«

2. å½¢å‚ä¸æˆå‘˜å˜é‡åå­—é‡åï¼Œç”¨ this æ¥åŒºåˆ†ï¼š

```java
public Person(String name,int age){
    this.name=name;
    this.age=age;
}
```

3. å¼•ç”¨æœ¬ç±»çš„æ„é€ å‡½æ•°

### 20.æŠ½è±¡ç±»(abstract class)å’Œæ¥å£(interface)æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

1. æ¥â¼çš„â½…æ³•é»˜è®¤æ˜¯ public ï¼Œæ‰€æœ‰â½…æ³•åœ¨æ¥â¼ä¸­ä¸èƒ½æœ‰å®ç°(Java 8 å¼€å§‹æ¥â¼â½…æ³•å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ï¼Œâ½½æŠ½è±¡ç±»å¯ä»¥æœ‰â¾®æŠ½è±¡çš„â½…æ³•ã€‚

2. æ¥â¼ä¸­é™¤äº† static ã€ final å˜é‡ï¼Œä¸èƒ½æœ‰å…¶ä»–å˜é‡ï¼Œâ½½æŠ½è±¡ç±»ä¸­åˆ™ä¸â¼€å®šã€‚

3. â¼€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥â¼ï¼Œä½†åªèƒ½å®ç°â¼€ä¸ªæŠ½è±¡ç±»ã€‚æ¥â¼â¾ƒâ¼°æœ¬èº«å¯ä»¥é€šè¿‡ extends å…³é”®å­—æ‰©å±•å¤šä¸ªæ¥â¼ã€‚

4. æ¥â¼â½…æ³•é»˜è®¤ä¿®é¥°ç¬¦æ˜¯ public ï¼ŒæŠ½è±¡â½…æ³•å¯ä»¥æœ‰ public ã€ protected å’Œ default è¿™äº›ä¿®é¥°ç¬¦ï¼ˆæŠ½è±¡â½…æ³•å°±æ˜¯ä¸ºäº†è¢«é‡å†™æ‰€ä»¥ä¸èƒ½ä½¿â½¤ private å…³é”®å­—ä¿®é¥°ï¼ï¼‰ã€‚

5. ä»è®¾è®¡å±‚â¾¯æ¥è¯´ï¼ŒæŠ½è±¡æ˜¯å¯¹ç±»çš„æŠ½è±¡ï¼Œæ˜¯â¼€ç§æ¨¡æ¿è®¾è®¡ï¼Œâ½½æ¥â¼æ˜¯å¯¹â¾ä¸ºçš„æŠ½è±¡ï¼Œæ˜¯â¼€ç§â¾ä¸ºçš„è§„èŒƒã€‚

> 1. åœ¨ JDK8 ä¸­ï¼Œæ¥â¼ä¹Ÿå¯ä»¥å®šä¹‰é™æ€â½…æ³•ï¼Œå¯ä»¥ç›´æ¥â½¤æ¥â¼åè°ƒâ½¤ã€‚å®ç°ç±»å’Œå®ç°æ˜¯ä¸å¯ä»¥è°ƒâ½¤çš„ã€‚å¦‚æœåŒæ—¶å®ç°ä¸¤ä¸ªæ¥â¼ï¼Œæ¥â¼ä¸­å®šä¹‰äº†â¼€æ ·çš„é»˜è®¤â½…æ³•ï¼Œåˆ™å¿…é¡»é‡å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚
>
> 2. jdk9 çš„æ¥â¼è¢«å…è®¸å®šä¹‰ç§æœ‰â½…æ³• ã€‚

æ€»ç»“â¼€ä¸‹ jdk7~jdk9 Java ä¸­æ¥â¼çš„å˜åŒ–ï¼š

1. åœ¨ jdk 7 æˆ–æ›´æ—©ç‰ˆæœ¬ä¸­ï¼Œæ¥â¼â¾¥â¾¯åªèƒ½æœ‰å¸¸é‡å˜é‡å’ŒæŠ½è±¡â½…æ³•ã€‚è¿™äº›æ¥â¼â½…æ³•å¿…é¡»ç”±é€‰æ‹©å®ç°æ¥â¼çš„ç±»å®ç°ã€‚

2. jdk 8 çš„æ—¶å€™æ¥â¼å¯ä»¥æœ‰é»˜è®¤â½…æ³•å’Œé™æ€â½…æ³•åŠŸèƒ½ã€‚

3. jdk 9 åœ¨æ¥â¼ä¸­å¼•â¼Šäº†ç§æœ‰â½…æ³•å’Œç§æœ‰é™æ€â½…æ³•ã€‚

### 21.æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ

1. **ä»è¯­æ³•å½¢å¼ä¸Šçœ‹**ï¼šæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œâ½½å±€éƒ¨å˜é‡æ˜¯åœ¨â½…æ³•ä¸­å®šä¹‰çš„å˜é‡æˆ–æ˜¯â½…æ³•çš„å‚æ•°ï¼›æˆå‘˜å˜é‡å¯ä»¥è¢« public , private , static ç­‰ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œâ½½å±€éƒ¨å˜é‡ä¸èƒ½è¢«è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åŠ static æ‰€ä¿®é¥°ï¼›ä½†æ˜¯ï¼Œæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½èƒ½è¢« final æ‰€ä¿®é¥°ã€‚

2. **ä»å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨â½…å¼æ¥çœ‹**ï¼šå¦‚æœæˆå‘˜å˜é‡æ˜¯ä½¿â½¤ static ä¿®é¥°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œå¦‚æœæ²¡æœ‰ä½¿â½¤ static ä¿®é¥°ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºå®ä¾‹çš„ã€‚å¯¹è±¡å­˜äºå †å†…å­˜ï¼Œå¦‚æœå±€éƒ¨å˜é‡ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå­˜å‚¨åœ¨æ ˆå†…å­˜ï¼Œå¦‚æœä¸ºå¼•â½¤æ•°æ®ç±»å‹ï¼Œé‚£å­˜æ”¾çš„æ˜¯æŒ‡å‘å †å†…å­˜å¯¹è±¡çš„å¼•â½¤æˆ–è€…æ˜¯æŒ‡å‘å¸¸é‡æ± ä¸­çš„åœ°å€ã€‚

3. **ä»å˜é‡åœ¨å†…å­˜ä¸­çš„â½£å­˜æ—¶é—´ä¸Šçœ‹**ï¼šæˆå‘˜å˜é‡æ˜¯å¯¹è±¡çš„â¼€éƒ¨åˆ†ï¼Œå®ƒéšç€å¯¹è±¡çš„åˆ›å»ºâ½½å­˜åœ¨ï¼Œâ½½å±€éƒ¨å˜é‡éšç€â½…æ³•çš„è°ƒâ½¤â½½â¾ƒåŠ¨æ¶ˆå¤±ã€‚

4. **æˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰è¢«èµ‹åˆå€¼**ï¼šåˆ™ä¼šâ¾ƒåŠ¨ä»¥ç±»å‹çš„é»˜è®¤å€¼â½½èµ‹å€¼ï¼ˆâ¼€ç§æƒ…å†µä¾‹å¤–:è¢« final ä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¾å¼åœ°èµ‹å€¼ï¼‰ï¼Œâ½½å±€éƒ¨å˜é‡åˆ™ä¸ä¼šâ¾ƒåŠ¨èµ‹å€¼ã€‚

### 22.é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«ï¼Ÿé™æ€æ–¹æ³•ã€å®ä¾‹æ–¹æ³•å‘¢ï¼Ÿ

> é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«ï¼Ÿ

**é™æ€å˜é‡:** æ˜¯è¢« static ä¿®é¥°ç¬¦ä¿®é¥°çš„å˜é‡ï¼Œä¹Ÿç§°ä¸ºç±»å˜é‡ï¼Œå®ƒå±äºç±»ï¼Œä¸å±äºç±»çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªç±»ä¸ç®¡åˆ›å»ºå¤šå°‘ä¸ªå¯¹è±¡ï¼Œé™æ€å˜é‡åœ¨å†…å­˜ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚

**å®ä¾‹å˜é‡:** å¿…é¡»ä¾å­˜äºæŸä¸€å®ä¾‹ï¼Œéœ€è¦å…ˆåˆ›å»ºå¯¹è±¡ç„¶åé€šè¿‡å¯¹è±¡æ‰èƒ½è®¿é—®åˆ°å®ƒã€‚é™æ€å˜é‡å¯ä»¥å®ç°è®©å¤šä¸ªå¯¹è±¡å…±äº«å†…å­˜ã€‚

> é™æ€â½…æ³•å’Œå®ä¾‹â½…æ³•æœ‰ä½•ä¸åŒ?

ç±»ä¼¼åœ°ã€‚

**é™æ€æ–¹æ³•**ï¼šstatic ä¿®é¥°çš„æ–¹æ³•ï¼Œä¹Ÿè¢«ç§°ä¸ºç±»æ–¹æ³•ã€‚åœ¨å¤–éƒ¨è°ƒâ½¤é™æ€â½…æ³•æ—¶ï¼Œå¯ä»¥ä½¿â½¤"**ç±»å.â½…æ³•å**"çš„â½…å¼ï¼Œä¹Ÿå¯ä»¥ä½¿â½¤"**å¯¹è±¡å.â½…æ³•å**"çš„â½…å¼ã€‚é™æ€æ–¹æ³•é‡Œä¸èƒ½è®¿é—®ç±»çš„éé™æ€æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚

**å®ä¾‹â½…æ³•**ï¼šä¾å­˜äºç±»çš„å®ä¾‹ï¼Œéœ€è¦ä½¿ç”¨"**å¯¹è±¡å.â½…æ³•å**"çš„â½…å¼è°ƒç”¨ï¼›å¯ä»¥è®¿é—®ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚

### 24.final å…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

final è¡¨ç¤ºä¸å¯å˜çš„æ„æ€ï¼Œå¯ç”¨äºä¿®é¥°ç±»ã€å±æ€§å’Œæ–¹æ³•ï¼š

- è¢« final ä¿®é¥°çš„ç±»ä¸å¯ä»¥è¢«ç»§æ‰¿

- è¢« final ä¿®é¥°çš„æ–¹æ³•ä¸å¯ä»¥è¢«é‡å†™

- è¢« final ä¿®é¥°çš„å˜é‡ä¸å¯å˜ï¼Œè¢« final ä¿®é¥°çš„å˜é‡å¿…é¡»è¢«æ˜¾å¼ç¬¬æŒ‡å®šåˆå§‹å€¼ï¼Œè¿˜å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ä¸å¯å˜æŒ‡çš„æ˜¯å˜é‡çš„å¼•ç”¨ä¸å¯å˜ï¼Œä¸æ˜¯å¼•ç”¨æŒ‡å‘çš„å†…å®¹çš„ä¸å¯å˜ã€‚

  ä¾‹å¦‚ï¼š

```java
final StringBuilder sb = new StringBuilder("abc");
sb.append("d");
System.out.println(sb);  //abcd
```

ä¸€å¼ å›¾è¯´æ˜ï¼š

![finalä¿®é¥°å˜é‡](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-13.png)

### 25.finalã€finallyã€finalize çš„åŒºåˆ«ï¼Ÿ

- final ç”¨äºä¿®é¥°å˜é‡ã€æ–¹æ³•å’Œç±»ï¼šfinal ä¿®é¥°çš„ç±»ä¸å¯è¢«ç»§æ‰¿ï¼›ä¿®é¥°çš„æ–¹æ³•ä¸å¯è¢«é‡å†™ï¼›ä¿®é¥°çš„å˜é‡ä¸å¯å˜ã€‚

- finally ä½œä¸ºå¼‚å¸¸å¤„ç†çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒåªèƒ½åœ¨ `try/catch` è¯­å¥ä¸­ï¼Œå¹¶ä¸”é™„å¸¦ä¸€ä¸ªè¯­å¥å—è¡¨ç¤ºè¿™æ®µè¯­å¥æœ€ç»ˆä¸€å®šè¢«æ‰§è¡Œï¼ˆæ— è®ºæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œç»å¸¸è¢«ç”¨åœ¨éœ€è¦é‡Šæ”¾èµ„æºçš„æƒ…å†µä¸‹ï¼Œ`System.exit (0)` å¯ä»¥é˜»æ–­ finally æ‰§è¡Œã€‚

- finalize æ˜¯åœ¨ `java.lang.Object` é‡Œå®šä¹‰çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰è¿™ä¹ˆä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ `gc` å¯åŠ¨ï¼Œè¯¥å¯¹è±¡è¢«å›æ”¶çš„æ—¶å€™è¢«è°ƒç”¨ã€‚

  ä¸€ä¸ªå¯¹è±¡çš„ finalize æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œfinalize è¢«è°ƒç”¨ä¸ä¸€å®šä¼šç«‹å³å›æ”¶è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥æœ‰å¯èƒ½è°ƒç”¨ finalize åï¼Œè¯¥å¯¹è±¡åˆä¸éœ€è¦è¢«å›æ”¶äº†ï¼Œç„¶ååˆ°äº†çœŸæ­£è¦è¢«å›æ”¶çš„æ—¶å€™ï¼Œå› ä¸ºå‰é¢è°ƒç”¨è¿‡ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸ä¼šå†æ¬¡è°ƒç”¨ finalize äº†ï¼Œè¿›è€Œäº§ç”Ÿé—®é¢˜ï¼Œå› æ­¤ä¸æ¨èä½¿ç”¨ finalize æ–¹æ³•ã€‚

### 26.==å’Œ equals çš„åŒºåˆ«ï¼Ÿ

**==** : å®ƒçš„ä½œâ½¤æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒâ¼€ä¸ªå¯¹è±¡(åŸºæœ¬æ•°æ®ç±»å‹ **==** æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•â½¤æ•°æ®ç±»å‹ **==** æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)ã€‚

**equals()** : å®ƒçš„ä½œâ½¤ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†æ˜¯è¿™ä¸ªâ€œç›¸ç­‰â€ä¸€èˆ¬ä¹Ÿåˆ†ä¸¤ç§æƒ…å†µï¼š

- é»˜è®¤æƒ…å†µï¼šç±»æ²¡æœ‰è¦†ç›– equals() â½…æ³•ã€‚åˆ™é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ **==** â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œè¿˜æ˜¯ç›¸å½“äºæ¯”è¾ƒå†…å­˜åœ°å€ã€‚

- è‡ªå®šä¹‰æƒ…å†µï¼šç±»è¦†ç›–äº† equals() â½…æ³•ã€‚æˆ‘ä»¬å¹³æ—¶è¦†ç›–çš„ equals()æ–¹æ³•ä¸€èˆ¬æ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒï¼Œè‡ªå®šä¹‰äº†ä¸€ä¸ªç›¸ç­‰çš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚

ä¸¾ä¸ªä¾‹â¼¦ï¼ŒPersonï¼Œæˆ‘ä»¬è®¤ä¸ºä¸¤ä¸ªäººçš„ç¼–å·å’Œå§“åç›¸åŒï¼Œå°±æ˜¯ä¸€ä¸ªäººï¼š

```java
public class Person {
    private String no;
    private String name;

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Person)) return false;
        Person person = (Person) o;
        return Objects.equals(no, person.no) &&
                Objects.equals(name, person.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(no, name);
    }
}
```

### 27.hashCode ä¸ equals?

è¿™ä¸ªä¹Ÿæ˜¯é¢è¯•å¸¸é—®â€”â€”â€œä½ é‡å†™è¿‡ hashcode å’Œ equals ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™ equals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿâ€

> ä»€ä¹ˆæ˜¯ HashCodeï¼Ÿ

hashCode() çš„ä½œâ½¤æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›â¼€ä¸ª int æ•´æ•°ï¼Œå®šä¹‰åœ¨ Object ç±»ä¸­ï¼Œ æ˜¯ä¸€ä¸ªæœ¬åœ°â½…æ³•ï¼Œè¿™ä¸ªâ½…æ³•é€šå¸¸â½¤æ¥å°†å¯¹è±¡çš„å†…å­˜åœ°å€è½¬æ¢ä¸ºæ•´æ•°ä¹‹åè¿”å›ã€‚

```java
public native int hashCode();
```

å“ˆå¸Œç ä¸»è¦åœ¨å“ˆå¸Œè¡¨è¿™ç±»é›†åˆæ˜ å°„çš„æ—¶å€™ç”¨åˆ°ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ˜ å°„åˆ°å¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©â½¤åˆ°äº†å“ˆå¸Œç ï¼

> ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼Ÿ

ä¸Šé¢å·²ç»è®²äº†ï¼Œä¸»è¦æ˜¯åœ¨å“ˆå¸Œè¡¨è¿™ç§ç»“æ„ä¸­ç”¨çš„åˆ°ã€‚

ä¾‹å¦‚ HashMap æ€ä¹ˆæŠŠ key æ˜ å°„åˆ°å¯¹åº”çš„ value ä¸Šå‘¢ï¼Ÿç”¨çš„å°±æ˜¯å“ˆå¸Œå–ä½™æ³•ï¼Œä¹Ÿå°±æ˜¯æ‹¿å“ˆå¸Œç å’Œå­˜å‚¨å…ƒç´ çš„æ•°ç»„çš„é•¿åº¦å–ä½™ï¼Œè·å– key å¯¹åº”çš„ value æ‰€åœ¨çš„ä¸‹æ ‡ä½ç½®ã€‚

> ä¸ºä»€ä¹ˆé‡å†™ quals æ—¶å¿…é¡»é‡å†™ hashCode â½…æ³•ï¼Ÿ

å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode â¼€å®šä¹Ÿæ˜¯ç›¸åŒçš„ã€‚ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œå¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒâ½¤ equals â½…æ³•éƒ½è¿”å› trueã€‚åä¹‹ï¼Œä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸â¼€å®šæ˜¯ç›¸ç­‰çš„ ã€‚å› æ­¤ï¼Œ**equals** â½…æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ **hashCode** â½…æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–ã€‚

hashCode() çš„é»˜è®¤â¾ä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§â½£ç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode() ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡â½†è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰

> ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸â¼€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ

å› ä¸ºå¯èƒ½ä¼š**ç¢°æ’**ï¼Œ hashCode() æ‰€ä½¿â½¤çš„æ•£åˆ—ç®—æ³•ä¹Ÿè®¸åˆšå¥½ä¼šè®©å¤šä¸ªå¯¹è±¡ä¼ å›ç›¸åŒçš„æ•£åˆ—å€¼ã€‚è¶Šç³Ÿç³•çš„æ•£åˆ—ç®—æ³•è¶Šå®¹æ˜“ç¢°æ’ï¼Œä½†è¿™ä¹Ÿä¸æ•°æ®å€¼åŸŸåˆ†å¸ƒçš„ç‰¹æ€§æœ‰å…³ï¼ˆæ‰€è°“ç¢°æ’ä¹Ÿå°±æ˜¯æŒ‡çš„æ˜¯ä¸åŒçš„å¯¹è±¡å¾—åˆ°ç›¸åŒçš„ hashCode ï¼‰ã€‚

### 28.Java æ˜¯å€¼ä¼ é€’ï¼Œè¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ

Java è¯­è¨€æ˜¯**å€¼ä¼ é€’**ã€‚Java è¯­è¨€çš„æ–¹æ³•è°ƒç”¨åªæ”¯æŒå‚æ•°çš„å€¼ä¼ é€’ã€‚å½“ä¸€ä¸ªå¯¹è±¡å®ä¾‹ä½œä¸ºä¸€ä¸ªå‚æ•°è¢«ä¼ é€’åˆ°æ–¹æ³•ä¸­æ—¶ï¼Œå‚æ•°çš„å€¼å°±æ˜¯å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚å¯¹è±¡çš„å±æ€§å¯ä»¥åœ¨è¢«è°ƒç”¨è¿‡ç¨‹ä¸­è¢«æ”¹å˜ï¼Œä½†å¯¹å¯¹è±¡å¼•ç”¨çš„æ”¹å˜æ˜¯ä¸ä¼šå½±å“åˆ°è°ƒç”¨è€…çš„ã€‚

JVM çš„å†…å­˜åˆ†ä¸ºå †å’Œæ ˆï¼Œå…¶ä¸­æ ˆä¸­å­˜å‚¨äº†åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹å®ä¾‹çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡åœ°å€ã€‚

è€Œå¯¹è±¡æ‰€å çš„ç©ºé—´æ˜¯åœ¨å †ä¸­å¼€è¾Ÿçš„ï¼Œæ‰€ä»¥ä¼ é€’çš„æ—¶å€™å¯ä»¥ç†è§£ä¸ºæŠŠå˜é‡å­˜å‚¨çš„å¯¹è±¡åœ°å€ç»™ä¼ é€’è¿‡å»ï¼Œå› æ­¤å¼•ç”¨ç±»å‹ä¹Ÿæ˜¯å€¼ä¼ é€’ã€‚

![Javaå¼•ç”¨æ•°æ®å€¼ä¼ é€’ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-14.png)

### 29.æ·±æ‹·è´å’Œæµ…æ‹·è´?

- **æµ…æ‹·è´**ï¼šä»…æ‹·è´è¢«æ‹·è´å¯¹è±¡çš„æˆå‘˜å˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯åŸºæœ¬æ•°æ®ç±»å‹å˜é‡çš„å€¼ï¼Œå’Œå¼•ç”¨æ•°æ®ç±»å‹å˜é‡çš„åœ°å€å€¼ï¼Œè€Œå¯¹äºå¼•ç”¨ç±»å‹å˜é‡æŒ‡å‘çš„å †ä¸­çš„å¯¹è±¡ä¸ä¼šæ‹·è´ã€‚
- **æ·±æ‹·è´**ï¼šå®Œå…¨æ‹·è´ä¸€ä¸ªå¯¹è±¡ï¼Œæ‹·è´è¢«æ‹·è´å¯¹è±¡çš„æˆå‘˜å˜é‡çš„å€¼ï¼Œå †ä¸­çš„å¯¹è±¡ä¹Ÿä¼šæ‹·è´ä¸€ä»½ã€‚

ä¾‹å¦‚ç°åœ¨æœ‰ä¸€ä¸ª order å¯¹è±¡ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª products åˆ—è¡¨ï¼Œå®ƒçš„æµ…æ‹·è´å’Œæ·±æ‹·è´çš„ç¤ºæ„å›¾ï¼š

![æµ…æ‹·è´å’Œæ·±æ‹·è´ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-15.png)

å› æ­¤æ·±æ‹·è´æ˜¯å®‰å…¨çš„ï¼Œæµ…æ‹·è´çš„è¯å¦‚æœæœ‰å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆæ‹·è´åå¯¹è±¡ï¼Œå¼•ç”¨ç±»å‹å˜é‡ä¿®æ”¹ï¼Œä¼šå½±å“åŸå¯¹è±¡ã€‚

> æµ…æ‹·è´å¦‚ä½•å®ç°å‘¢ï¼Ÿ

Object ç±»æä¾›çš„ clone()æ–¹æ³•å¯ä»¥éå¸¸ç®€å•åœ°å®ç°å¯¹è±¡çš„æµ…æ‹·è´ã€‚

> æ·±æ‹·è´å¦‚ä½•å®ç°å‘¢ï¼Ÿ

- é‡å†™å…‹éš†æ–¹æ³•ï¼šé‡å†™å…‹éš†æ–¹æ³•ï¼Œå¼•ç”¨ç±»å‹å˜é‡å•ç‹¬å…‹éš†ï¼Œè¿™é‡Œå¯èƒ½ä¼šæ¶‰åŠå¤šå±‚é€’å½’ã€‚
- åºåˆ—åŒ–ï¼šå¯ä»¥å…ˆå°†åŸå¯¹è±¡åºåˆ—åŒ–ï¼Œå†ååºåˆ—åŒ–æˆæ‹·è´å¯¹è±¡ã€‚

### 30.Java åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿ

Java ä¸­æœ‰ä»¥ä¸‹å››ç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼:

![Javaåˆ›å»ºå¯¹è±¡çš„å››ç§æ–¹å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-16.png)

- new åˆ›å»ºæ–°å¯¹è±¡
- é€šè¿‡åå°„æœºåˆ¶
- é‡‡ç”¨ clone æœºåˆ¶
- é€šè¿‡åºåˆ—åŒ–æœºåˆ¶

å‰ä¸¤è€…éƒ½éœ€è¦æ˜¾å¼åœ°è°ƒç”¨æ„é€ æ–¹æ³•ã€‚å¯¹äº clone æœºåˆ¶,éœ€è¦æ³¨æ„æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«ï¼Œå¯¹äºåºåˆ—åŒ–æœºåˆ¶éœ€è¦æ˜ç¡®å…¶å®ç°åŸç†ï¼Œåœ¨ Java ä¸­åºåˆ—åŒ–å¯ä»¥é€šè¿‡å®ç° Externalizable æˆ–è€… Serializable æ¥å®ç°ã€‚

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## String

### 31.String æ˜¯ Java åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿå¯ä»¥è¢«ç»§æ‰¿å—ï¼Ÿ

> String æ˜¯ Java åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿ

ä¸æ˜¯ã€‚Java ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹åªæœ‰ 8 ä¸ªï¼šbyteã€shortã€intã€longã€floatã€doubleã€charã€booleanï¼›é™¤äº†åŸºæœ¬ç±»å‹ï¼ˆprimitive typeï¼‰ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼ˆreference typeï¼‰ã€‚

String æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚

> String ç±»å¯ä»¥ç»§æ‰¿å—ï¼Ÿ

ä¸è¡Œã€‚String ç±»ä½¿ç”¨ final ä¿®é¥°ï¼Œæ˜¯æ‰€è°“çš„ä¸å¯å˜ç±»ï¼Œæ— æ³•è¢«ç»§æ‰¿ã€‚

### 32.String å’Œ StringBuilderã€StringBuffer çš„åŒºåˆ«ï¼Ÿ

æ¨èé˜…è¯»ï¼š[StringBuffer å’Œ StringBuilder ä¸¤å…„å¼Ÿ](https://javabetter.cn/string/builder-buffer.html)

`String`ã€`StringBuilder`å’Œ`StringBuffer`åœ¨ Java ä¸­éƒ½ç”¨äºå¤„ç†å­—ç¬¦ä¸²ï¼Œå®ƒä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š

#### String

- `String`ç±»çš„å¯¹è±¡æ˜¯[ä¸å¯å˜çš„](https://javabetter.cn/string/immutable.html)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸€ä¸ª`String`å¯¹è±¡è¢«åˆ›å»ºï¼Œå®ƒæ‰€åŒ…å«çš„å­—ç¬¦ä¸²å†…å®¹æ˜¯ä¸å¯æ”¹å˜çš„ã€‚
- æ¯æ¬¡å¯¹`String`å¯¹è±¡è¿›è¡Œä¿®æ”¹æ“ä½œï¼ˆå¦‚æ‹¼æ¥ã€æ›¿æ¢ç­‰ï¼‰å®é™…ä¸Šéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„`String`å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸæœ‰å¯¹è±¡ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜å’Œæ€§èƒ½å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨å¤§é‡å­—ç¬¦ä¸²æ“ä½œçš„æƒ…å†µä¸‹ã€‚

#### StringBuilder

- `StringBuilder`æä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•æ¥è¿›è¡Œå­—ç¬¦ä¸²çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œè¿™äº›æ“ä½œéƒ½æ˜¯ç›´æ¥åœ¨åŸæœ‰å­—ç¬¦ä¸²å¯¹è±¡çš„åº•å±‚æ•°ç»„ä¸Šè¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„ String å¯¹è±¡ã€‚
- `StringBuilder`ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™æ„å‘³ç€åœ¨æ²¡æœ‰å¤–éƒ¨åŒæ­¥çš„æƒ…å†µä¸‹ï¼Œå®ƒä¸é€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒã€‚
- ç›¸æ¯”äº`String`ï¼Œåœ¨è¿›è¡Œé¢‘ç¹çš„å­—ç¬¦ä¸²ä¿®æ”¹æ“ä½œæ—¶ï¼Œ`StringBuilder`èƒ½æä¾›æ›´å¥½çš„æ€§èƒ½ã€‚ Java ä¸­çš„å­—ç¬¦ä¸²è¿`+`æ“ä½œå…¶å®å°±æ˜¯é€šè¿‡`StringBuilder`å®ç°çš„ã€‚

#### StringBuffer

`StringBuffer`å’Œ`StringBuilder`ç±»ä¼¼ï¼Œä½†`StringBuffer`æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ–¹æ³•å‰é¢éƒ½åŠ äº†`synchronized`å…³é”®å­—ã€‚

#### ä½¿ç”¨åœºæ™¯æ€»ç»“

- **String**ï¼šé€‚ç”¨äºå­—ç¬¦ä¸²å†…å®¹ä¸ç»å¸¸æ”¹å˜çš„åœºæ™¯ã€‚åœ¨ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æˆ–è¿›è¡Œå°‘é‡çš„å­—ç¬¦ä¸²æ“ä½œæ—¶ä½¿ç”¨ã€‚
- **StringBuilder**ï¼šé€‚ç”¨äºå•çº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„åœºæ™¯ï¼Œæ¯”å¦‚åœ¨å¾ªç¯ä¸­æ‹¼æ¥æˆ–ä¿®æ”¹å­—ç¬¦ä¸²ã€‚
- **StringBuffer**ï¼šé€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹çš„åœºæ™¯ï¼Œä¿è¯äº†å­—ç¬¦ä¸²æ“ä½œçš„çº¿ç¨‹å®‰å…¨ã€‚

> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šString StringBuffer StringBuilder æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

### 33.String str1 = new String("abc")å’Œ String str2 = "abc" å’Œ åŒºåˆ«ï¼Ÿ

ä¸¤ä¸ªè¯­å¥éƒ½ä¼šå»å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ â€œabcâ€ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šåœ¨å¸¸é‡æ± ä¸­åˆ›å»º â€œabcâ€ å¯¹è±¡ã€‚

![å †ä¸å¸¸é‡æ± ä¸­çš„String](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-17.png)

ä½†æ˜¯ä¸åŒçš„æ˜¯ï¼ŒString str1 = new String("abc") è¿˜ä¼šé€šè¿‡ new String() åœ¨å †é‡Œåˆ›å»ºä¸€ä¸ª "abc" å­—ç¬¦ä¸²å¯¹è±¡å®ä¾‹ã€‚æ‰€ä»¥åè€…å¯ä»¥ç†è§£ä¸ºè¢«å‰è€…åŒ…å«ã€‚

> String s = new String("abc")åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ

å¾ˆæ˜æ˜¾ï¼Œä¸€ä¸ªæˆ–ä¸¤ä¸ªã€‚å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± å·²ç»æœ‰â€œabcâ€ï¼Œåˆ™æ˜¯ä¸€ä¸ªï¼›å¦åˆ™ï¼Œä¸¤ä¸ªã€‚

å½“å­—ç¬¦åˆ›å¸¸é‡æ± æ²¡æœ‰ â€œabcâ€ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºå¦‚ä¸‹ä¸¤ä¸ªå¯¹è±¡ï¼š

- ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²å­—é¢é‡ "abc" æ‰€å¯¹åº”çš„ã€å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å®ä¾‹
- å¦ä¸€ä¸ªæ˜¯é€šè¿‡ new String() åˆ›å»ºå¹¶åˆå§‹åŒ–çš„ï¼Œå†…å®¹ä¸"abc"ç›¸åŒçš„å®ä¾‹ï¼Œåœ¨å †ä¸­ã€‚

### 34.String ä¸æ˜¯ä¸å¯å˜ç±»å—ï¼Ÿå­—ç¬¦ä¸²æ‹¼æ¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

String çš„ç¡®æ˜¯ä¸å¯å˜çš„ï¼Œâ€œ**+**â€çš„æ‹¼æ¥æ“ä½œï¼Œå…¶å®æ˜¯ä¼šç”Ÿæˆæ–°çš„å¯¹è±¡ã€‚

ä¾‹å¦‚ï¼š

```java
String a = "hello ";
String b = "world!";
String ab = a + b;
```

åœ¨**jdk1.8 ä¹‹å‰**ï¼Œa å’Œ b åˆå§‹åŒ–æ—¶ä½äºå­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œab æ‹¼æ¥åçš„å¯¹è±¡ä½äºå †ä¸­ã€‚ç»è¿‡æ‹¼æ¥æ–°ç”Ÿæˆäº† String å¯¹è±¡ã€‚å¦‚æœæ‹¼æ¥å¤šæ¬¡ï¼Œé‚£ä¹ˆä¼šç”Ÿæˆå¤šä¸ªä¸­é—´å¯¹è±¡ã€‚

å†…å­˜å¦‚ä¸‹ï¼š

![jdk1.8ä¹‹å‰çš„å­—ç¬¦ä¸²æ‹¼æ¥](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-18.png)

åœ¨**Java8 æ—¶**JDK å¯¹â€œ+â€å·æ‹¼æ¥è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¸Šé¢æ‰€å†™çš„æ‹¼æ¥æ–¹å¼ä¼šè¢«ä¼˜åŒ–ä¸ºåŸºäº StringBuilder çš„ append æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚Java ä¼šåœ¨ç¼–è¯‘æœŸå¯¹â€œ+â€å·è¿›è¡Œå¤„ç†ã€‚

ä¸‹é¢æ˜¯é€šè¿‡ javap -verbose å‘½ä»¤åç¼–è¯‘å­—èŠ‚ç çš„ç»“æœï¼Œå¾ˆæ˜¾ç„¶å¯ä»¥çœ‹åˆ° StringBuilder çš„åˆ›å»ºå’Œ append æ–¹æ³•çš„è°ƒç”¨ã€‚

```java
stack=2, locals=4, args_size=1
     0: ldc           #2                  // String hello
     2: astore_1
     3: ldc           #3                  // String world!
     5: astore_2
     6: new           #4                  // class java/lang/StringBuilder
     9: dup
    10: invokespecial #5                  // Method java/lang/StringBuilder."<init>":()V
    13: aload_1
    14: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    17: aload_2
    18: invokevirtual #6                  // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
    21: invokevirtual #7                  // Method java/lang/StringBuilder.toString:()Ljava/lang/String;
    24: astore_3
    25: return

```

ä¹Ÿå°±æ˜¯è¯´å…¶å®ä¸Šé¢çš„ä»£ç å…¶å®ç›¸å½“äºï¼š

```java
String a = "hello ";
String b = "world!";
StringBuilder sb = new StringBuilder();
sb.append(a);
sb.append(b);
String ab = sb.toString();
```

æ­¤æ—¶ï¼Œå¦‚æœå†ç¬¼ç»Ÿçš„å›ç­”ï¼šé€šè¿‡åŠ å·æ‹¼æ¥å­—ç¬¦ä¸²ä¼šåˆ›å»ºå¤šä¸ª String å¯¹è±¡ï¼Œå› æ­¤æ€§èƒ½æ¯” StringBuilder å·®ï¼Œå°±æ˜¯é”™è¯¯çš„äº†ã€‚å› ä¸ºæœ¬è´¨ä¸ŠåŠ å·æ‹¼æ¥çš„æ•ˆæœæœ€ç»ˆç»è¿‡ç¼–è¯‘å™¨å¤„ç†ä¹‹åå’Œ StringBuilder æ˜¯ä¸€è‡´çš„ã€‚

å½“ç„¶ï¼Œå¾ªç¯é‡Œæ‹¼æ¥è¿˜æ˜¯å»ºè®®ç”¨ StringBuilderï¼Œä¸ºä»€ä¹ˆï¼Œå› ä¸ºå¾ªç¯ä¸€æ¬¡å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ StringBuilder å¯¹è±¡ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå®éªŒã€‚

### 35.intern æ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

JDK æºç é‡Œå·²ç»å¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œäº†è¯´æ˜ï¼š

```java
     * <p>
     * When the intern method is invoked, if the pool already contains a
     * string equal to this {@code String} object as determined by
     * the {@link #equals(Object)} method, then the string from the pool is
     * returned. Otherwise, this {@code String} object is added to the
     * pool and a reference to this {@code String} object is returned.
     * <p>
```

æ„æ€ä¹Ÿå¾ˆå¥½æ‡‚ï¼š

- å¦‚æœå½“å‰å­—ç¬¦ä¸²å†…å®¹å­˜åœ¨äºå­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆå³ equals()æ–¹æ³•ä¸º trueï¼Œä¹Ÿå°±æ˜¯å†…å®¹ä¸€æ ·ï¼‰ï¼Œç›´æ¥è¿”å›å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å­—ç¬¦ä¸²
- å¦åˆ™ï¼Œå°†æ­¤ String å¯¹è±¡æ·»åŠ åˆ°æ± ä¸­ï¼Œå¹¶è¿”å› String å¯¹è±¡çš„å¼•ç”¨

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## Integer

### 36.Integer a= 127ï¼ŒInteger b = 127ï¼›Integer c= 128ï¼ŒInteger d = 128ï¼›ï¼Œç›¸ç­‰å—?

ç­”æ¡ˆæ˜¯ a å’Œ b ç›¸ç­‰ï¼Œc å’Œ d ä¸ç›¸ç­‰ã€‚

- å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹==æ¯”è¾ƒçš„å€¼
- å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯åœ°å€

Integer a= 127 è¿™ç§èµ‹å€¼ï¼Œæ˜¯ç”¨åˆ°äº† Integer è‡ªåŠ¨è£…ç®±çš„æœºåˆ¶ã€‚è‡ªåŠ¨è£…ç®±çš„æ—¶å€™ä¼šå»ç¼“å­˜æ± é‡Œå– Integer å¯¹è±¡ï¼Œæ²¡æœ‰å–åˆ°æ‰ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

å¦‚æœæ•´å‹å­—é¢é‡çš„å€¼åœ¨-128 åˆ° 127 ä¹‹é—´ï¼Œé‚£ä¹ˆè‡ªåŠ¨è£…ç®±æ—¶ä¸ä¼š new æ–°çš„ Integer å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥å¼•ç”¨ç¼“å­˜æ± ä¸­çš„ Integer å¯¹è±¡ï¼Œè¶…è¿‡èŒƒå›´ a1==b1 çš„ç»“æœæ˜¯ false

```java
    public static void main(String[] args) {
        Integer a = 127;
        Integer b = 127;
        Integer b1 = new Integer(127);
        System.out.println(a == b); //true
        System.out.println(b==b1);  //false

        Integer c = 128;
        Integer d = 128;
        System.out.println(c == d);  //false
    }
```

> ä»€ä¹ˆæ˜¯ Integer ç¼“å­˜ï¼Ÿ

å› ä¸ºæ ¹æ®å®è·µå‘ç°å¤§éƒ¨åˆ†çš„æ•°æ®æ“ä½œéƒ½é›†ä¸­åœ¨å€¼æ¯”è¾ƒå°çš„èŒƒå›´ï¼Œå› æ­¤ Integer æäº†ä¸ªç¼“å­˜æ± ï¼Œé»˜è®¤èŒƒå›´æ˜¯ -128 åˆ° 127ï¼Œå¯ä»¥æ ¹æ®é€šè¿‡è®¾ç½®`JVM-XX:AutoBoxCacheMax=`æ¥ä¿®æ”¹ç¼“å­˜çš„æœ€å¤§å€¼ï¼Œæœ€å°å€¼æ”¹ä¸äº†ã€‚

å®ç°çš„åŸç†æ˜¯ int åœ¨è‡ªåŠ¨è£…ç®±çš„æ—¶å€™ä¼šè°ƒç”¨ Integer.valueOfï¼Œè¿›è€Œç”¨åˆ°äº† IntegerCacheã€‚

![Integer.valueOf](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-19.png)

å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ¤æ–­ä¸‹å€¼æ˜¯å¦åœ¨ç¼“å­˜èŒƒå›´ä¹‹å†…ï¼Œå¦‚æœæ˜¯çš„è¯å» IntegerCache ä¸­å–ï¼Œä¸æ˜¯çš„è¯å°±åˆ›å»ºä¸€ä¸ªæ–°çš„ Integer å¯¹è±¡ã€‚

IntegerCache æ˜¯ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œ åœ¨é™æ€å—ä¸­ä¼šåˆå§‹åŒ–å¥½ç¼“å­˜å€¼ã€‚

```java
 private static class IntegerCache {
     â€¦â€¦
     static {
            //åˆ›å»ºIntegerå¯¹è±¡å­˜å‚¨
            for(int k = 0; k < cache.length; k++)
                cache[k] = new Integer(j++);
         â€¦â€¦
     }
 }
```

### 37.String æ€ä¹ˆè½¬æˆ Integer çš„ï¼ŸåŸç†ï¼Ÿ

PS:è¿™é“é¢˜å°è±¡ä¸­åœ¨ä¸€äº›é¢ç»ä¸­å‡ºåœºè¿‡å‡ æ¬¡ã€‚

String è½¬æˆ Integerï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š

- Integer.parseInt(String s)
- Integer.valueOf(String s)

ä¸ç®¡å“ªä¸€ç§ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¼šè°ƒç”¨ Integer ç±»å†…ä¸­çš„`parseInt(String s, int radix)`æ–¹æ³•ã€‚

æŠ›å»ä¸€äº›è¾¹ç•Œä¹‹ç±»çš„çœ‹çœ‹æ ¸å¿ƒä»£ç ï¼š

```java
public static int parseInt(String s, int radix)
                throws NumberFormatException
    {

        int result = 0;
        //æ˜¯å¦æ˜¯è´Ÿæ•°
        boolean negative = false;
        //charå­—ç¬¦æ•°ç»„ä¸‹æ ‡å’Œé•¿åº¦
        int i = 0, len = s.length();
        â€¦â€¦
        int digit;
        //åˆ¤æ–­å­—ç¬¦é•¿åº¦æ˜¯å¦å¤§äº0ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸
        if (len > 0) {
            â€¦â€¦
            while (i < len) {
                // Accumulating negatively avoids surprises near MAX_VALUE
                //è¿”å›æŒ‡å®šåŸºæ•°ä¸­å­—ç¬¦è¡¨ç¤ºçš„æ•°å€¼ã€‚ï¼ˆæ­¤å¤„æ˜¯åè¿›åˆ¶æ•°å€¼ï¼‰
                digit = Character.digit(s.charAt(i++),radix);
                //è¿›åˆ¶ä½ä¹˜ä»¥æ•°å€¼
                result *= radix;
                result -= digit;
            }
        }
        //æ ¹æ®ä¸Šé¢å¾—åˆ°çš„æ˜¯å¦è´Ÿæ•°ï¼Œè¿”å›ç›¸åº”çš„å€¼
        return negative ? result : -result;
    }

```

å»æ‰ææè”“è”“ï¼ˆå½“ç„¶è¿™äº›ææè”“è”“å¯ä»¥å»çœ‹çœ‹ï¼Œæºç  cover äº†å¾ˆå¤šæƒ…å†µï¼‰ï¼Œå…¶å®å‰©ä¸‹çš„å°±æ˜¯ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²éå†è®¡ç®—ï¼Œä¸è¿‡è®¡ç®—æ–¹å¼æœ‰ç‚¹åå¸¸è§„ï¼Œæ˜¯ç”¨è´Ÿçš„å€¼ç´¯å‡ã€‚

![parseIntç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-20.png)

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)

## Object

### 38.Object ç±»çš„å¸¸è§æ–¹æ³•ï¼Ÿ

åœ¨ Java ä¸­ï¼Œç»å¸¸æåˆ°ä¸€ä¸ªè¯â€œä¸‡ç‰©çš†å¯¹è±¡â€ï¼Œå…¶ä¸­çš„â€œä¸‡ç‰©â€æŒ‡çš„æ˜¯ Java ä¸­çš„æ‰€æœ‰ç±»ï¼Œè€Œè¿™äº›ç±»éƒ½æ˜¯ Object ç±»çš„å­ç±»ã€‚

Object ä¸»è¦æä¾›äº† 11 ä¸ªæ–¹æ³•ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºå…­ç±»ï¼š

![ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šObjectç±»çš„æ–¹æ³•](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-21.png)

#### å¯¹è±¡æ¯”è¾ƒï¼š

â‘ ã€`public native int hashCode()` ï¼š[native æ–¹æ³•](https://javabetter.cn/oo/native-method.html)ï¼Œç”¨äºè¿”å›å¯¹è±¡çš„å“ˆå¸Œç ã€‚

```java
public native int hashCode();
```

æŒ‰ç…§çº¦å®šï¼Œç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚å¦‚æœé‡å†™äº† equals æ–¹æ³•ï¼Œå°±åº”è¯¥é‡å†™ hashCode æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ [Objects.hash()](https://javabetter.cn/common-tool/Objects.html#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E7%9A%84hashcode) æ–¹æ³•æ¥ç”Ÿæˆå“ˆå¸Œç ã€‚

```java
public int hashCode() {
    return Objects.hash(name, age);
}
```

â‘¡ã€`public boolean equals(Object obj)`ï¼šç”¨äºæ¯”è¾ƒ 2 ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚

```java
public boolean equals(Object obj) {
    return (this == obj);
}
```

å¦‚æœæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå°±è¦é‡å†™è¯¥æ–¹æ³•ï¼Œæ¯”å¦‚ [String ç±»](https://javabetter.cn/string/string-source.html)ã€Integer ç±»ç­‰éƒ½é‡å†™äº†è¯¥æ–¹æ³•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚æœ‰ä¸€ä¸ª Person ç±»ï¼Œæˆ‘ä»¬è®¤ä¸ºåªè¦å¹´é¾„å’Œåå­—ç›¸åŒï¼Œå°±æ˜¯åŒä¸€ä¸ªäººï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿™æ ·é‡å†™ equals æ–¹æ³•ï¼š

```java
class Person1 {
    private String name;
    private int age;

    // çœç•¥ gettter å’Œ setter æ–¹æ³•

    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }
        if (obj instanceof Person1) {
            Person1 p = (Person1) obj;
            return this.name.equals(p.getName()) && this.age == p.getAge();
        }
        return false;
    }
}
```

#### å¯¹è±¡æ‹·è´ï¼š

`protected native Object clone() throws CloneNotSupportedException`ï¼šnaitive æ–¹æ³•ï¼Œè¿”å›æ­¤å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ã€‚é»˜è®¤å®ç°åªåš[æµ…æ‹·è´](https://javabetter.cn/basic-extra-meal/deep-copy.html)ï¼Œä¸”ç±»å¿…é¡»å®ç° Cloneable æ¥å£ã€‚

Object æœ¬èº«æ²¡æœ‰å®ç° Cloneable æ¥å£ï¼Œæ‰€ä»¥åœ¨ä¸é‡å†™ clone æ–¹æ³•çš„æƒ…å†µä¸‹ç›´æ¥ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ä¼šå‘ç”Ÿ CloneNotSupportedException å¼‚å¸¸ã€‚

#### å¯¹è±¡è½¬å­—ç¬¦ä¸²ï¼š

`public String toString()`ï¼šè¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚é»˜è®¤å®ç°è¿”å›ç±»å@å“ˆå¸Œç çš„åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œä½†é€šå¸¸ä¼šè¢«é‡å†™ä»¥è¿”å›æ›´æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚

```java
public String toString() {
    return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```

æ¯”å¦‚è¯´ä¸€ä¸ª Person ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é‡å†™ toString æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼š

```java
public String toString() {
    return "Person{" +
            "name='" + name + '\'' +
            ", age=" + age +
            '}';
}
```

å½“ç„¶äº†ï¼Œè¿™é¡¹å·¥ä½œä¹Ÿå¯ä»¥ç›´æ¥äº¤ç»™ IDEï¼Œæ¯”å¦‚ IntelliJ IDEAï¼Œç›´æ¥å³é”®é€‰æ‹© Generateï¼Œç„¶åé€‰æ‹© toString æ–¹æ³•ï¼Œå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª toString æ–¹æ³•ã€‚

ä¹Ÿå¯ä»¥äº¤ç»™ [Lombok](https://javabetter.cn/springboot/lombok.html)ï¼Œä½¿ç”¨ @Data æ³¨è§£ï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆ toString æ–¹æ³•ã€‚

æ•°ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬æ‰“å°æ•°ç»„çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°è¯¸å¦‚ `[I@1b6d3586` è¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå°±æ˜¯ int æ•°ç»„çš„å“ˆå¸Œç ã€‚

#### å¤šçº¿ç¨‹è°ƒåº¦ï¼š

æ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ Object çš„ wait/notify æ–¹æ³•æ¥å®ç°ç­‰å¾…/é€šçŸ¥æœºåˆ¶ã€‚æˆ‘ä»¬æ¥å†™ä¸€ä¸ªä¾‹å­ï¼š

```java
public class WaitNotifyDemo {
    public static void main(String[] args) {
        Object lock = new Object();
        new Thread(() -> {
            synchronized (lock) {
                System.out.println("çº¿ç¨‹1ï¼šæˆ‘è¦ç­‰å¾…");
                try {
                    lock.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                System.out.println("çº¿ç¨‹1ï¼šæˆ‘è¢«å”¤é†’äº†");
            }
        }).start();
        new Thread(() -> {
            synchronized (lock) {
                System.out.println("çº¿ç¨‹2ï¼šæˆ‘è¦å”¤é†’");
                lock.notify();
                System.out.println("çº¿ç¨‹2ï¼šæˆ‘å·²ç»å”¤é†’äº†");
            }
        }).start();
    }
}
```

è§£é‡Šä¸€ä¸‹ï¼š

- çº¿ç¨‹ 1 å…ˆæ‰§è¡Œï¼Œå®ƒè°ƒç”¨äº† `lock.wait()` æ–¹æ³•ï¼Œç„¶åè¿›å…¥äº†ç­‰å¾…çŠ¶æ€ã€‚
- çº¿ç¨‹ 2 åæ‰§è¡Œï¼Œå®ƒè°ƒç”¨äº† `lock.notify()` æ–¹æ³•ï¼Œç„¶åçº¿ç¨‹ 1 è¢«å”¤é†’äº†ã€‚

â‘ ã€`public final void wait() throws InterruptedException`ï¼šè°ƒç”¨è¯¥æ–¹æ³•ä¼šå¯¼è‡´å½“å‰çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„`notify()`æ–¹æ³•æˆ–`notifyAll()`æ–¹æ³•ã€‚

â‘¡ã€`public final native void notify()`ï¼šå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œé€‰æ‹©ä¸€ä¸ªçº¿ç¨‹è¢«å”¤é†’ã€‚

â‘¢ã€`public final native void notifyAll()`ï¼šå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ã€‚

â‘£ã€`public final native void wait(long timeout) throws InterruptedException`ï¼šç­‰å¾… timeout æ¯«ç§’ï¼Œå¦‚æœåœ¨ timeout æ¯«ç§’å†…æ²¡æœ‰è¢«å”¤é†’ï¼Œä¼šè‡ªåŠ¨å”¤é†’ã€‚

â‘¥ã€`public final void wait(long timeout, int nanos) throws InterruptedException`ï¼šæ›´åŠ ç²¾ç¡®äº†ï¼Œç­‰å¾… timeout æ¯«ç§’å’Œ nanos çº³ç§’ï¼Œå¦‚æœåœ¨ timeout æ¯«ç§’å’Œ nanos çº³ç§’å†…æ²¡æœ‰è¢«å”¤é†’ï¼Œä¼šè‡ªåŠ¨å”¤é†’ã€‚

#### åå°„ï¼š

æ¨èé˜…è¯»ï¼š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæŒæ¡ Java åå°„](https://javabetter.cn/basic-extra-meal/fanshe.html)

`public final native Class<?> getClass()`ï¼šç”¨äºè·å–å¯¹è±¡çš„ç±»ä¿¡æ¯ï¼Œå¦‚ç±»åã€‚æ¯”å¦‚è¯´ï¼š

```java
public class GetClassDemo {
    public static void main(String[] args) {
        Person p = new Person();
        Class<? extends Person> aClass = p.getClass();
        System.out.println(aClass.getName());
    }
}
```

è¾“å‡ºç»“æœï¼š

```
com.itwanger.Person
```

#### åƒåœ¾å›æ”¶ï¼š

`protected void finalize() throws Throwable`ï¼šå½“åƒåœ¾å›æ”¶å™¨å†³å®šå›æ”¶å¯¹è±¡å ç”¨çš„å†…å­˜æ—¶è°ƒç”¨æ­¤æ–¹æ³•ã€‚ç”¨äºæ¸…ç†èµ„æºï¼Œä½† Java ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¸å¯é¢„æµ‹ä¸”å®¹æ˜“å¯¼è‡´é—®é¢˜ï¼ŒJava 9 å¼€å§‹å·²è¢«å¼ƒç”¨ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/javase-20240313085055.png)


> 1. [Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰](https://javabetter.cn/zhishixingqiu/mianshi.html)æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šObject æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ

## å¼‚å¸¸å¤„ç†

### 39.Java ä¸­å¼‚å¸¸å¤„ç†ä½“ç³»?

Java çš„å¼‚å¸¸ä½“ç³»æ˜¯åˆ†ä¸ºå¤šå±‚çš„ã€‚

![Javaå¼‚å¸¸ä½“ç³»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-22.png)

`Throwable`æ˜¯ Java è¯­è¨€ä¸­æ‰€æœ‰é”™è¯¯æˆ–å¼‚å¸¸çš„åŸºç±»ã€‚ Throwable åˆåˆ†ä¸º`Error`å’Œ`Exception`ï¼Œå…¶ä¸­ Error æ˜¯ç³»ç»Ÿå†…éƒ¨é”™è¯¯ï¼Œæ¯”å¦‚è™šæ‹Ÿæœºå¼‚å¸¸ï¼Œæ˜¯ç¨‹åºæ— æ³•å¤„ç†çš„ã€‚`Exception`æ˜¯ç¨‹åºé—®é¢˜å¯¼è‡´çš„å¼‚å¸¸ï¼Œåˆåˆ†ä¸ºä¸¤ç§ï¼š

- CheckedException å—æ£€å¼‚å¸¸ï¼šç¼–è¯‘å™¨ä¼šå¼ºåˆ¶æ£€æŸ¥å¹¶è¦æ±‚å¤„ç†çš„å¼‚å¸¸ã€‚
- RuntimeException è¿è¡Œæ—¶å¼‚å¸¸ï¼šç¨‹åºè¿è¡Œä¸­å‡ºç°å¼‚å¸¸ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†Ÿæ‚‰çš„ç©ºæŒ‡é’ˆã€æ•°ç»„ä¸‹æ ‡è¶Šç•Œç­‰ç­‰

### 40.å¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼Ÿ

é’ˆå¯¹å¼‚å¸¸çš„å¤„ç†ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š

![å¼‚å¸¸å¤„ç†](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-23.png)

- **é‡åˆ°å¼‚å¸¸ä¸è¿›è¡Œå…·ä½“å¤„ç†ï¼Œè€Œæ˜¯ç»§ç»­æŠ›ç»™è°ƒç”¨è€… ï¼ˆthrowï¼Œthrowsï¼‰**

æŠ›å‡ºå¼‚å¸¸æœ‰ä¸‰ç§å½¢å¼ï¼Œä¸€æ˜¯ throw,ä¸€ä¸ª throwsï¼Œè¿˜æœ‰ä¸€ç§ç³»ç»Ÿè‡ªåŠ¨æŠ›å¼‚å¸¸ã€‚

throws ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œåé¢è·Ÿçš„æ˜¯å¼‚å¸¸ç±»ï¼Œå¯ä»¥è·Ÿå¤šä¸ªï¼›è€Œ throw ç”¨åœ¨æ–¹æ³•å†…ï¼Œåé¢è·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡ã€‚

- **try catch æ•è·å¼‚å¸¸**

åœ¨ catch è¯­å¥å—ä¸­è¡¥è´§å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚

```java
       try {
            //åŒ…å«å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„ä»£ç ä»¥åŠå£°æ˜å¼‚å¸¸çš„æ–¹æ³•
        }catch(Exception e) {
            //æ•è·å¼‚å¸¸å¹¶è¿›è¡Œå¤„ç†
        }finally {                                                       }
            //å¯é€‰ï¼Œå¿…æ‰§è¡Œçš„ä»£ç 
        }
```

try-catch æ•è·å¼‚å¸¸çš„æ—¶å€™è¿˜å¯ä»¥é€‰æ‹©åŠ ä¸Š finally è¯­å¥å—ï¼Œfinally è¯­å¥å—ä¸ç®¡ç¨‹åºæ˜¯å¦æ­£å¸¸æ‰§è¡Œï¼Œæœ€ç»ˆå®ƒéƒ½ä¼šå¿…ç„¶æ‰§è¡Œã€‚

### 41.ä¸‰é“ç»å…¸å¼‚å¸¸å¤„ç†ä»£ç é¢˜

> é¢˜ç›® 1

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test());
    }
    public static int test() {
        try {
            return 1;
        } catch (Exception e) {
            return 2;
        } finally {
            System.out.print("3");
        }
    }
}
```

æ‰§è¡Œç»“æœï¼š31ã€‚

tryã€catchã€‚finally çš„åŸºç¡€ç”¨æ³•ï¼Œåœ¨ return å‰ä¼šå…ˆæ‰§è¡Œ finally è¯­å¥å—ï¼Œæ‰€ä»¥æ˜¯å…ˆè¾“å‡º finally é‡Œçš„ 3ï¼Œå†è¾“å‡º return çš„ 1ã€‚

> é¢˜ç›® 2

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test1());
    }
    public static int test1() {
        try {
            return 2;
        } finally {
            return 3;
        }
    }
}
```

æ‰§è¡Œç»“æœï¼š3ã€‚

try è¿”å›å‰å…ˆæ‰§è¡Œ finallyï¼Œç»“æœ finally é‡Œä¸æŒ‰å¥—è·¯å‡ºç‰Œï¼Œç›´æ¥ return äº†ï¼Œè‡ªç„¶ä¹Ÿå°±èµ°ä¸åˆ° try é‡Œé¢çš„ return äº†ã€‚

finally é‡Œé¢ä½¿ç”¨ return ä»…å­˜åœ¨äºé¢è¯•é¢˜ä¸­ï¼Œå®é™…å¼€å‘è¿™ä¹ˆå†™è¦æŒ¨åŠçš„ã€‚

> é¢˜ç›® 3

```java
public class TryDemo {
    public static void main(String[] args) {
        System.out.println(test1());
    }
    public static int test1() {
        int i = 0;
        try {
            i = 2;
            return i;
        } finally {
            i = 3;
        }
    }
}
```

æ‰§è¡Œç»“æœï¼š2ã€‚

å¤§å®¶å¯èƒ½ä¼šä»¥ä¸ºç»“æœåº”è¯¥æ˜¯ 3ï¼Œå› ä¸ºåœ¨ return å‰ä¼šæ‰§è¡Œ finallyï¼Œè€Œ i åœ¨ finally ä¸­è¢«ä¿®æ”¹ä¸º 3 äº†ï¼Œé‚£æœ€ç»ˆè¿”å› i ä¸æ˜¯åº”è¯¥ä¸º 3 å—ï¼Ÿ

ä½†å…¶å®ï¼Œåœ¨æ‰§è¡Œ finally ä¹‹å‰ï¼ŒJVM ä¼šå…ˆå°† i çš„ç»“æœæš‚å­˜èµ·æ¥ï¼Œç„¶å finally æ‰§è¡Œå®Œæ¯•åï¼Œä¼šè¿”å›ä¹‹å‰æš‚å­˜çš„ç»“æœï¼Œè€Œä¸æ˜¯è¿”å› iï¼Œæ‰€ä»¥å³ä½¿ i å·²ç»è¢«ä¿®æ”¹ä¸º 3ï¼Œæœ€ç»ˆè¿”å›çš„è¿˜æ˜¯ä¹‹å‰æš‚å­˜èµ·æ¥çš„ç»“æœ 2ã€‚

## I/O

### 42.Java ä¸­ IO æµåˆ†ä¸ºå‡ ç§?

æµæŒ‰ç…§ä¸åŒçš„ç‰¹ç‚¹ï¼Œæœ‰å¾ˆå¤šç§åˆ’åˆ†æ–¹å¼ã€‚

- æŒ‰ç…§æµçš„æµå‘åˆ†ï¼Œå¯ä»¥åˆ†ä¸º**è¾“å…¥æµ**å’Œ**è¾“å‡ºæµ**ï¼›
- æŒ‰ç…§æ“ä½œå•å…ƒåˆ’åˆ†ï¼Œå¯ä»¥åˆ’åˆ†ä¸º**å­—èŠ‚æµ**å’Œ**å­—ç¬¦æµ**ï¼›
- æŒ‰ç…§æµçš„è§’è‰²åˆ’åˆ†ä¸º**èŠ‚ç‚¹æµ**å’Œ**å¤„ç†æµ**

Java Io æµå…±æ¶‰åŠ 40 å¤šä¸ªç±»ï¼Œçœ‹ä¸Šå»æ‚ä¹±ï¼Œå…¶å®éƒ½å­˜åœ¨ä¸€å®šçš„å…³è”ï¼Œ Java I0 æµçš„ 40 å¤šä¸ªç±»éƒ½æ˜¯ä»å¦‚ä¸‹ 4 ä¸ªæŠ½è±¡ç±»åŸºç±»ä¸­æ´¾ç”Ÿå‡ºæ¥çš„ã€‚

- **InputStream**/**Reader**: æ‰€æœ‰çš„è¾“å…¥æµçš„åŸºç±»ï¼Œå‰è€…æ˜¯å­—èŠ‚è¾“å…¥æµï¼Œåè€…æ˜¯å­—ç¬¦è¾“å…¥æµã€‚
- **OutputStream**/**Writer**: æ‰€æœ‰è¾“å‡ºæµçš„åŸºç±»ï¼Œå‰è€…æ˜¯å­—èŠ‚è¾“å‡ºæµï¼Œåè€…æ˜¯å­—ç¬¦è¾“å‡ºæµã€‚

![IO-æ“ä½œæ–¹å¼åˆ†ç±»-å›¾ç‰‡æ¥æºå‚è€ƒ[2]](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-24.jpeg)

> IO æµç”¨åˆ°äº†ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼Ÿ

å…¶å®ï¼ŒJava çš„ IO æµä½“ç³»è¿˜ç”¨åˆ°äº†ä¸€ä¸ªè®¾è®¡æ¨¡å¼â€”â€”**è£…é¥°å™¨æ¨¡å¼**ã€‚

InputStream ç›¸å…³çš„éƒ¨åˆ†ç±»å›¾å¦‚ä¸‹ï¼Œç¯‡å¹…æœ‰é™ï¼Œè£…é¥°å™¨æ¨¡å¼å°±ä¸å±•å¼€è¯´äº†ã€‚

![Java IOæµç”¨åˆ°è£…é¥°å™¨æ¨¡å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-25.png)

### 43.æ—¢ç„¶æœ‰äº†å­—èŠ‚æµ,ä¸ºä»€ä¹ˆè¿˜è¦æœ‰å­—ç¬¦æµ?

å…¶å®å­—ç¬¦æµæ˜¯ç”± Java è™šæ‹Ÿæœºå°†å­—èŠ‚è½¬æ¢å¾—åˆ°çš„ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™ä¸ªè¿‡ç¨‹è¿˜æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”ï¼Œå¦‚æœæˆ‘ä»¬ä¸çŸ¥é“ç¼–ç ç±»å‹å°±å¾ˆå®¹æ˜“å‡ºç°ä¹±ç é—®é¢˜ã€‚

æ‰€ä»¥ï¼Œ I/O æµå°±å¹²è„†æä¾›äº†ä¸€ä¸ªç›´æ¥æ“ä½œå­—ç¬¦çš„æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¹³æ—¶å¯¹å­—ç¬¦è¿›è¡Œæµæ“ä½œã€‚å¦‚æœéŸ³é¢‘æ–‡ä»¶ã€å›¾ç‰‡ç­‰åª’ä½“æ–‡ä»¶ç”¨å­—èŠ‚æµæ¯”è¾ƒå¥½ï¼Œå¦‚æœæ¶‰åŠåˆ°å­—ç¬¦çš„è¯ä½¿ç”¨å­—ç¬¦æµæ¯”è¾ƒå¥½ã€‚

### 44.BIOã€NIOã€AIOï¼Ÿ

![BIOã€NIOã€AIO](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-26.png)

**BIO**(blocking I/O) ï¼š å°±æ˜¯ä¼ ç»Ÿçš„ IOï¼ŒåŒæ­¥é˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¿æ¥ä¸€ä¸ªçº¿ç¨‹ï¼Œå³**å®¢æˆ·ç«¯æœ‰è¿æ¥è¯·æ±‚æ—¶æœåŠ¡å™¨ç«¯å°±éœ€è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†**ï¼Œå¦‚æœè¿™ä¸ªè¿æ¥ä¸åšä»»ä½•äº‹æƒ…ä¼šé€ æˆä¸å¿…è¦çš„çº¿ç¨‹å¼€é”€ï¼Œå¯ä»¥é€šè¿‡è¿æ¥æ± æœºåˆ¶æ”¹å–„(å®ç°å¤šä¸ªå®¢æˆ·è¿æ¥æœåŠ¡å™¨)ã€‚

![BIOã€NIOã€AIO](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-27.png)

BIO æ–¹å¼é€‚ç”¨äºè¿æ¥æ•°ç›®æ¯”è¾ƒå°ä¸”å›ºå®šçš„æ¶æ„ï¼Œè¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨èµ„æºè¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¹¶å‘å±€é™äºåº”ç”¨ä¸­ï¼ŒJDK1.4 ä»¥å‰çš„å”¯ä¸€é€‰æ‹©ï¼Œç¨‹åºç®€å•æ˜“ç†è§£ã€‚

**NIO** ï¼šå…¨ç§° java non-blocking IOï¼Œæ˜¯æŒ‡ JDK æä¾›çš„æ–° APIã€‚ä» JDK1.4 å¼€å§‹ï¼ŒJava æä¾›äº†ä¸€ç³»åˆ—æ”¹è¿›çš„è¾“å…¥/è¾“å‡ºçš„æ–°ç‰¹æ€§ï¼Œè¢«ç»Ÿç§°ä¸º NIO(å³ New IO)ã€‚

NIO æ˜¯**åŒæ­¥éé˜»å¡**çš„ï¼ŒæœåŠ¡å™¨ç«¯ç”¨ä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªè¿æ¥ï¼Œå®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚ä¼šæ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šï¼Œå¤šè·¯å¤ç”¨å™¨è½®è¯¢åˆ°è¿æ¥æœ‰ IO è¯·æ±‚å°±è¿›è¡Œå¤„ç†ï¼š

![NIOçº¿ç¨‹](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-28.png)

NIO çš„æ•°æ®æ˜¯é¢å‘**ç¼“å†²åŒº Buffer**çš„ï¼Œå¿…é¡»ä» Buffer ä¸­è¯»å–æˆ–å†™å…¥ã€‚

æ‰€ä»¥å®Œæ•´çš„ NIO ç¤ºæ„å›¾ï¼š

![NIOå®Œæ•´ç¤ºæ„å›¾](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-29.png)

å¯ä»¥çœ‹å‡ºï¼ŒNIO çš„è¿è¡Œæœºåˆ¶ï¼š

- æ¯ä¸ª Channel å¯¹åº”ä¸€ä¸ª Bufferã€‚
- Selector å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹å¯¹åº”å¤šä¸ª Channelã€‚
- Selector ä¼šæ ¹æ®ä¸åŒçš„äº‹ä»¶ï¼Œåœ¨å„ä¸ªé€šé“ä¸Šåˆ‡æ¢ã€‚
- Buffer æ˜¯å†…å­˜å—ï¼Œåº•å±‚æ˜¯æ•°æ®ã€‚

**AIO**ï¼šJDK 7 å¼•å…¥äº† Asynchronous I/Oï¼Œæ˜¯**å¼‚æ­¥ä¸é˜»å¡**çš„ IOã€‚åœ¨è¿›è¡Œ I/O ç¼–ç¨‹ä¸­ï¼Œå¸¸ç”¨åˆ°ä¸¤ç§æ¨¡å¼ï¼šReactor å’Œ Proactorã€‚Java çš„ NIO å°±æ˜¯ Reactorï¼Œå½“æœ‰äº‹ä»¶è§¦å‘æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å¾—åˆ°é€šçŸ¥ï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œå®Œæˆåæ‰é€šçŸ¥æœåŠ¡ç«¯ç¨‹åºå¯åŠ¨çº¿ç¨‹å»å¤„ç†ï¼Œä¸€èˆ¬é€‚ç”¨äºè¿æ¥æ•°è¾ƒå¤šä¸”è¿æ¥æ—¶é—´è¾ƒé•¿çš„åº”ç”¨ã€‚

## åºåˆ—åŒ–

### 45.ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Ÿä»€ä¹ˆæ˜¯ååºåˆ—åŒ–ï¼Ÿ

ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Œåºåˆ—åŒ–å°±æ˜¯**æŠŠ Java å¯¹è±¡è½¬ä¸ºäºŒè¿›åˆ¶æµ**ï¼Œæ–¹ä¾¿å­˜å‚¨å’Œä¼ è¾“ã€‚

æ‰€ä»¥**ååºåˆ—åŒ–å°±æ˜¯æŠŠäºŒè¿›åˆ¶æµæ¢å¤æˆå¯¹è±¡**ã€‚

![åºåˆ—åŒ–å’Œååºåˆ—åŒ–](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-30.png)

ç±»æ¯”æˆ‘ä»¬ç”Ÿæ´»ä¸­ä¸€äº›å¤§ä»¶ç‰©å“çš„è¿è¾“ï¼Œè¿è¾“çš„æ—¶å€™æŠŠå®ƒæ‹†äº†æ‰“åŒ…ï¼Œç”¨çš„æ—¶å€™å†æ‹†åŒ…ç»„è£…ã€‚

> Serializable æ¥å£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

è¿™ä¸ªæ¥å£åªæ˜¯ä¸€ä¸ªæ ‡è®°ï¼Œæ²¡æœ‰å…·ä½“çš„ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœä¸å®ç°è¿™ä¸ªæ¥å£ï¼Œåœ¨æœ‰äº›åºåˆ—åŒ–åœºæ™¯ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ä¸€èˆ¬å»ºè®®ï¼Œåˆ›å»ºçš„ JavaBean ç±»éƒ½å®ç° Serializableã€‚

> serialVersionUID åˆæœ‰ä»€ä¹ˆç”¨ï¼Ÿ

serialVersionUID å°±æ˜¯èµ·éªŒè¯ä½œç”¨ã€‚

```java
private static final long serialVersionUID = 1L;
```

æˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°è¿™æ ·çš„ä»£ç ï¼Œè¿™ä¸ª ID å…¶å®å°±æ˜¯ç”¨æ¥éªŒè¯åºåˆ—åŒ–çš„å¯¹è±¡å’Œååºåˆ—åŒ–å¯¹åº”çš„å¯¹è±¡ ID æ˜¯å¦ä¸€è‡´ã€‚

è¿™ä¸ª ID çš„æ•°å­—å…¶å®ä¸é‡è¦ï¼Œæ— è®ºæ˜¯ 1L è¿˜æ˜¯ IDE è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œåªè¦åºåˆ—åŒ–æ—¶å€™å¯¹è±¡çš„ serialVersionUID å’Œååºåˆ—åŒ–æ—¶å€™å¯¹è±¡çš„ serialVersionUID ä¸€è‡´çš„è¯å°±è¡Œã€‚

å¦‚æœæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®š serialVersionUID ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šæ ¹æ®ç±»çš„ç›¸å…³ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæŒ‡çº¹ã€‚

æ‰€ä»¥å¦‚æœä½ æ²¡æœ‰å®šä¹‰ä¸€ä¸ª serialVersionUIDï¼Œ ç»“æœåºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡ä¹‹åï¼Œåœ¨ååºåˆ—åŒ–ä¹‹å‰æŠŠå¯¹è±¡çš„ç±»çš„ç»“æ„æ”¹äº†ï¼Œæ¯”å¦‚å¢åŠ äº†ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œåˆ™æ­¤æ—¶çš„ååºåˆ—åŒ–ä¼šå¤±è´¥ã€‚

å› ä¸ºç±»çš„ç»“æ„å˜äº†ï¼Œæ‰€ä»¥ serialVersionUID å°±ä¸ä¸€è‡´ã€‚

> Java åºåˆ—åŒ–ä¸åŒ…å«é™æ€å˜é‡ï¼Ÿ

åºåˆ—åŒ–çš„æ—¶å€™æ˜¯ä¸åŒ…å«é™æ€å˜é‡çš„ã€‚

> å¦‚æœæœ‰äº›å˜é‡ä¸æƒ³åºåˆ—åŒ–ï¼Œæ€ä¹ˆåŠï¼Ÿ

å¯¹äºä¸æƒ³è¿›è¡Œåºåˆ—åŒ–çš„å˜é‡ï¼Œä½¿ç”¨`transient`å…³é”®å­—ä¿®é¥°ã€‚

`transient` å…³é”®å­—çš„ä½œç”¨æ˜¯ï¼šé˜»æ­¢å®ä¾‹ä¸­é‚£äº›ç”¨æ­¤å…³é”®å­—ä¿®é¥°çš„çš„å˜é‡åºåˆ—åŒ–ï¼›å½“å¯¹è±¡è¢«ååºåˆ—åŒ–æ—¶ï¼Œè¢« `transient` ä¿®é¥°çš„å˜é‡å€¼ä¸ä¼šè¢«æŒä¹…åŒ–å’Œæ¢å¤ã€‚`transient` åªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸èƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•ã€‚

### 46.è¯´è¯´æœ‰å‡ ç§åºåˆ—åŒ–æ–¹å¼ï¼Ÿ

Java åºåˆ—åŒ–æ–¹å¼æœ‰å¾ˆå¤šï¼Œå¸¸è§çš„æœ‰ä¸‰ç§ï¼š

![Javaå¸¸è§åºåˆ—åŒ–æ–¹å¼](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-31.png)

- Java å¯¹è±¡åºåˆ—åŒ– ï¼šJava åŸç”Ÿåºåˆ—åŒ–æ–¹æ³•å³é€šè¿‡ Java åŸç”Ÿæµ(InputStream å’Œ OutputStream ä¹‹é—´çš„è½¬åŒ–)çš„æ–¹å¼è¿›è¡Œè½¬åŒ–ï¼Œä¸€èˆ¬æ˜¯å¯¹è±¡è¾“å‡ºæµ `ObjectOutputStream`å’Œå¯¹è±¡è¾“å…¥æµ`ObjectInputStream`ã€‚
- Json åºåˆ—åŒ–ï¼šè¿™ä¸ªå¯èƒ½æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„åºåˆ—åŒ–æ–¹å¼ï¼ŒJson åºåˆ—åŒ–çš„é€‰æ‹©å¾ˆå¤šï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ jackson åŒ…ï¼Œé€šè¿‡ ObjectMapper ç±»æ¥è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚å°†å¯¹è±¡è½¬åŒ–ä¸º byte æ•°ç»„æˆ–è€…å°† json ä¸²è½¬åŒ–ä¸ºå¯¹è±¡ã€‚
- ProtoBuff åºåˆ—åŒ–ï¼šProtocolBuffer æ˜¯ä¸€ç§è½»ä¾¿é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼ŒProtoBuff åºåˆ—åŒ–å¯¹è±¡å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šå°†å…¶å‹ç¼©ï¼Œå¯ä»¥å¤§å¤§å‡å°‘æ•°æ®ä¼ è¾“å¤§å°ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚

## æ³›å‹

### 47.Java æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ

> ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ

Java æ³›å‹ï¼ˆgenericsï¼‰æ˜¯ JDK 5 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§, æ³›å‹æä¾›äº†ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼Œè¯¥æœºåˆ¶å…è®¸ç¨‹åºå‘˜åœ¨ç¼–è¯‘æ—¶æ£€æµ‹åˆ°éæ³•çš„ç±»å‹ã€‚æ³›å‹çš„æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚

```java
List<Integer> list = new ArrayList<>();

list.add(12);
//è¿™é‡Œç›´æ¥æ·»åŠ ä¼šæŠ¥é”™
list.add("a");
Class<? extends List> clazz = list.getClass();
Method add = clazz.getDeclaredMethod("add", Object.class);
//ä½†æ˜¯é€šè¿‡åå°„æ·»åŠ ï¼Œæ˜¯å¯ä»¥çš„
add.invoke(list, "kl");

System.out.println(list);
```

æ³›å‹ä¸€èˆ¬æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼:**æ³›å‹ç±»**ã€**æ³›å‹æ¥å£**ã€**æ³›å‹æ–¹æ³•**ã€‚

![æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-32.png)

**1.æ³›å‹ç±»**ï¼š

```java
//æ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹
//åœ¨å®ä¾‹åŒ–æ³›å‹ç±»æ—¶ï¼Œå¿…é¡»æŒ‡å®šTçš„å…·ä½“ç±»å‹
public class Generic<T>{

    private T key;

    public Generic(T key) {
        this.key = key;
    }

    public T getKey(){
        return key;
    }
}
```

å¦‚ä½•å®ä¾‹åŒ–æ³›å‹ç±»ï¼š

```java
Generic<Integer> genericInteger = new Generic<Integer>(123456);
```

**2.æ³›å‹æ¥å£** ï¼š

```java
public interface Generator<T> {
    public T method();
}
```

å®ç°æ³›å‹æ¥å£ï¼ŒæŒ‡å®šç±»å‹ï¼š

```java
class GeneratorImpl<T> implements Generator<String>{
    @Override
    public String method() {
        return "hello";
    }
}
```

**3.æ³›å‹æ–¹æ³•** ï¼š

```java
   public static < E > void printArray( E[] inputArray )
   {
         for ( E element : inputArray ){
            System.out.printf( "%s ", element );
         }
         System.out.println();
    }
```

ä½¿ç”¨ï¼š

```java
// åˆ›å»ºä¸åŒç±»å‹æ•°ç»„ï¼š Integer, Double å’Œ Character
Integer[] intArray = { 1, 2, 3 };
String[] stringArray = { "Hello", "World" };
printArray( intArray  );
printArray( stringArray  );
```

> æ³›å‹å¸¸ç”¨çš„é€šé…ç¬¦æœ‰å“ªäº›ï¼Ÿ

**å¸¸ç”¨çš„é€šé…ç¬¦ä¸ºï¼š Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ**

- ï¼Ÿ è¡¨ç¤ºä¸ç¡®å®šçš„ java ç±»å‹
- T (type) è¡¨ç¤ºå…·ä½“çš„ä¸€ä¸ª java ç±»å‹
- K V (key value) åˆ†åˆ«ä»£è¡¨ java é”®å€¼ä¸­çš„ Key Value
- E (element) ä»£è¡¨ Element

> ä»€ä¹ˆæ˜¯æ³›å‹æ“¦é™¤ï¼Ÿ

æ‰€è°“çš„æ³›å‹æ“¦é™¤ï¼Œå®˜æ–¹åå«â€œç±»å‹æ“¦é™¤â€ã€‚

Java çš„æ³›å‹æ˜¯ä¼ªæ³›å‹ï¼Œè¿™æ˜¯å› ä¸º Java åœ¨ç¼–è¯‘æœŸé—´ï¼Œæ‰€æœ‰çš„ç±»å‹ä¿¡æ¯éƒ½ä¼šè¢«æ“¦æ‰ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™æ˜¯æ²¡æœ‰æ³›å‹çš„ã€‚

ä¾‹å¦‚è¿™æ®µä»£ç ï¼Œå¾€ä¸€ç¾¤çŒ«é‡Œæ”¾æ¡ç‹—ï¼š

```java
LinkedList<Cat> cats = new LinkedList<Cat>();
LinkedList list = cats;  // æ³¨æ„æˆ‘åœ¨è¿™é‡ŒæŠŠèŒƒå‹å»æ‰äº†ï¼Œä½†æ˜¯listå’Œcatsæ˜¯åŒä¸€ä¸ªé“¾è¡¨ï¼
list.add(new Dog());  // å®Œå…¨æ²¡é—®é¢˜ï¼
```

å› ä¸º Java çš„èŒƒå‹åªå­˜åœ¨äºæºç é‡Œï¼Œç¼–è¯‘çš„æ—¶å€™ç»™ä½ é™æ€åœ°æ£€æŸ¥ä¸€ä¸‹èŒƒå‹ç±»å‹æ˜¯å¦æ­£ç¡®ï¼Œè€Œåˆ°äº†è¿è¡Œæ—¶å°±ä¸æ£€æŸ¥äº†ã€‚ä¸Šé¢è¿™æ®µä»£ç åœ¨ JREï¼ˆJava**è¿è¡Œ**ç¯å¢ƒï¼‰çœ‹æ¥å’Œä¸‹é¢è¿™æ®µæ²¡åŒºåˆ«ï¼š

```java
LinkedList cats = new LinkedList();  // æ³¨æ„ï¼šæ²¡æœ‰èŒƒå‹ï¼
LinkedList list = cats;
list.add(new Dog());
```

ä¸ºä»€ä¹ˆè¦ç±»å‹æ“¦é™¤å‘¢ï¼Ÿ

ä¸»è¦æ˜¯ä¸ºäº†å‘ä¸‹å…¼å®¹ï¼Œå› ä¸º JDK5 ä¹‹å‰æ˜¯æ²¡æœ‰æ³›å‹çš„ï¼Œä¸ºäº†è®© JVM ä¿æŒå‘ä¸‹å…¼å®¹ï¼Œå°±å‡ºäº†ç±»å‹æ“¦é™¤è¿™ä¸ªç­–ç•¥ã€‚

## æ³¨è§£

### 48.è¯´ä¸€ä¸‹ä½ å¯¹æ³¨è§£çš„ç†è§£ï¼Ÿ

**Java æ³¨è§£æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ ‡è®°**ï¼Œå¯ä»¥ç†è§£æˆç”Ÿæ´»ä¸­çš„ä¸€ä¸ªäººçš„ä¸€äº›å°è£…æ‰®ï¼Œæ¯”å¦‚æˆ´ä»€ä¹ˆä»€ä¹ˆå¸½å­ï¼Œæˆ´ä»€ä¹ˆçœ¼é•œã€‚

![Javaæ³¨è§£å’Œå¸½å­](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-33.png)

æ³¨è§£å¯ä»¥æ ‡è®°åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å±æ€§ä¸Šç­‰ï¼Œæ ‡è®°è‡ªèº«ä¹Ÿå¯ä»¥è®¾ç½®ä¸€äº›å€¼ï¼Œæ¯”å¦‚å¸½å­é¢œè‰²æ˜¯ç»¿è‰²ã€‚

æœ‰äº†æ ‡è®°ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç¼–è¯‘æˆ–è€…è¿è¡Œé˜¶æ®µå»è¯†åˆ«è¿™äº›æ ‡è®°ï¼Œç„¶åæä¸€äº›äº‹æƒ…ï¼Œè¿™å°±æ˜¯æ³¨è§£çš„ç”¨å¤„ã€‚

ä¾‹å¦‚æˆ‘ä»¬å¸¸è§çš„ AOPï¼Œä½¿ç”¨æ³¨è§£ä½œä¸ºåˆ‡ç‚¹å°±æ˜¯è¿è¡ŒæœŸæ³¨è§£çš„åº”ç”¨ï¼›æ¯”å¦‚ lombokï¼Œå°±æ˜¯æ³¨è§£åœ¨ç¼–è¯‘æœŸçš„è¿è¡Œã€‚

æ³¨è§£ç”Ÿå‘½å‘¨æœŸæœ‰ä¸‰å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š

- RetentionPolicy.SOURCEï¼šç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œä¸ä¼šå†™å…¥ class æ–‡ä»¶
- RetentionPolicy.CLASSï¼šä¼šå†™å…¥ class æ–‡ä»¶ï¼Œåœ¨ç±»åŠ è½½é˜¶æ®µä¸¢å¼ƒï¼Œä¹Ÿå°±æ˜¯è¿è¡Œçš„æ—¶å€™å°±æ²¡è¿™ä¸ªä¿¡æ¯äº†
- RetentionPolicy.RUNTIMEï¼šä¼šå†™å…¥ class æ–‡ä»¶ï¼Œæ°¸ä¹…ä¿å­˜ï¼Œå¯ä»¥é€šè¿‡åå°„è·å–æ³¨è§£ä¿¡æ¯

æ‰€ä»¥æˆ‘ä¸Šæ–‡å†™çš„æ˜¯è§£æçš„æ—¶å€™ï¼Œæ²¡å†™å…·ä½“æ˜¯è§£æå•¥ï¼Œå› ä¸ºä¸åŒçš„ç”Ÿå‘½å‘¨æœŸçš„è§£æåŠ¨ä½œæ˜¯ä¸åŒçš„ã€‚

åƒå¸¸è§çš„ï¼š

![Overrideæ³¨è§£](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-34.png)

å°±æ˜¯ç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œç¼–è¯‘å™¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥æ²¡é—®é¢˜å°± over äº†ï¼Œclass æ–‡ä»¶é‡Œé¢ä¸ä¼šæœ‰ Override è¿™ä¸ªæ ‡è®°ã€‚

å†æ¯”å¦‚ Spring å¸¸è§çš„ Autowired ï¼Œå°±æ˜¯ RUNTIME çš„ï¼Œæ‰€ä»¥**åœ¨è¿è¡Œçš„æ—¶å€™å¯ä»¥é€šè¿‡åå°„å¾—åˆ°æ³¨è§£çš„ä¿¡æ¯**ï¼Œè¿˜èƒ½æ‹¿åˆ°æ ‡è®°çš„å€¼ required ã€‚

![Autowiredæ³¨è§£](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-35.png)

## åå°„

### 49.ä»€ä¹ˆæ˜¯åå°„ï¼Ÿåº”ç”¨ï¼ŸåŸç†ï¼Ÿ

> ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ

æˆ‘ä»¬é€šå¸¸éƒ½æ˜¯åˆ©ç”¨`new`æ–¹å¼æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œè¿™å¯ä»¥è¯´å°±æ˜¯ä¸€ç§â€œæ­£å°„â€ï¼Œè¿™ç§æ–¹å¼åœ¨ç¼–è¯‘æ—¶å€™å°±ç¡®å®šäº†ç±»å‹ä¿¡æ¯ã€‚

è€Œå¦‚æœï¼Œæˆ‘ä»¬æƒ³åœ¨æ—¶å€™åŠ¨æ€åœ°è·å–ç±»ä¿¡æ¯ã€åˆ›å»ºç±»å®ä¾‹ã€è°ƒç”¨ç±»æ–¹æ³•è¿™æ—¶å€™å°±è¦ç”¨åˆ°**åå°„**ã€‚

é€šè¿‡åå°„ä½ å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•å’Œå±æ€§ã€‚

åå°„æœ€æ ¸å¿ƒçš„å››ä¸ªç±»ï¼š

![Javaåå°„ç›¸å…³ç±»](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-36.png)

> åå°„çš„åº”ç”¨åœºæ™¯ï¼Ÿ

ä¸€èˆ¬æˆ‘ä»¬å¹³æ—¶éƒ½æ˜¯åœ¨åœ¨å†™ä¸šåŠ¡ä»£ç ï¼Œå¾ˆå°‘ä¼šæ¥è§¦åˆ°ç›´æ¥ä½¿ç”¨åå°„æœºåˆ¶çš„åœºæ™¯ã€‚

ä½†æ˜¯ï¼Œè¿™å¹¶ä¸ä»£è¡¨åå°„æ²¡æœ‰ç”¨ã€‚ç›¸åï¼Œæ­£æ˜¯å› ä¸ºåå°„ï¼Œä½ æ‰èƒ½è¿™ä¹ˆè½»æ¾åœ°ä½¿ç”¨å„ç§æ¡†æ¶ã€‚åƒ Spring/Spring Bootã€MyBatis ç­‰ç­‰æ¡†æ¶ä¸­éƒ½å¤§é‡ä½¿ç”¨äº†åå°„æœºåˆ¶ã€‚

åƒ Spring é‡Œçš„å¾ˆå¤š **æ³¨è§£** ï¼Œå®ƒçœŸæ­£çš„åŠŸèƒ½å®ç°å°±æ˜¯åˆ©ç”¨åå°„ã€‚

å°±åƒä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨ Spring çš„æ—¶å€™ ï¼Œä¸€ä¸ª`@Component`æ³¨è§£å°±å£°æ˜äº†ä¸€ä¸ªç±»ä¸º Spring Bean å‘¢ï¼Ÿä¸ºä»€ä¹ˆé€šè¿‡ä¸€ä¸ª `@Value`æ³¨è§£å°±è¯»å–åˆ°é…ç½®æ–‡ä»¶ä¸­çš„å€¼å‘¢ï¼Ÿç©¶ç«Ÿæ˜¯æ€ä¹ˆèµ·ä½œç”¨çš„å‘¢ï¼Ÿ

è¿™äº›éƒ½æ˜¯å› ä¸ºæˆ‘ä»¬å¯ä»¥åŸºäºåå°„æ“ä½œç±»ï¼Œç„¶åè·å–åˆ°ç±»/å±æ€§/æ–¹æ³•/æ–¹æ³•çš„å‚æ•°ä¸Šçš„æ³¨è§£ï¼Œæ³¨è§£è¿™é‡Œå°±æœ‰ä¸¤ä¸ªä½œç”¨ï¼Œä¸€æ˜¯æ ‡è®°ï¼Œæˆ‘ä»¬å¯¹æ³¨è§£æ ‡è®°çš„ç±»/å±æ€§/æ–¹æ³•è¿›è¡Œå¯¹åº”çš„å¤„ç†ï¼›äºŒæ˜¯æ³¨è§£æœ¬èº«æœ‰ä¸€äº›ä¿¡æ¯ï¼Œå¯ä»¥å‚ä¸åˆ°å¤„ç†çš„é€»è¾‘ä¸­ã€‚

> åå°„çš„åŸç†ï¼Ÿ

æˆ‘ä»¬éƒ½çŸ¥é“ Java ç¨‹åºçš„æ‰§è¡Œåˆ†ä¸ºç¼–è¯‘å’Œè¿è¡Œä¸¤æ­¥ï¼Œç¼–è¯‘ä¹‹åä¼šç”Ÿæˆå­—èŠ‚ç (.class)æ–‡ä»¶ï¼ŒJVM è¿›è¡Œç±»åŠ è½½çš„æ—¶å€™ï¼Œä¼šåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œå°†ç±»å‹ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯åŠ è½½è¿›æ–¹æ³•åŒºï¼Œåå°„å°±æ˜¯å»è·å–è¿™äº›ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œå„ç§æ“ä½œã€‚

## JDK1.8 æ–°ç‰¹æ€§

JDK å·²ç»å‡ºåˆ° 17 äº†ï¼Œä½†æ˜¯ä½ è¿­ä»£ä½ çš„ç‰ˆæœ¬ï¼Œæˆ‘ç”¨æˆ‘çš„ 8ã€‚JDK1.8 çš„ä¸€äº›æ–°ç‰¹æ€§ï¼Œå½“ç„¶ç°åœ¨ä¹Ÿä¸æ–°äº†ï¼Œå…¶å®åœ¨å·¥ä½œä¸­å·²ç»å¾ˆå¸¸ç”¨äº†ã€‚

### 50.JDK1.8 éƒ½æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ

JDK1.8 æœ‰ä¸å°‘æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬ç»å¸¸æ¥è§¦åˆ°çš„æ–°ç‰¹æ€§å¦‚ä¸‹ï¼š

![JDK1.8ä¸»è¦æ–°ç‰¹æ€§](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-37.png)

- æ¥å£é»˜è®¤æ–¹æ³•ï¼šJava 8 å…è®¸æˆ‘ä»¬ç»™æ¥å£æ·»åŠ ä¸€ä¸ªéæŠ½è±¡çš„æ–¹æ³•å®ç°ï¼Œåªéœ€è¦ä½¿ç”¨ default å…³é”®å­—ä¿®é¥°å³å¯

- Lambda è¡¨è¾¾å¼å’Œå‡½æ•°å¼æ¥å£ï¼šLambda è¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯ä¸€æ®µåŒ¿åå†…éƒ¨ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ã€‚Lambda å…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’åˆ°æ–¹æ³•ä¸­ï¼‰ï¼Œä½¿ç”¨ Lambda è¡¨è¾¾å¼ä½¿ä»£ç æ›´åŠ ç®€æ´ï¼Œä½†æ˜¯ä¹Ÿä¸è¦æ»¥ç”¨ï¼Œå¦åˆ™ä¼šæœ‰å¯è¯»æ€§ç­‰é—®é¢˜ï¼Œã€ŠEffective Javaã€‹ä½œè€… Josh Bloch å»ºè®®ä½¿ç”¨ Lambda è¡¨è¾¾å¼æœ€å¥½ä¸è¦è¶…è¿‡ 3 è¡Œã€‚

- Stream APIï¼šç”¨å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼åœ¨é›†åˆç±»ä¸Šè¿›è¡Œå¤æ‚æ“ä½œçš„å·¥å…·ï¼Œé…åˆ Lambda è¡¨è¾¾å¼å¯ä»¥æ–¹ä¾¿çš„å¯¹é›†åˆè¿›è¡Œå¤„ç†ã€‚

  Java8 ä¸­å¤„ç†é›†åˆçš„å…³é”®æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå¯ä»¥æŒ‡å®šä½ å¸Œæœ›å¯¹é›†åˆè¿›è¡Œçš„æ“ä½œï¼Œå¯ä»¥æ‰§è¡Œéå¸¸å¤æ‚çš„æŸ¥æ‰¾ã€è¿‡æ»¤å’Œæ˜ å°„æ•°æ®ç­‰æ“ä½œã€‚ä½¿ç”¨ Stream API å¯¹é›†åˆæ•°æ®è¿›è¡Œæ“ä½œï¼Œå°±ç±»ä¼¼äºä½¿ç”¨ SQL æ‰§è¡Œçš„æ•°æ®åº“æŸ¥è¯¢ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ Stream API æ¥å¹¶è¡Œæ‰§è¡Œæ“ä½œã€‚

  ç®€è€Œè¨€ä¹‹ï¼ŒStream API æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚

- æ—¥æœŸæ—¶é—´ APIï¼šJava 8 å¼•å…¥äº†æ–°çš„æ—¥æœŸæ—¶é—´ API æ”¹è¿›äº†æ—¥æœŸæ—¶é—´çš„ç®¡ç†ã€‚

- Optional ç±»ï¼šç”¨æ¥è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸çš„é—®é¢˜ã€‚å¾ˆä¹…ä»¥å‰ Google Guava é¡¹ç›®å¼•å…¥äº† Optional ä½œä¸ºè§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸çš„ä¸€ç§æ–¹å¼ï¼Œä¸èµæˆä»£ç è¢« null æ£€æŸ¥çš„ä»£ç æ±¡æŸ“ï¼ŒæœŸæœ›ç¨‹åºå‘˜å†™æ•´æ´çš„ä»£ç ã€‚å— Google Guava çš„é¼“åŠ±ï¼ŒOptional ç°åœ¨æ˜¯ Java 8 åº“çš„ä¸€éƒ¨åˆ†ã€‚

### 51.Lambda è¡¨è¾¾å¼äº†è§£å¤šå°‘ï¼Ÿ

Lambda è¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯ä¸€æ®µåŒ¿åå†…éƒ¨ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ã€‚

æ¯”å¦‚æˆ‘ä»¬ä»¥å‰ä½¿ç”¨ Runnable åˆ›å»ºå¹¶è¿è¡Œçº¿ç¨‹ï¼š

```java
        new Thread(new Runnable() {
            @Override
            public void run() {
                System.out.println("Thread is running before Java8!");
            }
        }).start();
```

è¿™æ˜¯é€šè¿‡å†…éƒ¨ç±»çš„æ–¹å¼æ¥é‡å†™ run æ–¹æ³•ï¼Œä½¿ç”¨ Lambda è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥æ›´åŠ ç®€æ´ï¼š

```java
new Thread( () -> System.out.println("Thread is running since Java8!") ).start();
```

å½“ç„¶ä¸æ˜¯æ¯ä¸ªæ¥å£éƒ½å¯ä»¥ç¼©å†™æˆ Lambda è¡¨è¾¾å¼ã€‚åªæœ‰é‚£äº›å‡½æ•°å¼æ¥å£ï¼ˆFunctional Interfaceï¼‰æ‰èƒ½ç¼©å†™æˆ Lambda è¡¨ç¤ºå¼ã€‚

æ‰€è°“å‡½æ•°å¼æ¥å£ï¼ˆFunctional Interfaceï¼‰å°±æ˜¯åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„å£°æ˜ã€‚é’ˆå¯¹è¯¥æ¥å£ç±»å‹çš„æ‰€æœ‰ Lambda è¡¨è¾¾å¼éƒ½ä¼šä¸è¿™ä¸ªæŠ½è±¡æ–¹æ³•åŒ¹é…ã€‚

> Java8 æœ‰å“ªäº›å†…ç½®å‡½æ•°å¼æ¥å£ï¼Ÿ

JDK 1.8 API åŒ…å«äº†å¾ˆå¤šå†…ç½®çš„å‡½æ•°å¼æ¥å£ã€‚å…¶ä¸­å°±åŒ…æ‹¬æˆ‘ä»¬åœ¨è€ç‰ˆæœ¬ä¸­ç»å¸¸è§åˆ°çš„ **Comparator** å’Œ **Runnable**ï¼ŒJava 8 ä¸ºä»–ä»¬éƒ½æ·»åŠ äº† @FunctionalInterface æ³¨è§£ï¼Œä»¥ç”¨æ¥æ”¯æŒ Lambda è¡¨è¾¾å¼ã€‚

é™¤äº†è¿™ä¸¤ä¸ªä¹‹å¤–ï¼Œè¿˜æœ‰ Callableã€Predicateã€Functionã€Supplierã€Consumer ç­‰ç­‰ã€‚

### 52.Optional äº†è§£å—ï¼Ÿ

`Optional`æ˜¯ç”¨äºé˜²èŒƒ`NullPointerException`ã€‚

å¯ä»¥å°† `Optional` çœ‹åšæ˜¯åŒ…è£…å¯¹è±¡ï¼ˆå¯èƒ½æ˜¯ `null`, ä¹Ÿæœ‰å¯èƒ½é `null`ï¼‰çš„å®¹å™¨ã€‚å½“æˆ‘ä»¬å®šä¹‰äº† ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›çš„å¯¹è±¡å¯èƒ½æ˜¯ç©ºï¼Œä¹Ÿæœ‰å¯èƒ½éç©ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ç”¨ `Optional` æ¥åŒ…è£…å®ƒï¼Œè¿™ä¹Ÿæ˜¯åœ¨ Java 8 è¢«æ¨èä½¿ç”¨çš„åšæ³•ã€‚

```java
Optional<String> optional = Optional.of("bam");

optional.isPresent();           // true
optional.get();                 // "bam"
optional.orElse("fallback");    // "bam"

optional.ifPresent((s) -> System.out.println(s.charAt(0)));     // "b"
```

### 53.Stream æµç”¨è¿‡å—ï¼Ÿ

`Stream` æµï¼Œç®€å•æ¥è¯´ï¼Œä½¿ç”¨ `java.util.Stream` å¯¹ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„é›†åˆåšå„ç§æ“ä½œã€‚è¿™äº›æ“ä½œå¯èƒ½æ˜¯ _ä¸­é—´æ“ä½œ_ äº¦æˆ–æ˜¯ _ç»ˆç«¯æ“ä½œ_ã€‚ ç»ˆç«¯æ“ä½œä¼šè¿”å›ä¸€ä¸ªç»“æœï¼Œè€Œä¸­é—´æ“ä½œä¼šè¿”å›ä¸€ä¸ª `Stream` æµã€‚

Stream æµä¸€èˆ¬ç”¨äºé›†åˆï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªé›†åˆåšå‡ ä¸ªå¸¸è§æ“ä½œï¼š

```java
List<String> stringCollection = new ArrayList<>();
stringCollection.add("ddd2");
stringCollection.add("aaa2");
stringCollection.add("bbb1");
stringCollection.add("aaa1");
stringCollection.add("bbb3");
stringCollection.add("ccc");
stringCollection.add("bbb2");
stringCollection.add("ddd1");
```

- **Filter è¿‡æ»¤**

```java
stringCollection
    .stream()
    .filter((s) -> s.startsWith("a"))
    .forEach(System.out::println);

// "aaa2", "aaa1"

```

- **Sorted æ’åº**

```java
stringCollection
    .stream()
    .sorted()
    .filter((s) -> s.startsWith("a"))
    .forEach(System.out::println);

// "aaa1", "aaa2"
```

- **Map è½¬æ¢**

```java
stringCollection
    .stream()
    .map(String::toUpperCase)
    .sorted((a, b) -> b.compareTo(a))
    .forEach(System.out::println);

// "DDD2", "DDD1", "CCC", "BBB3", "BBB2", "AAA2", "AAA1"
```

- **Match åŒ¹é…**

```java
// éªŒè¯ list ä¸­ string æ˜¯å¦æœ‰ä»¥ a å¼€å¤´çš„, åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªï¼Œå³è¿”å› true
boolean anyStartsWithA =
    stringCollection
        .stream()
        .anyMatch((s) -> s.startsWith("a"));

System.out.println(anyStartsWithA);      // true

// éªŒè¯ list ä¸­ string æ˜¯å¦éƒ½æ˜¯ä»¥ a å¼€å¤´çš„
boolean allStartsWithA =
    stringCollection
        .stream()
        .allMatch((s) -> s.startsWith("a"));

System.out.println(allStartsWithA);      // false

// éªŒè¯ list ä¸­ string æ˜¯å¦éƒ½ä¸æ˜¯ä»¥ z å¼€å¤´çš„,
boolean noneStartsWithZ =
    stringCollection
        .stream()
        .noneMatch((s) -> s.startsWith("z"));

System.out.println(noneStartsWithZ);      // true
```

- **Count è®¡æ•°**

`count` æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œå®ƒèƒ½å¤Ÿç»Ÿè®¡ `stream` æµä¸­çš„å…ƒç´ æ€»æ•°ï¼Œè¿”å›å€¼æ˜¯ `long` ç±»å‹ã€‚

```java
// å…ˆå¯¹ list ä¸­å­—ç¬¦ä¸²å¼€å¤´ä¸º b è¿›è¡Œè¿‡æ»¤ï¼Œè®©åç»Ÿè®¡æ•°é‡
long startsWithB =
    stringCollection
        .stream()
        .filter((s) -> s.startsWith("b"))
        .count();

System.out.println(startsWithB);    // 3
```

- **Reduce**

`Reduce` ä¸­æ–‡ç¿»è¯‘ä¸ºï¼š_å‡å°‘ã€ç¼©å°_ã€‚é€šè¿‡å…¥å‚çš„ `Function`ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°† `list` å½’çº¦æˆä¸€ä¸ªå€¼ã€‚å®ƒçš„è¿”å›ç±»å‹æ˜¯ `Optional` ç±»å‹ã€‚

```java
Optional<String> reduced =
    stringCollection
        .stream()
        .sorted()
        .reduce((s1, s2) -> s1 + "#" + s2);

reduced.ifPresent(System.out::println);
// "aaa1#aaa2#bbb1#bbb2#bbb3#ccc#ddd1#ddd2"
```

ä»¥ä¸Šæ˜¯å¸¸è§çš„å‡ ç§æµå¼æ“ä½œï¼Œè¿˜æœ‰å…¶å®ƒçš„ä¸€äº›æµå¼æ“ä½œï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´ä¾¿æ·åœ°å¤„ç†é›†åˆæ•°æ®ã€‚

![Java Streamæµ](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/javase-38.png)

> å›¾æ–‡è¯¦è§£ 53 é“ Java åŸºç¡€é¢è¯•é«˜é¢‘é¢˜ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³[è½¬è½½é“¾æ¥](https://mp.weixin.qq.com/s/t7EYyF0VGEg1rAZut9dwSw)ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³[åŸæ–‡é“¾æ¥](https://mp.weixin.qq.com/s/M-6RSRcRd3X93cR7VXpanw)ã€‚

---

_æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ_ã€‚

**ç³»åˆ—å†…å®¹**ï¼š

- [é¢æ¸£é€†è¢­ Java SE ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javase.html)
- [é¢æ¸£é€†è¢­ Java é›†åˆæ¡†æ¶ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/javathread.html)
- [é¢æ¸£é€†è¢­ Java å¹¶å‘ç¼–ç¨‹ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/collection.html)
- [é¢æ¸£é€†è¢­ JVM ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/jvm.html)
- [é¢æ¸£é€†è¢­ Spring ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/spring.html)
- [é¢æ¸£é€†è¢­ Redis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/redis.html)
- [é¢æ¸£é€†è¢­ MyBatis ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mybatis.html)
- [é¢æ¸£é€†è¢­ MySQL ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/mysql.html)
- [é¢æ¸£é€†è¢­æ“ä½œç³»ç»Ÿç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/os.html)
- [é¢æ¸£é€†è¢­è®¡ç®—æœºç½‘ç»œç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/network.html)
- [é¢æ¸£é€†è¢­ RocketMQ ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/rocketmq.html)
- [é¢æ¸£é€†è¢­åˆ†å¸ƒå¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/fenbushi.html)
- [é¢æ¸£é€†è¢­å¾®æœåŠ¡ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/weifuwu.html)
- [é¢æ¸£é€†è¢­è®¾è®¡æ¨¡å¼ç¯‡ ğŸ‘](https://javabetter.cn/sidebar/sanfene/shejimoshi.html)

---

GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š[äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯](https://github.com/itwanger/toBeBetterJavaer)ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š[å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹](https://javabetter.cn/overview/)

å¾®ä¿¡æœ **æ²‰é»˜ç‹äºŒ** æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ **222** å³å¯å…è´¹é¢†å–ã€‚

![](https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png)
