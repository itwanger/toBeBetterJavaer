## ä¸è¦å†é‡å¤é€ è½®å­äº†ï¼ŒHutoolè¿™æ¬¾å¼€æºå·¥å…·ç±»åº“è´¼å¥½ä½¿

è¯»è€…ç¾¤é‡Œæœ‰ä¸ªå°ä¼™ä¼´æ„Ÿæ…¨è¯´ï¼Œâ€œHutool è¿™æ¬¾å¼€æºç±»åº“å¤ªå‰å®³äº†ï¼ŒåŸºæœ¬ä¸Šè¯¥æœ‰è¯¥çš„å·¥å…·ç±»ï¼Œå®ƒé‡Œé¢éƒ½æœ‰ã€‚â€è®²çœŸçš„ï¼Œæˆ‘å¹³å¸¸å·¥ä½œä¸­ä¹Ÿç»å¸¸ç”¨ Hutoolï¼Œå®ƒç¡®å®å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¯ä¸€è¡Œä»£ç ï¼Œä½¿ Java æ‹¥æœ‰å‡½æ•°å¼è¯­è¨€èˆ¬çš„ä¼˜é›…ï¼Œè®© Java è¯­è¨€å˜å¾—â€œç”œç”œçš„â€ã€‚

PSï¼šä¸ºäº†èƒ½å¤Ÿå¸®åŠ©æ›´å¤šçš„ Java çˆ±å¥½è€…ï¼Œå·²å°†ã€ŠJava ç¨‹åºå‘˜è¿›é˜¶ä¹‹è·¯ã€‹å¼€æºåˆ°äº† GitHubï¼ˆæœ¬ç¯‡å·²æ”¶å½•ï¼‰ã€‚è¯¥ä¸“æ ç›®å‰å·²ç»æ”¶è·äº† 598 æšæ˜Ÿæ ‡ï¼Œå¦‚æœä½ ä¹Ÿå–œæ¬¢è¿™ä¸ªä¸“æ ï¼Œ**è§‰å¾—æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥å»ç‚¹ä¸ª starï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿ä»¥åè¿›è¡Œæ›´ç³»ç»ŸåŒ–çš„å­¦ä¹ **ï¼

>[https://github.com/itwanger/toBeBetterJavaer](https://github.com/itwanger/toBeBetterJavaer)

Hutool çš„ä½œè€…åœ¨å®˜ç½‘ä¸Šè¯´ï¼ŒHutool æ˜¯ Hu+tool çš„è‡ªé€ è¯ï¼ˆå¥½åƒä¸ç”¨è¯´ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çŒœå¾—åˆ°ï¼‰ï¼Œâ€œHuâ€ç”¨æ¥è‡´æ•¬ä»–çš„â€œå‰ä»»â€å…¬å¸ï¼Œâ€œtoolâ€å°±æ˜¯å·¥å…·çš„æ„æ€ï¼Œè°éŸ³å°±æœ‰æ„æ€äº†ï¼Œâ€œç³Šæ¶‚â€ï¼Œå¯“æ„è¿½æ±‚â€œä¸‡äº‹éƒ½ä½œç³Šæ¶‚è§‚ï¼Œæ— æ‰€è°“å¤±ï¼Œæ— æ‰€è°“å¾—â€ï¼ˆä¸€ä¸ªå¼€æºç±»åº“ï¼Œä¸Šå‡åˆ°äº†å“²å­¦çš„é«˜åº¦ï¼Œä½œè€…å‰å®³äº†ï¼‰ã€‚

çœ‹äº†ä¸€ä¸‹å¼€å‘å›¢é˜Ÿçš„ä¸€ä¸ªæˆå‘˜ä»‹ç»ï¼Œä¸€ä¸ª Java åç«¯å·¥å…·çš„ä½œè€…ç«Ÿç„¶çˆ±å‰ç«¯ã€çˆ±æ•°ç ï¼Œçˆ±ç¾å¥³ï¼Œå—¯å—¯å—¯ï¼Œç¡®å®â€œéš¾å¾—ç³Šæ¶‚â€ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ã€‚

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-01.png)


åºŸè¯å°±è¯´åˆ°è¿™ï¼Œæ¥å§ï¼Œå®æ“èµ°èµ·ï¼

### 01ã€å¼•å…¥ Hutool

Maven é¡¹ç›®åªéœ€è¦åœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–å³å¯ã€‚

```
<dependency>
    <groupId>cn.hutool</groupId>
    <artifactId>hutool-all</artifactId>
    <version>5.4.3</version>
</dependency>
```

Hutool çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡å‡å°‘é‡å¤çš„å®šä¹‰ï¼Œè®©é¡¹ç›®ä¸­çš„ util åŒ…å°½é‡å°‘ã€‚ä¸€ä¸ªå¥½çš„è½®å­å¯ä»¥åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…â€œå¤åˆ¶ç²˜è´´â€ï¼Œä»è€ŒèŠ‚çœæˆ‘ä»¬å¼€å‘äººå‘˜å¯¹é¡¹ç›®ä¸­å…¬ç”¨ç±»åº“å’Œå…¬ç”¨å·¥å…·æ–¹æ³•çš„å°è£…æ—¶é—´ã€‚åŒæ—¶å‘¢ï¼Œæˆç†Ÿçš„å¼€æºåº“ä¹Ÿå¯ä»¥æœ€å¤§é™åº¦çš„é¿å…å°è£…ä¸å®Œå–„å¸¦æ¥çš„ bugã€‚

å°±åƒä½œè€…åœ¨å®˜ç½‘ä¸Šè¯´çš„é‚£æ ·ï¼š

- ä»¥å‰ï¼Œæˆ‘ä»¬æ‰“å¼€æœç´¢å¼•æ“ -> æœâ€œJava MD5 åŠ å¯†â€ -> æ‰“å¼€æŸç¯‡åšå®¢ -> å¤åˆ¶ç²˜è´´ -> æ”¹æ”¹ï¼Œå˜å¾—å¥½ç”¨äº›
>æœ‰äº† Hutool ä»¥åå‘¢ï¼Œå¼•å…¥ Hutool -> ç›´æ¥ `SecureUtil.md5()`

Hutool å¯¹ä¸ä»…å¯¹ JDK åº•å±‚çš„æ–‡ä»¶ã€æµã€åŠ å¯†è§£å¯†ã€è½¬ç ã€æ­£åˆ™ã€çº¿ç¨‹ã€XMLç­‰åšäº†å°è£…ï¼Œè¿˜æä¾›äº†ä»¥ä¸‹è¿™äº›ç»„ä»¶ï¼š

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-02.png)

éå¸¸å¤šï¼Œéå¸¸å…¨é¢ï¼Œé‰´äºæ­¤ï¼Œæˆ‘åªæŒ‘é€‰ä¸€äº›æˆ‘å–œæ¬¢çš„æ¥ä»‹ç»ä¸‹ï¼ˆå·å·åœ°å‘Šè¯‰ä½ ï¼Œæˆ‘å°±æ˜¯æƒ³å·æ‡’ï¼‰ã€‚

### 02ã€ç±»å‹è½¬æ¢

ç±»å‹è½¬æ¢åœ¨ Java å¼€å‘ä¸­å¾ˆå¸¸è§ï¼Œå°¤å…¶æ˜¯ä» HttpRequest ä¸­è·å–å‚æ•°çš„æ—¶å€™ï¼Œå‰ç«¯ä¼ é€’çš„æ˜¯æ•´å½¢ï¼Œä½†åç«¯åªèƒ½å…ˆè·å–åˆ°å­—ç¬¦ä¸²ï¼Œç„¶åå†è°ƒç”¨ `parseXXX()` æ–¹æ³•è¿›è¡Œè½¬æ¢ï¼Œè¿˜è¦åŠ ä¸Šåˆ¤ç©ºï¼Œå¾ˆç¹çã€‚

Hutool çš„ Convert ç±»å¯ä»¥ç®€åŒ–è¿™ä¸ªæ“ä½œï¼Œå¯ä»¥å°†ä»»æ„å¯èƒ½çš„ç±»å‹è½¬æ¢ä¸ºæŒ‡å®šç±»å‹ï¼ŒåŒæ—¶ç¬¬äºŒä¸ªå‚æ•° defaultValue å¯ç”¨äºåœ¨è½¬æ¢å¤±è´¥æ—¶è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ã€‚

```java
String param = "10";
int paramInt = Convert.toInt(param);
int paramIntDefault = Convert.toInt(param, 0);
```

æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸï¼š

```java
String dateStr = "2020å¹´09æœˆ29æ—¥";
Date date = Convert.toDate(dateStr);
```

æŠŠå­—ç¬¦ä¸²è½¬æˆ Unicodeï¼š

```java
String unicodeStr = "æ²‰é»˜ç‹äºŒ";
String unicode = Convert.strToUnicode(unicodeStr);
```

### 03ã€æ—¥æœŸæ—¶é—´

JDK è‡ªå¸¦çš„ Date å’Œ Calendar ä¸å¤ªå¥½ç”¨ï¼ŒHutool å°è£…çš„ DateUtil ç”¨èµ·æ¥å°±èˆ’æœå¤šäº†ï¼

è·å–å½“å‰æ—¥æœŸï¼š

```java
Date date = DateUtil.date();
```

`DateUtil.date()` è¿”å›çš„å…¶å®æ˜¯ DateTimeï¼Œå®ƒç»§æ‰¿è‡ª Date å¯¹è±¡ï¼Œé‡å†™äº† `toString()` æ–¹æ³•ï¼Œè¿”å› `yyyy-MM-dd HH:mm:ss` æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚

æœ‰äº›å°ä¼™ä¼´æ˜¯ä¸æ˜¯æƒ³çœ‹çœ‹æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶é—´ï¼Œè¾“å‡ºä¸€ä¸‹ç»™å¤§å®¶çœ‹çœ‹ï¼š

```
System.out.println(date);// 2020-09-29 04:28:02
```

å­—ç¬¦ä¸²è½¬æ—¥æœŸï¼š

```java
String dateStr = "2020-09-29";
Date date = DateUtil.parse(dateStr);
```

`DateUtil.parse()` ä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›å¸¸ç”¨çš„æ ¼å¼ï¼Œæ¯”å¦‚è¯´ï¼š

- yyyy-MM-dd HH:mm:ss
- yyyy-MM-dd
- HH:mm:ss
- yyyy-MM-dd HH:mm
- yyyy-MM-dd HH:mm:ss.SSS

è¿˜å¯ä»¥è¯†åˆ«å¸¦ä¸­æ–‡çš„ï¼š

- å¹´æœˆæ—¥æ—¶åˆ†ç§’

æ ¼å¼åŒ–æ—¶é—´å·®ï¼š

```java
String dateStr1 = "2020-09-29 22:33:23";
Date date1 = DateUtil.parse(dateStr1);

String dateStr2 = "2020-10-01 23:34:27";
Date date2 = DateUtil.parse(dateStr2);

long betweenDay = DateUtil.between(date1, date2, DateUnit.MS);

// è¾“å‡ºï¼š2å¤©1å°æ—¶1åˆ†4ç§’
String formatBetween = DateUtil.formatBetween(betweenDay, BetweenFormater.Level.SECOND);
```

æ˜Ÿåº§å’Œå±ç›¸ï¼š

```java
// å°„æ‰‹åº§
String zodiac = DateUtil.getZodiac(Month.DECEMBER.getValue(), 10);
// è›‡
String chineseZodiac = DateUtil.getChineseZodiac(1989);
```

### 04ã€IO æµç›¸å…³

IO æ“ä½œåŒ…æ‹¬è¯»å’Œå†™ï¼Œåº”ç”¨çš„åœºæ™¯ä¸»è¦åŒ…æ‹¬ç½‘ç»œæ“ä½œå’Œæ–‡ä»¶æ“ä½œï¼ŒåŸç”Ÿçš„ Java ç±»åº“åŒºåˆ†å­—ç¬¦æµå’Œå­—èŠ‚æµï¼Œå­—èŠ‚æµ InputStream å’Œ OutputStream å°±æœ‰å¾ˆå¤šå¾ˆå¤šç§ï¼Œä½¿ç”¨èµ·æ¥è®©äººå¤´çš®å‘éº»ã€‚

Hutool å°è£…äº†æµæ“ä½œå·¥å…·ç±» IoUtilã€æ–‡ä»¶è¯»å†™æ“ä½œå·¥å…·ç±» FileUtilã€æ–‡ä»¶ç±»å‹åˆ¤æ–­å·¥å…·ç±» FileTypeUtil ç­‰ç­‰ã€‚

```java
BufferedInputStream in = FileUtil.getInputStream("hutool/origin.txt");
BufferedOutputStream out = FileUtil.getOutputStream("hutool/to.txt");
long copySize = IoUtil.copy(in, out, IoUtil.DEFAULT_BUFFER_SIZE);
```

åœ¨ IO æ“ä½œä¸­ï¼Œæ–‡ä»¶çš„æ“ä½œç›¸å¯¹æ¥è¯´æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä½†ä½¿ç”¨é¢‘ç‡ä¹Ÿå¾ˆé«˜ï¼Œå‡ ä¹æ‰€æœ‰çš„é¡¹ç›®ä¸­éƒ½èººç€ä¸€ä¸ªå« FileUtil æˆ–è€… FileUtils çš„å·¥å…·ç±»ã€‚Hutool çš„ FileUtil ç±»åŒ…å«ä»¥ä¸‹å‡ ç±»æ“ä½œï¼š

- æ–‡ä»¶æ“ä½œï¼šåŒ…æ‹¬æ–‡ä»¶ç›®å½•çš„æ–°å»ºã€åˆ é™¤ã€å¤åˆ¶ã€ç§»åŠ¨ã€æ”¹åç­‰
- æ–‡ä»¶åˆ¤æ–­ï¼šåˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦éç©ºï¼Œæ˜¯å¦ä¸ºç›®å½•ï¼Œæ˜¯å¦ä¸ºæ–‡ä»¶ç­‰ç­‰
- ç»å¯¹è·¯å¾„ï¼šé’ˆå¯¹ ClassPath ä¸­çš„æ–‡ä»¶è½¬æ¢ä¸ºç»å¯¹è·¯å¾„æ–‡ä»¶
- æ–‡ä»¶åï¼šä¸»æ–‡ä»¶åï¼Œæ‰©å±•åçš„è·å–
- è¯»æ“ä½œï¼šåŒ…æ‹¬ getReaderã€readXXX æ“ä½œ
- å†™æ“ä½œï¼šåŒ…æ‹¬ getWriterã€writeXXX æ“ä½œ

é¡ºå¸¦è¯´è¯´ classpathã€‚

åœ¨å®é™…ç¼–ç å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä»æŸäº›æ–‡ä»¶é‡Œé¢è¯»å–ä¸€äº›æ•°æ®ï¼Œæ¯”å¦‚é…ç½®æ–‡ä»¶ã€æ–‡æœ¬æ–‡ä»¶ã€å›¾ç‰‡ç­‰ç­‰ï¼Œé‚£è¿™äº›æ–‡ä»¶é€šå¸¸æ”¾åœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿ

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-03.png)

æ”¾åœ¨é¡¹ç›®ç»“æ„å›¾ä¸­çš„ resources ç›®å½•ä¸‹ï¼Œå½“é¡¹ç›®ç¼–è¯‘åï¼Œä¼šå‡ºç°åœ¨ classes ç›®å½•ä¸‹ã€‚å¯¹åº”ç£ç›˜ä¸Šçš„ç›®å½•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-04.png)

å½“æˆ‘ä»¬è¦è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ä¸å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„çš„ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸ä¸€æ ·çš„è¯ï¼Œæ–‡ä»¶çš„è·¯å¾„æ ‡è¯†ç¬¦ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚æœ€å¥½ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚

å‡è®¾åœ¨ `src/resources` ä¸‹æ”¾äº†ä¸€ä¸ªæ–‡ä»¶ origin.txtï¼Œæ–‡ä»¶çš„è·¯å¾„å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š

```java
FileUtil.getInputStream("origin.txt")
```

å‡è®¾æ–‡ä»¶æ”¾åœ¨ `src/resources/hutool` ç›®å½•ä¸‹ï¼Œåˆ™è·¯å¾„å‚æ•°æ”¹ä¸ºï¼š

```java
FileUtil.getInputStream("hutool/origin.txt")
```

### 05ã€å­—ç¬¦ä¸²å·¥å…·

Hutool å°è£…çš„å­—ç¬¦ä¸²å·¥å…·ç±» StrUtil å’Œ Apache Commons Lang åŒ…ä¸­çš„ StringUtils ç±»ä¼¼ï¼Œä½œè€…è®¤ä¸ºä¼˜åŠ¿åœ¨äº Str æ¯” String çŸ­ï¼Œå°½ç®¡æˆ‘ä¸è§‰å¾—ã€‚ä¸è¿‡ï¼Œæˆ‘å€’æ˜¯æŒºå–œæ¬¢å…¶ä¸­çš„ä¸€ä¸ªæ–¹æ³•çš„ï¼š

```java
String template = "{}ï¼Œä¸€æšæ²‰é»˜ä½†æœ‰è¶£çš„ç¨‹åºå‘˜ï¼Œå–œæ¬¢ä»–çš„æ–‡ç« çš„è¯ï¼Œè¯·å¾®ä¿¡æœç´¢{}";
String str = StrUtil.format(template, "æ²‰é»˜ç‹äºŒ", "æ²‰é»˜ç‹äºŒ");
// æ²‰é»˜ç‹äºŒï¼Œä¸€æšæ²‰é»˜ä½†æœ‰è¶£çš„ç¨‹åºå‘˜ï¼Œå–œæ¬¢ä»–çš„æ–‡ç« çš„è¯ï¼Œè¯·å¾®ä¿¡æœç´¢æ²‰é»˜ç‹äºŒ
```

### 06ã€åå°„å·¥å…·

åå°„æœºåˆ¶å¯ä»¥è®© Java å˜å¾—æ›´åŠ çµæ´»ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œåå°„å¯ä»¥åšåˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚Hutool å°è£…çš„åå°„å·¥å…· ReflectUtil åŒ…æ‹¬ï¼š

- è·å–æ„é€ æ–¹æ³•
- è·å–å­—æ®µ
- è·å–å­—æ®µå€¼
- è·å–æ–¹æ³•
- æ‰§è¡Œæ–¹æ³•ï¼ˆå¯¹è±¡æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼‰

```java
package com.itwanger.hutool.reflect;

import cn.hutool.core.util.ReflectUtil;

import java.lang.reflect.Constructor;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class ReflectDemo {
    private int id;

    public ReflectDemo() {
        System.out.println("æ„é€ æ–¹æ³•");
    }

    public void print() {
        System.out.println("æˆ‘æ˜¯æ²‰é»˜ç‹äºŒ");
    }

    public static void main(String[] args) throws IllegalAccessException {
        // æ„å»ºå¯¹è±¡
        ReflectDemo reflectDemo = ReflectUtil.newInstance(ReflectDemo.class);

        // è·å–æ„é€ æ–¹æ³•
        Constructor[] constructors = ReflectUtil.getConstructors(ReflectDemo.class);
        for (Constructor constructor : constructors) {
            System.out.println(constructor.getName());
        }

        // è·å–å­—æ®µ
        Field field = ReflectUtil.getField(ReflectDemo.class, "id");
        field.setInt(reflectDemo, 10);
        // è·å–å­—æ®µå€¼
        System.out.println(ReflectUtil.getFieldValue(reflectDemo, field));

        // è·å–æ‰€æœ‰æ–¹æ³•
        Method[] methods = ReflectUtil.getMethods(ReflectDemo.class);
        for (Method m : methods) {
            System.out.println(m.getName());
        }

        // è·å–æŒ‡å®šæ–¹æ³•
        Method method = ReflectUtil.getMethod(ReflectDemo.class, "print");
        System.out.println(method.getName());


        // æ‰§è¡Œæ–¹æ³•
        ReflectUtil.invoke(reflectDemo, "print");
    }
}
```

### 07ã€å‹ç¼©å·¥å…·

åœ¨ Java ä¸­ï¼Œå¯¹æ–‡ä»¶ã€æ–‡ä»¶å¤¹æ‰“åŒ…å‹ç¼©æ˜¯ä¸€ä»¶å¾ˆç¹ççš„äº‹æƒ…ï¼ŒHutool å°è£…çš„ ZipUtil é’ˆå¯¹ java.util.zip åŒ…åšäº†ä¼˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–¹æ³•æå®šå‹ç¼©å’Œè§£å‹ï¼Œå¹¶ä¸”è‡ªåŠ¨å¤„ç†æ–‡ä»¶å’Œç›®å½•çš„é—®é¢˜ï¼Œä¸å†éœ€è¦ç”¨æˆ·åˆ¤æ–­ï¼Œå¤§å¤§ç®€åŒ–çš„å‹ç¼©è§£å‹çš„å¤æ‚åº¦ã€‚

```java
ZipUtil.zip("hutool", "hutool.zip");
File unzip = ZipUtil.unzip("hutool.zip", "hutoolzip");
```

### 08ã€èº«ä»½è¯å·¥å…·

Hutool å°è£…çš„ IdcardUtil å¯ä»¥ç”¨æ¥å¯¹èº«ä»½è¯è¿›è¡ŒéªŒè¯ï¼Œæ”¯æŒå¤§é™† 15 ä½ã€18 ä½èº«ä»½è¯ï¼Œæ¸¯æ¾³å° 10 ä½èº«ä»½è¯ã€‚

```java
String ID_18 = "321083197812162119";
String ID_15 = "150102880730303";

boolean valid = IdcardUtil.isValidCard(ID_18);
boolean valid15 = IdcardUtil.isValidCard(ID_15);
```

### 09ã€æ‰©å±• HashMap

Java ä¸­çš„ HashMap æ˜¯å¼ºç±»å‹çš„ï¼Œè€Œ Hutool å°è£…çš„ Dict å¯¹é”®çš„ç±»å‹è¦æ±‚æ²¡é‚£ä¹ˆä¸¥æ ¼ã€‚

```java
Dict dict = Dict.create()
        .set("age", 18)
        .set("name", "æ²‰é»˜ç‹äºŒ")
        .set("birthday", DateTime.now());

int age = dict.getInt("age");
String name = dict.getStr("name");
```

### 10ã€æ§åˆ¶å°æ‰“å°

æœ¬åœ°ç¼–ç çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨ `System.out` æ‰“å°ç»“æœï¼Œä½†æ˜¯å¾€å¾€ä¸€äº›å¤æ‚çš„å¯¹è±¡ä¸æ”¯æŒç›´æ¥æ‰“å°ï¼Œæ¯”å¦‚è¯´æ•°ç»„ï¼Œéœ€è¦è°ƒç”¨ `Arrays.toString`ã€‚Hutool å°è£…çš„ Console ç±»å€Ÿé‰´äº† JavaScript ä¸­çš„ `console.log()`ï¼Œä½¿å¾—æ‰“å°å˜æˆäº†ä¸€ä¸ªéå¸¸ä¾¿æ·çš„æ–¹å¼ã€‚

```java
public class ConsoleDemo {
    public static void main(String[] args) {
        // æ‰“å°å­—ç¬¦ä¸²
        Console.log("æ²‰é»˜ç‹äºŒï¼Œä¸€æšæœ‰è¶£çš„ç¨‹åºå‘˜");

        // æ‰“å°å­—ç¬¦ä¸²æ¨¡æ¿
        Console.log("æ´›é˜³æ˜¯{}æœå¤éƒ½",13);

        int [] ints = {1,2,3,4};
        // æ‰“å°æ•°ç»„
        Console.log(ints);
    }
}
```

### 11ã€å­—æ®µéªŒè¯å™¨

åš Web å¼€å‘çš„æ—¶å€™ï¼Œåç«¯é€šå¸¸éœ€è¦å¯¹è¡¨å•æäº¤è¿‡æ¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ã€‚Hutool å°è£…çš„ Validator å¯ä»¥è¿›è¡Œå¾ˆå¤šæœ‰æ•ˆçš„æ¡ä»¶éªŒè¯ï¼š

- æ˜¯ä¸æ˜¯é‚®ç®±
- æ˜¯ä¸æ˜¯ IP V4ã€V6
- æ˜¯ä¸æ˜¯ç”µè¯å·ç 
- ç­‰ç­‰

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-05.png)

```java
Validator.isEmail("æ²‰é»˜ç‹äºŒ");
Validator.isMobile("itwanger.com");
```

### 12ã€åŒå‘æŸ¥æ‰¾ Map

Guava ä¸­æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„ Map ç»“æ„ï¼Œå«åš BiMapï¼Œå®ç°äº†ä¸€ç§åŒå‘æŸ¥æ‰¾çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ® key æŸ¥æ‰¾ valueï¼Œä¹Ÿå¯ä»¥æ ¹æ® value æŸ¥æ‰¾ keyï¼ŒHutool ä¹Ÿæä¾›è¿™ç§ Map ç»“æ„ã€‚

```java
BiMap<String, String> biMap = new BiMap<>(new HashMap<>());
biMap.put("wanger", "æ²‰é»˜ç‹äºŒ");
biMap.put("wangsan", "æ²‰é»˜ç‹ä¸‰");

// get value by key
biMap.get("wanger");
biMap.get("wangsan");

// get key by value
biMap.getKey("æ²‰é»˜ç‹äºŒ");
biMap.getKey("æ²‰é»˜ç‹ä¸‰");
```

åœ¨å®é™…çš„å¼€å‘å·¥ä½œä¸­ï¼Œå…¶å®æˆ‘æ›´å€¾å‘äºä½¿ç”¨ Guava çš„ BiMapï¼Œè€Œä¸æ˜¯ Hutool çš„ã€‚è¿™é‡Œæä¸€ä¸‹ï¼Œä¸»è¦æ˜¯æˆ‘å‘ç°äº† Hutool åœ¨çº¿æ–‡æ¡£ä¸Šçš„ä¸€å¤„é”™è¯¯ï¼Œæäº†ä¸ª issueï¼ˆä»ä¸­å¯ä»¥çœ‹å‡ºæˆ‘ä¸€é¢—ä¸€ä¸ä¸è‹Ÿçš„å¿ƒå’Œä¸€åŒæ¸…æ¾ˆæ˜äº®çš„å¤§çœ¼ç›å•Šï¼‰ã€‚

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-06.png)

### 13ã€å›¾ç‰‡å·¥å…·

Hutool å°è£…çš„ ImgUtil å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œç¼©æ”¾ã€è£å‰ªã€è½¬ä¸ºé»‘ç™½ã€åŠ æ°´å°ç­‰æ“ä½œã€‚

ç¼©æ”¾å›¾ç‰‡ï¼š

```java
ImgUtil.scale(
        FileUtil.file("hutool/wangsan.jpg"),
        FileUtil.file("hutool/wangsan_small.jpg"),
        0.5f
);
```

è£å‰ªå›¾ç‰‡ï¼š

```java
ImgUtil.cut(
        FileUtil.file("hutool/wangsan.jpg"),
        FileUtil.file("hutool/wangsan_cut.jpg"),
        new Rectangle(200, 200, 100, 100)
);
```

æ·»åŠ æ°´å°ï¼š

```java
ImgUtil.pressText(//
        FileUtil.file("hutool/wangsan.jpg"),
        FileUtil.file("hutool/wangsan_logo.jpg"),
        "æ²‰é»˜ç‹äºŒ", Color.WHITE,
        new Font("é»‘ä½“", Font.BOLD, 100),
        0,
        0,
        0.8f
);
```

è¶æœºè®©å¤§å®¶æ¬£èµä¸€ä¸‹äºŒå“¥å¸…æ°”çš„çœŸå®¹ã€‚

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/common-tool/hutool-07.png)

### 14ã€é…ç½®æ–‡ä»¶

>ä¼—æ‰€å‘¨çŸ¥ï¼ŒJava ä¸­å¹¿æ³›åº”ç”¨çš„é…ç½®æ–‡ä»¶ Properties å­˜åœ¨ä¸€ä¸ªç‰¹åˆ«å¤§çš„è¯Ÿç—…ï¼šä¸æ”¯æŒä¸­æ–‡ã€‚æ¯æ¬¡ä½¿ç”¨æ—¶ï¼Œå¦‚æœæƒ³å­˜æ”¾ä¸­æ–‡å­—ç¬¦ï¼Œå°±å¿…é¡»å€ŸåŠ© IDE ç›¸å…³æ’ä»¶æ‰èƒ½è½¬ä¸º Unicode ç¬¦å·ï¼Œè€Œè¿™ç§åäººç±»çš„ç¬¦å·åœ¨å‘½ä»¤è¡Œä¸‹æ ¹æœ¬æ²¡æ³•çœ‹ã€‚

äºæ˜¯ï¼ŒHutool çš„ Setting è¿ç”¨è€Œç”Ÿã€‚Setting é™¤äº†å…¼å®¹ Properties æ–‡ä»¶æ ¼å¼å¤–ï¼Œè¿˜æä¾›äº†ä¸€äº›ç‰¹æœ‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½åŒ…æ‹¬ï¼š

- å„ç§ç¼–ç æ–¹å¼æ”¯æŒ
- å˜é‡æ”¯æŒ
- åˆ†ç»„æ”¯æŒ

å…ˆæ•´ä¸ªé…ç½®æ–‡ä»¶ example.settingï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
name=æ²‰é»˜ç‹äºŒ
age=18
```

å†æ¥è¯»å–å’Œæ›´æ–°é…ç½®æ–‡ä»¶ï¼š

```java
public class SettingDemo {
    private final static String SETTING = "hutool/example.setting";
    public static void main(String[] args) {
        // åˆå§‹åŒ– Setting
        Setting setting = new Setting(SETTING);

        // è¯»å–
        setting.getStr("name", "æ²‰é»˜ç‹äºŒ");

        // åœ¨é…ç½®æ–‡ä»¶å˜æ›´æ—¶è‡ªåŠ¨åŠ è½½
        setting.autoLoad(true);

        // é€šè¿‡ä»£ç æ–¹å¼å¢åŠ é”®å€¼å¯¹
        setting.set("birthday", "2020å¹´09æœˆ29æ—¥");
        setting.store(SETTING);
    }
}
```

### 15ã€æ—¥å¿—å·¥å‚

Hutool å°è£…çš„æ—¥å¿—å·¥å‚ LogFactory å…¼å®¹äº†å„å¤§æ—¥å¿—æ¡†æ¶ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿéå¸¸ç®€ä¾¿ã€‚

```java
public class LogDemo {
    private static final Log log = LogFactory.get();

    public static void main(String[] args) {
        log.debug("éš¾å¾—ç³Šæ¶‚");
    }
}
```

å…ˆé€šè¿‡ `LogFactory.get()` è‡ªåŠ¨è¯†åˆ«å¼•å…¥çš„æ—¥å¿—æ¡†æ¶ï¼Œä»è€Œåˆ›å»ºå¯¹åº”æ—¥å¿—æ¡†æ¶çš„é—¨é¢ Log å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ `debug()`ã€`info()` ç­‰æ–¹æ³•è¾“å‡ºæ—¥å¿—ã€‚

å¦‚æœä¸æƒ³åˆ›å»º Log å¯¹è±¡çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ StaticLogï¼Œé¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªæä¾›äº†é™æ€æ–¹æ³•çš„æ—¥å¿—ç±»ã€‚

```java
StaticLog.info("çˆ½å•Š {}.", "æ²‰é»˜ç‹äºŒçš„æ–‡ç« ");
```

### 16ã€ç¼“å­˜å·¥å…·

CacheUtil æ˜¯ Hutool å°è£…çš„åˆ›å»ºç¼“å­˜çš„å¿«æ·å·¥å…·ç±»ï¼Œå¯ä»¥åˆ›å»ºä¸åŒçš„ç¼“å­˜å¯¹è±¡ï¼š

- FIFOCacheï¼šå…ˆå…¥å…ˆå‡ºï¼Œå…ƒç´ ä¸åœçš„åŠ å…¥ç¼“å­˜ç›´åˆ°ç¼“å­˜æ»¡ä¸ºæ­¢ï¼Œå½“ç¼“å­˜æ»¡æ—¶ï¼Œæ¸…ç†è¿‡æœŸç¼“å­˜å¯¹è±¡ï¼Œæ¸…ç†åä¾æ—§æ»¡åˆ™åˆ é™¤å…ˆå…¥çš„ç¼“å­˜ã€‚

```java
Cache<String, String> fifoCache = CacheUtil.newFIFOCache(3);
fifoCache.put("key1", "æ²‰é»˜ç‹ä¸€");
fifoCache.put("key2", "æ²‰é»˜ç‹äºŒ");
fifoCache.put("key3", "æ²‰é»˜ç‹ä¸‰");
fifoCache.put("key4", "æ²‰é»˜ç‹å››");

// å¤§å°ä¸º 3ï¼Œæ‰€ä»¥ key3 æ”¾å…¥å key1 è¢«æ¸…é™¤
String value1 = fifoCache.get("key1");
```

- LFUCacheï¼Œæœ€å°‘ä½¿ç”¨ï¼Œæ ¹æ®ä½¿ç”¨æ¬¡æ•°æ¥åˆ¤å®šå¯¹è±¡æ˜¯å¦è¢«æŒç»­ç¼“å­˜ï¼Œå½“ç¼“å­˜æ»¡æ—¶æ¸…ç†è¿‡æœŸå¯¹è±¡ï¼Œæ¸…ç†åä¾æ—§æ»¡çš„æƒ…å†µä¸‹æ¸…é™¤æœ€å°‘è®¿é—®çš„å¯¹è±¡å¹¶å°†å…¶ä»–å¯¹è±¡çš„è®¿é—®æ•°å‡å»è¿™ä¸ªæœ€å°‘è®¿é—®æ•°ï¼Œä»¥ä¾¿æ–°å¯¹è±¡è¿›å…¥åå¯ä»¥å…¬å¹³è®¡æ•°ã€‚

```java
Cache<String, String> lfuCache = CacheUtil.newLFUCache(3);

lfuCache.put("key1", "æ²‰é»˜ç‹ä¸€");
// ä½¿ç”¨æ¬¡æ•°+1
lfuCache.get("key1");
lfuCache.put("key2", "æ²‰é»˜ç‹äºŒ");
lfuCache.put("key3", "æ²‰é»˜ç‹ä¸‰");
lfuCache.put("key4", "æ²‰é»˜ç‹å››");

// ç”±äºç¼“å­˜å®¹é‡åªæœ‰ 3ï¼Œå½“åŠ å…¥ç¬¬ 4 ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæœ€å°‘ä½¿ç”¨çš„å°†è¢«ç§»é™¤ï¼ˆ2,3è¢«ç§»é™¤ï¼‰
String value2 = lfuCache.get("key2");
String value3 = lfuCache.get("key3");
```

- LRUCacheï¼Œæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ï¼Œæ ¹æ®ä½¿ç”¨æ—¶é—´æ¥åˆ¤å®šå¯¹è±¡æ˜¯å¦è¢«æŒç»­ç¼“å­˜ï¼Œå½“å¯¹è±¡è¢«è®¿é—®æ—¶æ”¾å…¥ç¼“å­˜ï¼Œå½“ç¼“å­˜æ»¡äº†ï¼Œæœ€ä¹…æœªè¢«ä½¿ç”¨çš„å¯¹è±¡å°†è¢«ç§»é™¤ã€‚

```java
Cache<String, String> lruCache = CacheUtil.newLRUCache(3);

lruCache.put("key1", "æ²‰é»˜ç‹ä¸€");
lruCache.put("key2", "æ²‰é»˜ç‹äºŒ");
lruCache.put("key3", "æ²‰é»˜ç‹ä¸‰");
// ä½¿ç”¨æ—¶é—´è¿‘äº†
lruCache.get("key1");
lruCache.put("key4", "æ²‰é»˜ç‹å››");

// ç”±äºç¼“å­˜å®¹é‡åªæœ‰ 3ï¼Œå½“åŠ å…¥ç¬¬ 4 ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæœ€ä¹…ä½¿ç”¨çš„å°†è¢«ç§»é™¤ï¼ˆ2ï¼‰
String value2 = lruCache.get("key2");
System.out.println(value2);
```

### 17ã€åŠ å¯†è§£å¯†

åŠ å¯†åˆ†ä¸ºä¸‰ç§ï¼š

- å¯¹ç§°åŠ å¯†ï¼ˆsymmetricï¼‰ï¼Œä¾‹å¦‚ï¼šAESã€DES ç­‰
- éå¯¹ç§°åŠ å¯†ï¼ˆasymmetricï¼‰ï¼Œä¾‹å¦‚ï¼šRSAã€DSA ç­‰
- æ‘˜è¦åŠ å¯†ï¼ˆdigestï¼‰ï¼Œä¾‹å¦‚ï¼šMD5ã€SHA-1ã€SHA-256ã€HMAC ç­‰

Hutool é’ˆå¯¹è¿™ä¸‰ç§æƒ…å†µéƒ½åšäº†å°è£…ï¼š

- å¯¹ç§°åŠ å¯† SymmetricCrypto
- éå¯¹ç§°åŠ å¯† AsymmetricCrypto
- æ‘˜è¦åŠ å¯† Digester

å¿«é€ŸåŠ å¯†å·¥å…·ç±» SecureUtil æœ‰ä»¥ä¸‹è¿™äº›æ–¹æ³•ï¼š

1ï¼‰å¯¹ç§°åŠ å¯†

- SecureUtil.aes
- SecureUtil.des

2ï¼‰éå¯¹ç§°åŠ å¯†

- SecureUtil.rsa
- SecureUtil.dsa

3ï¼‰æ‘˜è¦åŠ å¯†

- SecureUtil.md5
- SecureUtil.sha1
- SecureUtil.hmac
- SecureUtil.hmacMd5
- SecureUtil.hmacSha1

åªå†™ä¸€ä¸ªç®€å•çš„ä¾‹å­ä½œä¸ºå‚è€ƒï¼š

```java
public class SecureUtilDemo {
    static AES aes = SecureUtil.aes();
    public static void main(String[] args) {
        String encry = aes.encryptHex("æ²‰é»˜ç‹äºŒ");
        System.out.println(encry);
        String oo = aes.decryptStr(encry);
        System.out.println(oo);
    }
}
```

### 18ã€å…¶ä»–ç±»åº“

Hutool ä¸­çš„ç±»åº“è¿˜æœ‰å¾ˆå¤šï¼Œå°¤å…¶æ˜¯ä¸€äº›å¯¹ç¬¬ä¸‰æ–¹ç±»åº“çš„è¿›ä¸€æ­¥å°è£…ï¼Œæ¯”å¦‚é‚®ä»¶å·¥å…· MailUtilï¼ŒäºŒç»´ç å·¥å…· QrCodeUtilï¼ŒEmoji å·¥å…· EmojiUtilï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥å‚è€ƒ Hutool çš„å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.hutool.cn/

é¡¹ç›®æºç åœ°å€ï¼š[https://github.com/looly/hutool](https://github.com/looly/hutool)

**Java ç¨‹åºå‘˜è¿›é˜¶ä¹‹è·¯ï¼Œè¯¥ä¸“æ é£è¶£å¹½é»˜ã€é€šä¿—æ˜“æ‡‚ï¼Œå¯¹ Java çˆ±å¥½è€…æåº¦å‹å¥½å’Œèˆ’é€‚ğŸ˜„ï¼Œå†…å®¹åŒ…æ‹¬ä½†ä¸é™äº Java åŸºç¡€ã€Java é›†åˆæ¡†æ¶ã€Java IOã€Java å¹¶å‘ç¼–ç¨‹ã€Java è™šæ‹Ÿæœºã€Java ä¼ä¸šçº§å¼€å‘ï¼ˆSSMã€Spring Bootï¼‰ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹**ã€‚

GitHub åœ°å€ï¼š[https://github.com/itwanger/toBeBetterJavaer](https://github.com/itwanger/toBeBetterJavaer)

äº®ç™½ç‰ˆå’Œæš—é»‘ç‰ˆçš„ PDF ä¹Ÿå‡†å¤‡å¥½äº†å‘¢ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æˆä¸ºæ›´å¥½çš„ Java å·¥ç¨‹å¸ˆå§ï¼Œä¸€èµ·å†²ï¼

![](https://cdn.jsdelivr.net/gh/itwanger/toBeBetterJavaer/images/tobebetterjavaer-01.png)